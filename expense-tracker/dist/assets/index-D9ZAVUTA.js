(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();function Dm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Uc={exports:{}},jo={},bc={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function D_(){if(mp)return Ee;mp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),V=Symbol.iterator;function U(R){return R===null||typeof R!="object"?null:(R=V&&R[V]||R["@@iterator"],typeof R=="function"?R:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,Y={};function W(R,j,ne){this.props=R,this.context=j,this.refs=Y,this.updater=ne||z}W.prototype.isReactComponent={},W.prototype.setState=function(R,j){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,j,"setState")},W.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ve(){}ve.prototype=W.prototype;function ye(R,j,ne){this.props=R,this.context=j,this.refs=Y,this.updater=ne||z}var _e=ye.prototype=new ve;_e.constructor=ye,J(_e,W.prototype),_e.isPureReactComponent=!0;var Te=Array.isArray,Xe=Object.prototype.hasOwnProperty,Pe={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function I(R,j,ne){var ue,ge={},De=null,ke=null;if(j!=null)for(ue in j.ref!==void 0&&(ke=j.ref),j.key!==void 0&&(De=""+j.key),j)Xe.call(j,ue)&&!D.hasOwnProperty(ue)&&(ge[ue]=j[ue]);var xe=arguments.length-2;if(xe===1)ge.children=ne;else if(1<xe){for(var Ne=Array(xe),Rt=0;Rt<xe;Rt++)Ne[Rt]=arguments[Rt+2];ge.children=Ne}if(R&&R.defaultProps)for(ue in xe=R.defaultProps,xe)ge[ue]===void 0&&(ge[ue]=xe[ue]);return{$$typeof:i,type:R,key:De,ref:ke,props:ge,_owner:Pe.current}}function A(R,j){return{$$typeof:i,type:R.type,key:j,ref:R.ref,props:R.props,_owner:R._owner}}function k(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function x(R){var j={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ne){return j[ne]})}var N=/\/+/g;function S(R,j){return typeof R=="object"&&R!==null&&R.key!=null?x(""+R.key):j.toString(36)}function Ye(R,j,ne,ue,ge){var De=typeof R;(De==="undefined"||De==="boolean")&&(R=null);var ke=!1;if(R===null)ke=!0;else switch(De){case"string":case"number":ke=!0;break;case"object":switch(R.$$typeof){case i:case e:ke=!0}}if(ke)return ke=R,ge=ge(ke),R=ue===""?"."+S(ke,0):ue,Te(ge)?(ne="",R!=null&&(ne=R.replace(N,"$&/")+"/"),Ye(ge,j,ne,"",function(Rt){return Rt})):ge!=null&&(k(ge)&&(ge=A(ge,ne+(!ge.key||ke&&ke.key===ge.key?"":(""+ge.key).replace(N,"$&/")+"/")+R)),j.push(ge)),1;if(ke=0,ue=ue===""?".":ue+":",Te(R))for(var xe=0;xe<R.length;xe++){De=R[xe];var Ne=ue+S(De,xe);ke+=Ye(De,j,ne,Ne,ge)}else if(Ne=U(R),typeof Ne=="function")for(R=Ne.call(R),xe=0;!(De=R.next()).done;)De=De.value,Ne=ue+S(De,xe++),ke+=Ye(De,j,ne,Ne,ge);else if(De==="object")throw j=String(R),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return ke}function St(R,j,ne){if(R==null)return R;var ue=[],ge=0;return Ye(R,ue,"","",function(De){return j.call(ne,De,ge++)}),ue}function At(R){if(R._status===-1){var j=R._result;j=j(),j.then(function(ne){(R._status===0||R._status===-1)&&(R._status=1,R._result=ne)},function(ne){(R._status===0||R._status===-1)&&(R._status=2,R._result=ne)}),R._status===-1&&(R._status=0,R._result=j)}if(R._status===1)return R._result.default;throw R._result}var Fe={current:null},X={transition:null},oe={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:X,ReactCurrentOwner:Pe};return Ee.Children={map:St,forEach:function(R,j,ne){St(R,function(){j.apply(this,arguments)},ne)},count:function(R){var j=0;return St(R,function(){j++}),j},toArray:function(R){return St(R,function(j){return j})||[]},only:function(R){if(!k(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ee.Component=W,Ee.Fragment=n,Ee.Profiler=a,Ee.PureComponent=ye,Ee.StrictMode=s,Ee.Suspense=y,Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ee.cloneElement=function(R,j,ne){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ue=J({},R.props),ge=R.key,De=R.ref,ke=R._owner;if(j!=null){if(j.ref!==void 0&&(De=j.ref,ke=Pe.current),j.key!==void 0&&(ge=""+j.key),R.type&&R.type.defaultProps)var xe=R.type.defaultProps;for(Ne in j)Xe.call(j,Ne)&&!D.hasOwnProperty(Ne)&&(ue[Ne]=j[Ne]===void 0&&xe!==void 0?xe[Ne]:j[Ne])}var Ne=arguments.length-2;if(Ne===1)ue.children=ne;else if(1<Ne){xe=Array(Ne);for(var Rt=0;Rt<Ne;Rt++)xe[Rt]=arguments[Rt+2];ue.children=xe}return{$$typeof:i,type:R.type,key:ge,ref:De,props:ue,_owner:ke}},Ee.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:c,_context:R},R.Consumer=R},Ee.createElement=I,Ee.createFactory=function(R){var j=I.bind(null,R);return j.type=R,j},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(R){return{$$typeof:m,render:R}},Ee.isValidElement=k,Ee.lazy=function(R){return{$$typeof:T,_payload:{_status:-1,_result:R},_init:At}},Ee.memo=function(R,j){return{$$typeof:v,type:R,compare:j===void 0?null:j}},Ee.startTransition=function(R){var j=X.transition;X.transition={};try{R()}finally{X.transition=j}},Ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ee.useCallback=function(R,j){return Fe.current.useCallback(R,j)},Ee.useContext=function(R){return Fe.current.useContext(R)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(R){return Fe.current.useDeferredValue(R)},Ee.useEffect=function(R,j){return Fe.current.useEffect(R,j)},Ee.useId=function(){return Fe.current.useId()},Ee.useImperativeHandle=function(R,j,ne){return Fe.current.useImperativeHandle(R,j,ne)},Ee.useInsertionEffect=function(R,j){return Fe.current.useInsertionEffect(R,j)},Ee.useLayoutEffect=function(R,j){return Fe.current.useLayoutEffect(R,j)},Ee.useMemo=function(R,j){return Fe.current.useMemo(R,j)},Ee.useReducer=function(R,j,ne){return Fe.current.useReducer(R,j,ne)},Ee.useRef=function(R){return Fe.current.useRef(R)},Ee.useState=function(R){return Fe.current.useState(R)},Ee.useSyncExternalStore=function(R,j,ne){return Fe.current.useSyncExternalStore(R,j,ne)},Ee.useTransition=function(){return Fe.current.useTransition()},Ee.version="18.2.0",Ee}var gp;function Th(){return gp||(gp=1,bc.exports=D_()),bc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function x_(){if(yp)return jo;yp=1;var i=Th(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,y,v){var T,V={},U=null,z=null;v!==void 0&&(U=""+v),y.key!==void 0&&(U=""+y.key),y.ref!==void 0&&(z=y.ref);for(T in y)s.call(y,T)&&!c.hasOwnProperty(T)&&(V[T]=y[T]);if(m&&m.defaultProps)for(T in y=m.defaultProps,y)V[T]===void 0&&(V[T]=y[T]);return{$$typeof:e,type:m,key:U,ref:z,props:V,_owner:a.current}}return jo.Fragment=n,jo.jsx=f,jo.jsxs=f,jo}var _p;function N_(){return _p||(_p=1,Uc.exports=x_()),Uc.exports}var Wt=N_(),$o=Th();const L_=Dm($o);var Cl={},zc={exports:{}},Ht={},Bc={exports:{}},jc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function O_(){return vp||(vp=1,function(i){function e(X,oe){var R=X.length;X.push(oe);e:for(;0<R;){var j=R-1>>>1,ne=X[j];if(0<a(ne,oe))X[j]=oe,X[R]=ne,R=j;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],R=X.pop();if(R!==oe){X[0]=R;e:for(var j=0,ne=X.length,ue=ne>>>1;j<ue;){var ge=2*(j+1)-1,De=X[ge],ke=ge+1,xe=X[ke];if(0>a(De,R))ke<ne&&0>a(xe,De)?(X[j]=xe,X[ke]=R,j=ke):(X[j]=De,X[ge]=R,j=ge);else if(ke<ne&&0>a(xe,R))X[j]=xe,X[ke]=R,j=ke;else break e}}return oe}function a(X,oe){var R=X.sortIndex-oe.sortIndex;return R!==0?R:X.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var y=[],v=[],T=1,V=null,U=3,z=!1,J=!1,Y=!1,W=typeof setTimeout=="function"?setTimeout:null,ve=typeof clearTimeout=="function"?clearTimeout:null,ye=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _e(X){for(var oe=n(v);oe!==null;){if(oe.callback===null)s(v);else if(oe.startTime<=X)s(v),oe.sortIndex=oe.expirationTime,e(y,oe);else break;oe=n(v)}}function Te(X){if(Y=!1,_e(X),!J)if(n(y)!==null)J=!0,At(Xe);else{var oe=n(v);oe!==null&&Fe(Te,oe.startTime-X)}}function Xe(X,oe){J=!1,Y&&(Y=!1,ve(I),I=-1),z=!0;var R=U;try{for(_e(oe),V=n(y);V!==null&&(!(V.expirationTime>oe)||X&&!x());){var j=V.callback;if(typeof j=="function"){V.callback=null,U=V.priorityLevel;var ne=j(V.expirationTime<=oe);oe=i.unstable_now(),typeof ne=="function"?V.callback=ne:V===n(y)&&s(y),_e(oe)}else s(y);V=n(y)}if(V!==null)var ue=!0;else{var ge=n(v);ge!==null&&Fe(Te,ge.startTime-oe),ue=!1}return ue}finally{V=null,U=R,z=!1}}var Pe=!1,D=null,I=-1,A=5,k=-1;function x(){return!(i.unstable_now()-k<A)}function N(){if(D!==null){var X=i.unstable_now();k=X;var oe=!0;try{oe=D(!0,X)}finally{oe?S():(Pe=!1,D=null)}}else Pe=!1}var S;if(typeof ye=="function")S=function(){ye(N)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,St=Ye.port2;Ye.port1.onmessage=N,S=function(){St.postMessage(null)}}else S=function(){W(N,0)};function At(X){D=X,Pe||(Pe=!0,S())}function Fe(X,oe){I=W(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_continueExecution=function(){J||z||(J=!0,At(Xe))},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return U},i.unstable_getFirstCallbackNode=function(){return n(y)},i.unstable_next=function(X){switch(U){case 1:case 2:case 3:var oe=3;break;default:oe=U}var R=U;U=oe;try{return X()}finally{U=R}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var R=U;U=X;try{return oe()}finally{U=R}},i.unstable_scheduleCallback=function(X,oe,R){var j=i.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?j+R:j):R=j,X){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=R+ne,X={id:T++,callback:oe,priorityLevel:X,startTime:R,expirationTime:ne,sortIndex:-1},R>j?(X.sortIndex=R,e(v,X),n(y)===null&&X===n(v)&&(Y?(ve(I),I=-1):Y=!0,Fe(Te,R-j))):(X.sortIndex=ne,e(y,X),J||z||(J=!0,At(Xe))),X},i.unstable_shouldYield=x,i.unstable_wrapCallback=function(X){var oe=U;return function(){var R=U;U=oe;try{return X.apply(this,arguments)}finally{U=R}}}}(jc)),jc}var Ep;function M_(){return Ep||(Ep=1,Bc.exports=O_()),Bc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function F_(){if(wp)return Ht;wp=1;var i=Th(),e=M_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),y=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T={},V={};function U(t){return y.call(V,t)?!0:y.call(T,t)?!1:v.test(t)?V[t]=!0:(T[t]=!0,!1)}function z(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function J(t,r,o,u){if(r===null||typeof r>"u"||z(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Y(t,r,o,u,h,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var W={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){W[t]=new Y(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];W[r]=new Y(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){W[t]=new Y(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){W[t]=new Y(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){W[t]=new Y(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){W[t]=new Y(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){W[t]=new Y(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){W[t]=new Y(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){W[t]=new Y(t,5,!1,t.toLowerCase(),null,!1,!1)});var ve=/[\-:]([a-z])/g;function ye(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(ve,ye);W[r]=new Y(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(ve,ye);W[r]=new Y(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(ve,ye);W[r]=new Y(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){W[t]=new Y(t,1,!1,t.toLowerCase(),null,!1,!1)}),W.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){W[t]=new Y(t,1,!1,t.toLowerCase(),null,!0,!0)});function _e(t,r,o,u){var h=W.hasOwnProperty(r)?W[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(J(r,o,h,u)&&(o=null),u||h===null?U(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var Te=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xe=Symbol.for("react.element"),Pe=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),Ye=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),X=Symbol.iterator;function oe(t){return t===null||typeof t!="object"?null:(t=X&&t[X]||t["@@iterator"],typeof t=="function"?t:null)}var R=Object.assign,j;function ne(t){if(j===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);j=r&&r[1]||""}return`
`+j+t}var ue=!1;function ge(t,r){if(!t||ue)return"";ue=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(F){var u=F}Reflect.construct(t,[],r)}else{try{r.call()}catch(F){u=F}t.call(r.prototype)}else{try{throw Error()}catch(F){u=F}t()}}catch(F){if(F&&u&&typeof F.stack=="string"){for(var h=F.stack.split(`
`),p=u.stack.split(`
`),_=h.length-1,w=p.length-1;1<=_&&0<=w&&h[_]!==p[w];)w--;for(;1<=_&&0<=w;_--,w--)if(h[_]!==p[w]){if(_!==1||w!==1)do if(_--,w--,0>w||h[_]!==p[w]){var C=`
`+h[_].replace(" at new "," at ");return t.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",t.displayName)),C}while(1<=_&&0<=w);break}}}finally{ue=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?ne(t):""}function De(t){switch(t.tag){case 5:return ne(t.type);case 16:return ne("Lazy");case 13:return ne("Suspense");case 19:return ne("SuspenseList");case 0:case 2:case 15:return t=ge(t.type,!1),t;case 11:return t=ge(t.type.render,!1),t;case 1:return t=ge(t.type,!0),t;default:return""}}function ke(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case Pe:return"Portal";case A:return"Profiler";case I:return"StrictMode";case S:return"Suspense";case Ye:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case N:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case St:return r=t.displayName||null,r!==null?r:ke(t.type)||"Memo";case At:r=t._payload,t=t._init;try{return ke(t(r))}catch{}}return null}function xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(r);case 8:return r===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ne(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rt(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Ui(t){var r=Rt(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Qn(t){t._valueTracker||(t._valueTracker=Ui(t))}function bi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Rt(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function yr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Zr(t,r){var o=r.checked;return R({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Ne(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ks(t,r){r=r.checked,r!=null&&_e(t,"checked",r,!1)}function Qs(t,r){Ks(t,r);var o=Ne(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Bi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Bi(t,r.type,Ne(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function fa(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Bi(t,r,o){(r!=="number"||yr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Xn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ne(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Gs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ji(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Ne(o)}}function $i(t,r){var o=Ne(r.value),u=Ne(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Xs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function it(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?it(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yn,Ys=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Yn=Yn||document.createElement("div"),Yn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Yn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function _r(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(t){ti.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ei[r]=ei[t]})});function Js(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ei.hasOwnProperty(t)&&ei[t]?(""+r).trim():r+"px"}function Zs(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=Js(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var eo=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(t,r){if(r){if(eo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function no(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function qi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hi=null,nn=null,xn=null;function Wi(t){if(t=Co(t)){if(typeof Hi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=ja(r),Hi(t.stateNode,t.type,r))}}function Nn(t){nn?xn?xn.push(t):xn=[t]:nn=t}function ro(){if(nn){var t=nn,r=xn;if(xn=nn=null,Wi(t),r)for(t=0;t<r.length;t++)Wi(r[t])}}function ri(t,r){return t(r)}function io(){}var Jn=!1;function so(t,r,o){if(Jn)return t(r,o);Jn=!0;try{return ri(t,r,o)}finally{Jn=!1,(nn!==null||xn!==null)&&(io(),ro())}}function Je(t,r){var o=t.stateNode;if(o===null)return null;var u=ja(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Ki=!1;if(m)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){Ki=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{Ki=!1}function ii(t,r,o,u,h,p,_,w,C){var F=Array.prototype.slice.call(arguments,3);try{r.apply(o,F)}catch(q){this.onError(q)}}var si=!1,Qi=null,yn=!1,oo=null,fu={onError:function(t){si=!0,Qi=t}};function Gi(t,r,o,u,h,p,_,w,C){si=!1,Qi=null,ii.apply(fu,arguments)}function da(t,r,o,u,h,p,_,w,C){if(Gi.apply(this,arguments),si){if(si){var F=Qi;si=!1,Qi=null}else throw Error(n(198));yn||(yn=!0,oo=F)}}function _n(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function oi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function vn(t){if(_n(t)!==t)throw Error(n(188))}function pa(t){var r=t.alternate;if(!r){if(r=_n(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return vn(h),t;if(p===u)return vn(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var _=!1,w=h.child;w;){if(w===o){_=!0,o=h,u=p;break}if(w===u){_=!0,u=h,o=p;break}w=w.sibling}if(!_){for(w=p.child;w;){if(w===o){_=!0,o=p,u=h;break}if(w===u){_=!0,u=p,o=h;break}w=w.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ao(t){return t=pa(t),t!==null?Xi(t):null}function Xi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Xi(t);if(r!==null)return r;t=t.sibling}return null}var Yi=e.unstable_scheduleCallback,lo=e.unstable_cancelCallback,ma=e.unstable_shouldYield,du=e.unstable_requestPaint,be=e.unstable_now,ga=e.unstable_getCurrentPriorityLevel,ai=e.unstable_ImmediatePriority,vr=e.unstable_UserBlockingPriority,rn=e.unstable_NormalPriority,uo=e.unstable_LowPriority,ya=e.unstable_IdlePriority,li=null,Gt=null;function _a(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(li,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Ea,co=Math.log,va=Math.LN2;function Ea(t){return t>>>=0,t===0?32:31-(co(t)/va|0)|0}var Ji=64,Zi=4194304;function Er(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ui(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var w=_&~h;w!==0?u=Er(w):(p&=_,p!==0&&(u=Er(p)))}else _=o&~h,_!==0?u=Er(_):p!==0&&(u=Er(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Lt(r),h=1<<o,u|=t[o],r&=~h;return u}function pu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-Lt(p),w=1<<_,C=h[_];C===-1?(!(w&o)||w&u)&&(h[_]=pu(w,r)):C<=r&&(t.expiredLanes|=w),p&=~w}}function Xt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ci(){var t=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),t}function wr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Tr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Lt(r),t[r]=o}function Ue(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Lt(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function Ir(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Lt(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ie=0;function Sr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var wa,es,Ta,Ia,Sa,ho=!1,Ln=[],yt=null,En=null,wn=null,Ar=new Map,sn=new Map,On=[],mu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(t,r){switch(t){case"focusin":case"focusout":yt=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ar.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":sn.delete(r.pointerId)}}function Ut(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=Co(r),r!==null&&es(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function gu(t,r,o,u,h){switch(r){case"focusin":return yt=Ut(yt,t,r,o,u,h),!0;case"dragenter":return En=Ut(En,t,r,o,u,h),!0;case"mouseover":return wn=Ut(wn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ar.set(p,Ut(Ar.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,sn.set(p,Ut(sn.get(p)||null,t,r,o,u,h)),!0}return!1}function Ra(t){var r=mi(t.target);if(r!==null){var o=_n(r);if(o!==null){if(r=o.tag,r===13){if(r=oi(o),r!==null){t.blockedOn=r,Sa(t.priority,function(){Ta(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function er(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ts(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ni=u,o.target.dispatchEvent(u),ni=null}else return r=Co(o),r!==null&&es(r),t.blockedOn=o,!1;r.shift()}return!0}function hi(t,r,o){er(t)&&o.delete(r)}function Ca(){ho=!1,yt!==null&&er(yt)&&(yt=null),En!==null&&er(En)&&(En=null),wn!==null&&er(wn)&&(wn=null),Ar.forEach(hi),sn.forEach(hi)}function Tn(t,r){t.blockedOn===r&&(t.blockedOn=null,ho||(ho=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ca)))}function In(t){function r(h){return Tn(h,t)}if(0<Ln.length){Tn(Ln[0],t);for(var o=1;o<Ln.length;o++){var u=Ln[o];u.blockedOn===t&&(u.blockedOn=null)}}for(yt!==null&&Tn(yt,t),En!==null&&Tn(En,t),wn!==null&&Tn(wn,t),Ar.forEach(r),sn.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)Ra(o),o.blockedOn===null&&On.shift()}var tr=Te.ReactCurrentBatchConfig,Rr=!0;function $e(t,r,o,u){var h=Ie,p=tr.transition;tr.transition=null;try{Ie=1,fo(t,r,o,u)}finally{Ie=h,tr.transition=p}}function yu(t,r,o,u){var h=Ie,p=tr.transition;tr.transition=null;try{Ie=4,fo(t,r,o,u)}finally{Ie=h,tr.transition=p}}function fo(t,r,o,u){if(Rr){var h=ts(t,r,o,u);if(h===null)Pu(t,r,u,fi,o),Aa(t,u);else if(gu(h,t,r,o,u))u.stopPropagation();else if(Aa(t,u),r&4&&-1<mu.indexOf(t)){for(;h!==null;){var p=Co(h);if(p!==null&&wa(p),p=ts(t,r,o,u),p===null&&Pu(t,r,u,fi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Pu(t,r,u,null,o)}}var fi=null;function ts(t,r,o,u){if(fi=null,t=qi(u),t=mi(t),t!==null)if(r=_n(t),r===null)t=null;else if(o=r.tag,o===13){if(t=oi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return fi=t,null}function po(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ga()){case ai:return 1;case vr:return 4;case rn:case uo:return 16;case ya:return 536870912;default:return 16}default:return 16}}var Yt=null,ns=null,bt=null;function mo(){if(bt)return bt;var t,r=ns,o=r.length,u,h="value"in Yt?Yt.value:Yt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var _=o-t;for(u=1;u<=_&&r[o-u]===h[p-u];u++);return bt=h.slice(t,1<u?1-u:void 0)}function rs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Mn(){return!0}function go(){return!1}function _t(t){function r(o,u,h,p,_){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(o=t[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Mn:go,this.isPropagationStopped=go,this}return R(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=_t(Sn),Fn=R({},Sn,{view:0,detail:0}),_u=_t(Fn),ss,nr,Cr,di=R({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(ss=t.screenX-Cr.screenX,nr=t.screenY-Cr.screenY):nr=ss=0,Cr=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),os=_t(di),yo=R({},di,{dataTransfer:0}),Pa=_t(yo),as=R({},Fn,{relatedTarget:0}),ls=_t(as),ka=R({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=_t(ka),Va=R({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Da=_t(Va),xa=R({},Sn,{data:0}),_o=_t(xa),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function La(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Na[t])?!!r[t]:!1}function Un(){return La}var l=R({},Fn,{key:function(t){if(t.key){var r=us[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ot[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=_t(l),g=R({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=_t(g),L=R({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),b=_t(L),G=R({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=_t(G),ot=R({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ae=_t(ot),ft=[9,13,27,32],tt=m&&"CompositionEvent"in window,on=null;m&&"documentMode"in document&&(on=document.documentMode);var Jt=m&&"TextEvent"in window&&!on,pi=m&&(!tt||on&&8<on&&11>=on),cs=" ",lf=!1;function uf(t,r){switch(t){case"keyup":return ft.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function ky(t,r){switch(t){case"compositionend":return cf(r);case"keypress":return r.which!==32?null:(lf=!0,cs);case"textInput":return t=r.data,t===cs&&lf?null:t;default:return null}}function Vy(t,r){if(hs)return t==="compositionend"||!tt&&uf(t,r)?(t=mo(),bt=ns=Yt=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return pi&&r.locale!=="ko"?null:r.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Dy[t.type]:r==="textarea"}function ff(t,r,o,u){Nn(u),r=ba(r,"onChange"),0<r.length&&(o=new is("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var vo=null,Eo=null;function xy(t){Vf(t,0)}function Oa(t){var r=gs(t);if(bi(r))return t}function Ny(t,r){if(t==="change")return r}var df=!1;if(m){var vu;if(m){var Eu="oninput"in document;if(!Eu){var pf=document.createElement("div");pf.setAttribute("oninput","return;"),Eu=typeof pf.oninput=="function"}vu=Eu}else vu=!1;df=vu&&(!document.documentMode||9<document.documentMode)}function mf(){vo&&(vo.detachEvent("onpropertychange",gf),Eo=vo=null)}function gf(t){if(t.propertyName==="value"&&Oa(Eo)){var r=[];ff(r,Eo,t,qi(t)),so(xy,r)}}function Ly(t,r,o){t==="focusin"?(mf(),vo=r,Eo=o,vo.attachEvent("onpropertychange",gf)):t==="focusout"&&mf()}function Oy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Oa(Eo)}function My(t,r){if(t==="click")return Oa(r)}function Fy(t,r){if(t==="input"||t==="change")return Oa(r)}function Uy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var An=typeof Object.is=="function"?Object.is:Uy;function wo(t,r){if(An(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!y.call(r,h)||!An(t[h],r[h]))return!1}return!0}function yf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _f(t,r){var o=yf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=yf(o)}}function vf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?vf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ef(){for(var t=window,r=yr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=yr(t.document)}return r}function wu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function by(t){var r=Ef(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&vf(o.ownerDocument.documentElement,o)){if(u!==null&&wu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=_f(o,p);var _=_f(o,u);h&&_&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zy=m&&"documentMode"in document&&11>=document.documentMode,fs=null,Tu=null,To=null,Iu=!1;function wf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Iu||fs==null||fs!==yr(u)||(u=fs,"selectionStart"in u&&wu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),To&&wo(To,u)||(To=u,u=ba(Tu,"onSelect"),0<u.length&&(r=new is("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=fs)))}function Ma(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ds={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Su={},Tf={};m&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Fa(t){if(Su[t])return Su[t];if(!ds[t])return t;var r=ds[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Tf)return Su[t]=r[o];return t}var If=Fa("animationend"),Sf=Fa("animationiteration"),Af=Fa("animationstart"),Rf=Fa("transitionend"),Cf=new Map,Pf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(t,r){Cf.set(t,r),c(r,[t])}for(var Au=0;Au<Pf.length;Au++){var Ru=Pf[Au],By=Ru.toLowerCase(),jy=Ru[0].toUpperCase()+Ru.slice(1);Pr(By,"on"+jy)}Pr(If,"onAnimationEnd"),Pr(Sf,"onAnimationIteration"),Pr(Af,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Rf,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("cancel close invalid load scroll toggle".split(" ").concat(Io));function kf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,da(u,r,void 0,t),t.currentTarget=null}function Vf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var _=u.length-1;0<=_;_--){var w=u[_],C=w.instance,F=w.currentTarget;if(w=w.listener,C!==p&&h.isPropagationStopped())break e;kf(h,w,F),p=C}else for(_=0;_<u.length;_++){if(w=u[_],C=w.instance,F=w.currentTarget,w=w.listener,C!==p&&h.isPropagationStopped())break e;kf(h,w,F),p=C}}}if(yn)throw t=oo,yn=!1,oo=null,t}function Be(t,r){var o=r[Lu];o===void 0&&(o=r[Lu]=new Set);var u=t+"__bubble";o.has(u)||(Df(r,t,2,!1),o.add(u))}function Cu(t,r,o){var u=0;r&&(u|=4),Df(o,t,u,r)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function So(t){if(!t[Ua]){t[Ua]=!0,s.forEach(function(o){o!=="selectionchange"&&($y.has(o)||Cu(o,!1,t),Cu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ua]||(r[Ua]=!0,Cu("selectionchange",!1,r))}}function Df(t,r,o,u){switch(po(r)){case 1:var h=$e;break;case 4:h=yu;break;default:h=fo}o=h.bind(null,r,o,t),h=void 0,!Ki||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Pu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(_===4)for(_=u.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;w!==null;){if(_=mi(w),_===null)return;if(C=_.tag,C===5||C===6){u=p=_;continue e}w=w.parentNode}}u=u.return}so(function(){var F=p,q=qi(o),H=[];e:{var $=Cf.get(t);if($!==void 0){var Z=is,re=t;switch(t){case"keypress":if(rs(o)===0)break e;case"keydown":case"keyup":Z=d;break;case"focusin":re="focus",Z=ls;break;case"focusout":re="blur",Z=ls;break;case"beforeblur":case"afterblur":Z=ls;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Pa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=b;break;case If:case Sf:case Af:Z=rr;break;case Rf:Z=Me;break;case"scroll":Z=_u;break;case"wheel":Z=Ae;break;case"copy":case"cut":case"paste":Z=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=E}var ie=(r&4)!==0,Ze=!ie&&t==="scroll",O=ie?$!==null?$+"Capture":null:$;ie=[];for(var P=F,M;P!==null;){M=P;var Q=M.stateNode;if(M.tag===5&&Q!==null&&(M=Q,O!==null&&(Q=Je(P,O),Q!=null&&ie.push(Ao(P,Q,M)))),Ze)break;P=P.return}0<ie.length&&($=new Z($,re,null,o,q),H.push({event:$,listeners:ie}))}}if(!(r&7)){e:{if($=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",$&&o!==ni&&(re=o.relatedTarget||o.fromElement)&&(mi(re)||re[ir]))break e;if((Z||$)&&($=q.window===q?q:($=q.ownerDocument)?$.defaultView||$.parentWindow:window,Z?(re=o.relatedTarget||o.toElement,Z=F,re=re?mi(re):null,re!==null&&(Ze=_n(re),re!==Ze||re.tag!==5&&re.tag!==6)&&(re=null)):(Z=null,re=F),Z!==re)){if(ie=os,Q="onMouseLeave",O="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(ie=E,Q="onPointerLeave",O="onPointerEnter",P="pointer"),Ze=Z==null?$:gs(Z),M=re==null?$:gs(re),$=new ie(Q,P+"leave",Z,o,q),$.target=Ze,$.relatedTarget=M,Q=null,mi(q)===F&&(ie=new ie(O,P+"enter",re,o,q),ie.target=M,ie.relatedTarget=Ze,Q=ie),Ze=Q,Z&&re)t:{for(ie=Z,O=re,P=0,M=ie;M;M=ps(M))P++;for(M=0,Q=O;Q;Q=ps(Q))M++;for(;0<P-M;)ie=ps(ie),P--;for(;0<M-P;)O=ps(O),M--;for(;P--;){if(ie===O||O!==null&&ie===O.alternate)break t;ie=ps(ie),O=ps(O)}ie=null}else ie=null;Z!==null&&xf(H,$,Z,ie,!1),re!==null&&Ze!==null&&xf(H,Ze,re,ie,!0)}}e:{if($=F?gs(F):window,Z=$.nodeName&&$.nodeName.toLowerCase(),Z==="select"||Z==="input"&&$.type==="file")var se=Ny;else if(hf($))if(df)se=Fy;else{se=Oy;var ae=Ly}else(Z=$.nodeName)&&Z.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(se=My);if(se&&(se=se(t,F))){ff(H,se,o,q);break e}ae&&ae(t,$,F),t==="focusout"&&(ae=$._wrapperState)&&ae.controlled&&$.type==="number"&&Bi($,"number",$.value)}switch(ae=F?gs(F):window,t){case"focusin":(hf(ae)||ae.contentEditable==="true")&&(fs=ae,Tu=F,To=null);break;case"focusout":To=Tu=fs=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,wf(H,o,q);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":wf(H,o,q)}var le;if(tt)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else hs?uf(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(pi&&o.locale!=="ko"&&(hs||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&hs&&(le=mo()):(Yt=q,ns="value"in Yt?Yt.value:Yt.textContent,hs=!0)),ae=ba(F,fe),0<ae.length&&(fe=new _o(fe,t,null,o,q),H.push({event:fe,listeners:ae}),le?fe.data=le:(le=cf(o),le!==null&&(fe.data=le)))),(le=Jt?ky(t,o):Vy(t,o))&&(F=ba(F,"onBeforeInput"),0<F.length&&(q=new _o("onBeforeInput","beforeinput",null,o,q),H.push({event:q,listeners:F}),q.data=le))}Vf(H,r)})}function Ao(t,r,o){return{instance:t,listener:r,currentTarget:o}}function ba(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=Je(t,o),p!=null&&u.unshift(Ao(t,p,h)),p=Je(t,r),p!=null&&u.push(Ao(t,p,h))),t=t.return}return u}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xf(t,r,o,u,h){for(var p=r._reactName,_=[];o!==null&&o!==u;){var w=o,C=w.alternate,F=w.stateNode;if(C!==null&&C===u)break;w.tag===5&&F!==null&&(w=F,h?(C=Je(o,p),C!=null&&_.unshift(Ao(o,C,w))):h||(C=Je(o,p),C!=null&&_.push(Ao(o,C,w)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var qy=/\r\n?/g,Hy=/\u0000|\uFFFD/g;function Nf(t){return(typeof t=="string"?t:""+t).replace(qy,`
`).replace(Hy,"")}function za(t,r,o){if(r=Nf(r),Nf(t)!==r&&o)throw Error(n(425))}function Ba(){}var ku=null,Vu=null;function Du(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xu=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,Ky=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(t){return Lf.resolve(null).then(t).catch(Qy)}:xu;function Qy(t){setTimeout(function(){throw t})}function Nu(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function kr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Of(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),bn="__reactFiber$"+ms,Ro="__reactProps$"+ms,ir="__reactContainer$"+ms,Lu="__reactEvents$"+ms,Gy="__reactListeners$"+ms,Xy="__reactHandles$"+ms;function mi(t){var r=t[bn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ir]||o[bn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Of(t);t!==null;){if(o=t[bn])return o;t=Of(t)}return r}t=o,o=t.parentNode}return null}function Co(t){return t=t[bn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function ja(t){return t[Ro]||null}var Ou=[],ys=-1;function Vr(t){return{current:t}}function je(t){0>ys||(t.current=Ou[ys],Ou[ys]=null,ys--)}function ze(t,r){ys++,Ou[ys]=t.current,t.current=r}var Dr={},Ct=Vr(Dr),zt=Vr(!1),gi=Dr;function _s(t,r){var o=t.type.contextTypes;if(!o)return Dr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Bt(t){return t=t.childContextTypes,t!=null}function $a(){je(zt),je(Ct)}function Mf(t,r,o){if(Ct.current!==Dr)throw Error(n(168));ze(Ct,r),ze(zt,o)}function Ff(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,xe(t)||"Unknown",h));return R({},o,u)}function qa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Dr,gi=Ct.current,ze(Ct,t),ze(zt,zt.current),!0}function Uf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Ff(t,r,gi),u.__reactInternalMemoizedMergedChildContext=t,je(zt),je(Ct),ze(Ct,t)):je(zt),ze(zt,o)}var sr=null,Ha=!1,Mu=!1;function bf(t){sr===null?sr=[t]:sr.push(t)}function Yy(t){Ha=!0,bf(t)}function xr(){if(!Mu&&sr!==null){Mu=!0;var t=0,r=Ie;try{var o=sr;for(Ie=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}sr=null,Ha=!1}catch(h){throw sr!==null&&(sr=sr.slice(t+1)),Yi(ai,xr),h}finally{Ie=r,Mu=!1}}return null}var vs=[],Es=0,Wa=null,Ka=0,an=[],ln=0,yi=null,or=1,ar="";function _i(t,r){vs[Es++]=Ka,vs[Es++]=Wa,Wa=t,Ka=r}function zf(t,r,o){an[ln++]=or,an[ln++]=ar,an[ln++]=yi,yi=t;var u=or;t=ar;var h=32-Lt(u)-1;u&=~(1<<h),o+=1;var p=32-Lt(r)+h;if(30<p){var _=h-h%5;p=(u&(1<<_)-1).toString(32),u>>=_,h-=_,or=1<<32-Lt(r)+h|o<<h|u,ar=p+t}else or=1<<p|o<<h|u,ar=t}function Fu(t){t.return!==null&&(_i(t,1),zf(t,1,0))}function Uu(t){for(;t===Wa;)Wa=vs[--Es],vs[Es]=null,Ka=vs[--Es],vs[Es]=null;for(;t===yi;)yi=an[--ln],an[ln]=null,ar=an[--ln],an[ln]=null,or=an[--ln],an[ln]=null}var Zt=null,en=null,qe=!1,Rn=null;function Bf(t,r){var o=fn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function jf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Zt=t,en=kr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Zt=t,en=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=yi!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=fn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,Zt=t,en=null,!0):!1;default:return!1}}function bu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zu(t){if(qe){var r=en;if(r){var o=r;if(!jf(t,r)){if(bu(t))throw Error(n(418));r=kr(o.nextSibling);var u=Zt;r&&jf(t,r)?Bf(u,o):(t.flags=t.flags&-4097|2,qe=!1,Zt=t)}}else{if(bu(t))throw Error(n(418));t.flags=t.flags&-4097|2,qe=!1,Zt=t}}}function $f(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Zt=t}function Qa(t){if(t!==Zt)return!1;if(!qe)return $f(t),qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Du(t.type,t.memoizedProps)),r&&(r=en)){if(bu(t))throw qf(),Error(n(418));for(;r;)Bf(t,r),r=kr(r.nextSibling)}if($f(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){en=kr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}en=null}}else en=Zt?kr(t.stateNode.nextSibling):null;return!0}function qf(){for(var t=en;t;)t=kr(t.nextSibling)}function ws(){en=Zt=null,qe=!1}function Bu(t){Rn===null?Rn=[t]:Rn.push(t)}var Jy=Te.ReactCurrentBatchConfig;function Cn(t,r){if(t&&t.defaultProps){r=R({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}var Ga=Vr(null),Xa=null,Ts=null,ju=null;function $u(){ju=Ts=Xa=null}function qu(t){var r=Ga.current;je(Ga),t._currentValue=r}function Hu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Is(t,r){Xa=t,ju=Ts=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(jt=!0),t.firstContext=null)}function un(t){var r=t._currentValue;if(ju!==t)if(t={context:t,memoizedValue:r,next:null},Ts===null){if(Xa===null)throw Error(n(308));Ts=t,Xa.dependencies={lanes:0,firstContext:t}}else Ts=Ts.next=t;return r}var vi=null;function Wu(t){vi===null?vi=[t]:vi.push(t)}function Hf(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,Wu(r)):(o.next=h.next,h.next=o),r.interleaved=o,lr(t,u)}function lr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Nr=!1;function Ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Lr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Ve&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,lr(t,o)}return h=u.interleaved,h===null?(r.next=r,Wu(u)):(r.next=h.next,h.next=r),u.interleaved=r,lr(t,o)}function Ya(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ir(t,o)}}function Kf(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ja(t,r,o,u){var h=t.updateQueue;Nr=!1;var p=h.firstBaseUpdate,_=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,F=C.next;C.next=null,_===null?p=F:_.next=F,_=C;var q=t.alternate;q!==null&&(q=q.updateQueue,w=q.lastBaseUpdate,w!==_&&(w===null?q.firstBaseUpdate=F:w.next=F,q.lastBaseUpdate=C))}if(p!==null){var H=h.baseState;_=0,q=F=C=null,w=p;do{var $=w.lane,Z=w.eventTime;if((u&$)===$){q!==null&&(q=q.next={eventTime:Z,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=t,ie=w;switch($=r,Z=o,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){H=re.call(Z,H,$);break e}H=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,$=typeof re=="function"?re.call(Z,H,$):re,$==null)break e;H=R({},H,$);break e;case 2:Nr=!0}}w.callback!==null&&w.lane!==0&&(t.flags|=64,$=h.effects,$===null?h.effects=[w]:$.push(w))}else Z={eventTime:Z,lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},q===null?(F=q=Z,C=H):q=q.next=Z,_|=$;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);if(q===null&&(C=H),h.baseState=C,h.firstBaseUpdate=F,h.lastBaseUpdate=q,r=h.shared.interleaved,r!==null){h=r;do _|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Ti|=_,t.lanes=_,t.memoizedState=H}}function Qf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var Gf=new i.Component().refs;function Qu(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:R({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Za={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=Ft(),h=Ur(t),p=ur(u,h);p.payload=r,o!=null&&(p.callback=o),r=Lr(t,p,h),r!==null&&(Vn(r,t,h,u),Ya(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=Ft(),h=Ur(t),p=ur(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Lr(t,p,h),r!==null&&(Vn(r,t,h,u),Ya(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=Ft(),u=Ur(t),h=ur(o,u);h.tag=2,r!=null&&(h.callback=r),r=Lr(t,h,u),r!==null&&(Vn(r,t,u,o),Ya(r,t,u))}};function Xf(t,r,o,u,h,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,_):r.prototype&&r.prototype.isPureReactComponent?!wo(o,u)||!wo(h,p):!0}function Yf(t,r,o){var u=!1,h=Dr,p=r.contextType;return typeof p=="object"&&p!==null?p=un(p):(h=Bt(r)?gi:Ct.current,u=r.contextTypes,p=(u=u!=null)?_s(t,h):Dr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Za,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Jf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Za.enqueueReplaceState(r,r.state,null)}function Gu(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs=Gf,Ku(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=un(p):(p=Bt(r)?gi:Ct.current,h.context=_s(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Qu(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Za.enqueueReplaceState(h,h.state,null),Ja(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Po(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var w=h.refs;w===Gf&&(w=h.refs={}),_===null?delete w[p]:w[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function el(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Zf(t){var r=t._init;return r(t._payload)}function ed(t){function r(O,P){if(t){var M=O.deletions;M===null?(O.deletions=[P],O.flags|=16):M.push(P)}}function o(O,P){if(!t)return null;for(;P!==null;)r(O,P),P=P.sibling;return null}function u(O,P){for(O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(O,P){return O=zr(O,P),O.index=0,O.sibling=null,O}function p(O,P,M){return O.index=M,t?(M=O.alternate,M!==null?(M=M.index,M<P?(O.flags|=2,P):M):(O.flags|=2,P)):(O.flags|=1048576,P)}function _(O){return t&&O.alternate===null&&(O.flags|=2),O}function w(O,P,M,Q){return P===null||P.tag!==6?(P=xc(M,O.mode,Q),P.return=O,P):(P=h(P,M),P.return=O,P)}function C(O,P,M,Q){var se=M.type;return se===D?q(O,P,M.props.children,Q,M.key):P!==null&&(P.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&Zf(se)===P.type)?(Q=h(P,M.props),Q.ref=Po(O,P,M),Q.return=O,Q):(Q=vl(M.type,M.key,M.props,null,O.mode,Q),Q.ref=Po(O,P,M),Q.return=O,Q)}function F(O,P,M,Q){return P===null||P.tag!==4||P.stateNode.containerInfo!==M.containerInfo||P.stateNode.implementation!==M.implementation?(P=Nc(M,O.mode,Q),P.return=O,P):(P=h(P,M.children||[]),P.return=O,P)}function q(O,P,M,Q,se){return P===null||P.tag!==7?(P=Ri(M,O.mode,Q,se),P.return=O,P):(P=h(P,M),P.return=O,P)}function H(O,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return P=xc(""+P,O.mode,M),P.return=O,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Xe:return M=vl(P.type,P.key,P.props,null,O.mode,M),M.ref=Po(O,null,P),M.return=O,M;case Pe:return P=Nc(P,O.mode,M),P.return=O,P;case At:var Q=P._init;return H(O,Q(P._payload),M)}if(Gn(P)||oe(P))return P=Ri(P,O.mode,M,null),P.return=O,P;el(O,P)}return null}function $(O,P,M,Q){var se=P!==null?P.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return se!==null?null:w(O,P,""+M,Q);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:return M.key===se?C(O,P,M,Q):null;case Pe:return M.key===se?F(O,P,M,Q):null;case At:return se=M._init,$(O,P,se(M._payload),Q)}if(Gn(M)||oe(M))return se!==null?null:q(O,P,M,Q,null);el(O,M)}return null}function Z(O,P,M,Q,se){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return O=O.get(M)||null,w(P,O,""+Q,se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case Xe:return O=O.get(Q.key===null?M:Q.key)||null,C(P,O,Q,se);case Pe:return O=O.get(Q.key===null?M:Q.key)||null,F(P,O,Q,se);case At:var ae=Q._init;return Z(O,P,M,ae(Q._payload),se)}if(Gn(Q)||oe(Q))return O=O.get(M)||null,q(P,O,Q,se,null);el(P,Q)}return null}function re(O,P,M,Q){for(var se=null,ae=null,le=P,fe=P=0,mt=null;le!==null&&fe<M.length;fe++){le.index>fe?(mt=le,le=null):mt=le.sibling;var Le=$(O,le,M[fe],Q);if(Le===null){le===null&&(le=mt);break}t&&le&&Le.alternate===null&&r(O,le),P=p(Le,P,fe),ae===null?se=Le:ae.sibling=Le,ae=Le,le=mt}if(fe===M.length)return o(O,le),qe&&_i(O,fe),se;if(le===null){for(;fe<M.length;fe++)le=H(O,M[fe],Q),le!==null&&(P=p(le,P,fe),ae===null?se=le:ae.sibling=le,ae=le);return qe&&_i(O,fe),se}for(le=u(O,le);fe<M.length;fe++)mt=Z(le,O,fe,M[fe],Q),mt!==null&&(t&&mt.alternate!==null&&le.delete(mt.key===null?fe:mt.key),P=p(mt,P,fe),ae===null?se=mt:ae.sibling=mt,ae=mt);return t&&le.forEach(function(Br){return r(O,Br)}),qe&&_i(O,fe),se}function ie(O,P,M,Q){var se=oe(M);if(typeof se!="function")throw Error(n(150));if(M=se.call(M),M==null)throw Error(n(151));for(var ae=se=null,le=P,fe=P=0,mt=null,Le=M.next();le!==null&&!Le.done;fe++,Le=M.next()){le.index>fe?(mt=le,le=null):mt=le.sibling;var Br=$(O,le,Le.value,Q);if(Br===null){le===null&&(le=mt);break}t&&le&&Br.alternate===null&&r(O,le),P=p(Br,P,fe),ae===null?se=Br:ae.sibling=Br,ae=Br,le=mt}if(Le.done)return o(O,le),qe&&_i(O,fe),se;if(le===null){for(;!Le.done;fe++,Le=M.next())Le=H(O,Le.value,Q),Le!==null&&(P=p(Le,P,fe),ae===null?se=Le:ae.sibling=Le,ae=Le);return qe&&_i(O,fe),se}for(le=u(O,le);!Le.done;fe++,Le=M.next())Le=Z(le,O,fe,Le.value,Q),Le!==null&&(t&&Le.alternate!==null&&le.delete(Le.key===null?fe:Le.key),P=p(Le,P,fe),ae===null?se=Le:ae.sibling=Le,ae=Le);return t&&le.forEach(function(V_){return r(O,V_)}),qe&&_i(O,fe),se}function Ze(O,P,M,Q){if(typeof M=="object"&&M!==null&&M.type===D&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Xe:e:{for(var se=M.key,ae=P;ae!==null;){if(ae.key===se){if(se=M.type,se===D){if(ae.tag===7){o(O,ae.sibling),P=h(ae,M.props.children),P.return=O,O=P;break e}}else if(ae.elementType===se||typeof se=="object"&&se!==null&&se.$$typeof===At&&Zf(se)===ae.type){o(O,ae.sibling),P=h(ae,M.props),P.ref=Po(O,ae,M),P.return=O,O=P;break e}o(O,ae);break}else r(O,ae);ae=ae.sibling}M.type===D?(P=Ri(M.props.children,O.mode,Q,M.key),P.return=O,O=P):(Q=vl(M.type,M.key,M.props,null,O.mode,Q),Q.ref=Po(O,P,M),Q.return=O,O=Q)}return _(O);case Pe:e:{for(ae=M.key;P!==null;){if(P.key===ae)if(P.tag===4&&P.stateNode.containerInfo===M.containerInfo&&P.stateNode.implementation===M.implementation){o(O,P.sibling),P=h(P,M.children||[]),P.return=O,O=P;break e}else{o(O,P);break}else r(O,P);P=P.sibling}P=Nc(M,O.mode,Q),P.return=O,O=P}return _(O);case At:return ae=M._init,Ze(O,P,ae(M._payload),Q)}if(Gn(M))return re(O,P,M,Q);if(oe(M))return ie(O,P,M,Q);el(O,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,P!==null&&P.tag===6?(o(O,P.sibling),P=h(P,M),P.return=O,O=P):(o(O,P),P=xc(M,O.mode,Q),P.return=O,O=P),_(O)):o(O,P)}return Ze}var Ss=ed(!0),td=ed(!1),ko={},zn=Vr(ko),Vo=Vr(ko),Do=Vr(ko);function Ei(t){if(t===ko)throw Error(n(174));return t}function Xu(t,r){switch(ze(Do,r),ze(Vo,t),ze(zn,ko),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:st(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=st(r,t)}je(zn),ze(zn,r)}function As(){je(zn),je(Vo),je(Do)}function nd(t){Ei(Do.current);var r=Ei(zn.current),o=st(r,t.type);r!==o&&(ze(Vo,t),ze(zn,o))}function Yu(t){Vo.current===t&&(je(zn),je(Vo))}var He=Vr(0);function tl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ju=[];function Zu(){for(var t=0;t<Ju.length;t++)Ju[t]._workInProgressVersionPrimary=null;Ju.length=0}var nl=Te.ReactCurrentDispatcher,ec=Te.ReactCurrentBatchConfig,wi=0,We=null,at=null,dt=null,rl=!1,xo=!1,No=0,Zy=0;function Pt(){throw Error(n(321))}function tc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!An(t[o],r[o]))return!1;return!0}function nc(t,r,o,u,h,p){if(wi=p,We=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,nl.current=t===null||t.memoizedState===null?r_:i_,t=o(u,h),xo){p=0;do{if(xo=!1,No=0,25<=p)throw Error(n(301));p+=1,dt=at=null,r.updateQueue=null,nl.current=s_,t=o(u,h)}while(xo)}if(nl.current=ol,r=at!==null&&at.next!==null,wi=0,dt=at=We=null,rl=!1,r)throw Error(n(300));return t}function rc(){var t=No!==0;return No=0,t}function Bn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?We.memoizedState=dt=t:dt=dt.next=t,dt}function cn(){if(at===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var r=dt===null?We.memoizedState:dt.next;if(r!==null)dt=r,at=t;else{if(t===null)throw Error(n(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},dt===null?We.memoizedState=dt=t:dt=dt.next=t}return dt}function Lo(t,r){return typeof r=="function"?r(t):r}function ic(t){var r=cn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=at,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var _=h.next;h.next=p.next,p.next=_}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var w=_=null,C=null,F=p;do{var q=F.lane;if((wi&q)===q)C!==null&&(C=C.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),u=F.hasEagerState?F.eagerState:t(u,F.action);else{var H={lane:q,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};C===null?(w=C=H,_=u):C=C.next=H,We.lanes|=q,Ti|=q}F=F.next}while(F!==null&&F!==p);C===null?_=u:C.next=w,An(u,r.memoizedState)||(jt=!0),r.memoizedState=u,r.baseState=_,r.baseQueue=C,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,We.lanes|=p,Ti|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function sc(t){var r=cn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var _=h=h.next;do p=t(p,_.action),_=_.next;while(_!==h);An(p,r.memoizedState)||(jt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function rd(){}function id(t,r){var o=We,u=cn(),h=r(),p=!An(u.memoizedState,h);if(p&&(u.memoizedState=h,jt=!0),u=u.queue,oc(ad.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||dt!==null&&dt.memoizedState.tag&1){if(o.flags|=2048,Oo(9,od.bind(null,o,u,h,r),void 0,null),pt===null)throw Error(n(349));wi&30||sd(o,r,h)}return h}function sd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=We.updateQueue,r===null?(r={lastEffect:null,stores:null},We.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function od(t,r,o,u){r.value=o,r.getSnapshot=u,ld(r)&&ud(t)}function ad(t,r,o){return o(function(){ld(r)&&ud(t)})}function ld(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!An(t,o)}catch{return!0}}function ud(t){var r=lr(t,1);r!==null&&Vn(r,t,1,-1)}function cd(t){var r=Bn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:t},r.queue=t,t=t.dispatch=n_.bind(null,We,t),[r.memoizedState,t]}function Oo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=We.updateQueue,r===null?(r={lastEffect:null,stores:null},We.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function hd(){return cn().memoizedState}function il(t,r,o,u){var h=Bn();We.flags|=t,h.memoizedState=Oo(1|r,o,void 0,u===void 0?null:u)}function sl(t,r,o,u){var h=cn();u=u===void 0?null:u;var p=void 0;if(at!==null){var _=at.memoizedState;if(p=_.destroy,u!==null&&tc(u,_.deps)){h.memoizedState=Oo(r,o,p,u);return}}We.flags|=t,h.memoizedState=Oo(1|r,o,p,u)}function fd(t,r){return il(8390656,8,t,r)}function oc(t,r){return sl(2048,8,t,r)}function dd(t,r){return sl(4,2,t,r)}function pd(t,r){return sl(4,4,t,r)}function md(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function gd(t,r,o){return o=o!=null?o.concat([t]):null,sl(4,4,md.bind(null,r,t),o)}function ac(){}function yd(t,r){var o=cn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&tc(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function _d(t,r){var o=cn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&tc(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function vd(t,r,o){return wi&21?(An(o,r)||(o=ci(),We.lanes|=o,Ti|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,jt=!0),t.memoizedState=o)}function e_(t,r){var o=Ie;Ie=o!==0&&4>o?o:4,t(!0);var u=ec.transition;ec.transition={};try{t(!1),r()}finally{Ie=o,ec.transition=u}}function Ed(){return cn().memoizedState}function t_(t,r,o){var u=Ur(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},wd(t))Td(r,o);else if(o=Hf(t,r,o,u),o!==null){var h=Ft();Vn(o,t,u,h),Id(o,r,u)}}function n_(t,r,o){var u=Ur(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(wd(t))Td(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,w=p(_,o);if(h.hasEagerState=!0,h.eagerState=w,An(w,_)){var C=r.interleaved;C===null?(h.next=h,Wu(r)):(h.next=C.next,C.next=h),r.interleaved=h;return}}catch{}finally{}o=Hf(t,r,h,u),o!==null&&(h=Ft(),Vn(o,t,u,h),Id(o,r,u))}}function wd(t){var r=t.alternate;return t===We||r!==null&&r===We}function Td(t,r){xo=rl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Id(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ir(t,o)}}var ol={readContext:un,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},r_={readContext:un,useCallback:function(t,r){return Bn().memoizedState=[t,r===void 0?null:r],t},useContext:un,useEffect:fd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,il(4194308,4,md.bind(null,r,t),o)},useLayoutEffect:function(t,r){return il(4194308,4,t,r)},useInsertionEffect:function(t,r){return il(4,2,t,r)},useMemo:function(t,r){var o=Bn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=Bn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=t_.bind(null,We,t),[u.memoizedState,t]},useRef:function(t){var r=Bn();return t={current:t},r.memoizedState=t},useState:cd,useDebugValue:ac,useDeferredValue:function(t){return Bn().memoizedState=t},useTransition:function(){var t=cd(!1),r=t[0];return t=e_.bind(null,t[1]),Bn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=We,h=Bn();if(qe){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),pt===null)throw Error(n(349));wi&30||sd(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,fd(ad.bind(null,u,p,t),[t]),u.flags|=2048,Oo(9,od.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=Bn(),r=pt.identifierPrefix;if(qe){var o=ar,u=or;o=(u&~(1<<32-Lt(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=No++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Zy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},i_={readContext:un,useCallback:yd,useContext:un,useEffect:oc,useImperativeHandle:gd,useInsertionEffect:dd,useLayoutEffect:pd,useMemo:_d,useReducer:ic,useRef:hd,useState:function(){return ic(Lo)},useDebugValue:ac,useDeferredValue:function(t){var r=cn();return vd(r,at.memoizedState,t)},useTransition:function(){var t=ic(Lo)[0],r=cn().memoizedState;return[t,r]},useMutableSource:rd,useSyncExternalStore:id,useId:Ed,unstable_isNewReconciler:!1},s_={readContext:un,useCallback:yd,useContext:un,useEffect:oc,useImperativeHandle:gd,useInsertionEffect:dd,useLayoutEffect:pd,useMemo:_d,useReducer:sc,useRef:hd,useState:function(){return sc(Lo)},useDebugValue:ac,useDeferredValue:function(t){var r=cn();return at===null?r.memoizedState=t:vd(r,at.memoizedState,t)},useTransition:function(){var t=sc(Lo)[0],r=cn().memoizedState;return[t,r]},useMutableSource:rd,useSyncExternalStore:id,useId:Ed,unstable_isNewReconciler:!1};function Rs(t,r){try{var o="",u=r;do o+=De(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function lc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function uc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var o_=typeof WeakMap=="function"?WeakMap:Map;function Sd(t,r,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){dl||(dl=!0,Sc=u),uc(t,r)},o}function Ad(t,r,o){o=ur(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){uc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){uc(t,r),typeof u!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Rd(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new o_;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=E_.bind(null,t,r,o),r.then(t,t))}function Cd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Pd(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ur(-1,1),r.tag=2,Lr(o,r,1))),o.lanes|=1),t)}var a_=Te.ReactCurrentOwner,jt=!1;function Mt(t,r,o,u){r.child=t===null?td(r,null,o,u):Ss(r,t.child,o,u)}function kd(t,r,o,u,h){o=o.render;var p=r.ref;return Is(r,h),u=nc(t,r,o,u,p,h),o=rc(),t!==null&&!jt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(qe&&o&&Fu(r),r.flags|=1,Mt(t,r,u,h),r.child)}function Vd(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!Dc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,Dd(t,r,p,u,h)):(t=vl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:wo,o(_,u)&&t.ref===r.ref)return cr(t,r,h)}return r.flags|=1,t=zr(p,u),t.ref=r.ref,t.return=r,r.child=t}function Dd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(wo(p,u)&&t.ref===r.ref)if(jt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(jt=!0);else return r.lanes=t.lanes,cr(t,r,h)}return cc(t,r,o,u,h)}function xd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(Ps,tn),tn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,ze(Ps,tn),tn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,ze(Ps,tn),tn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,ze(Ps,tn),tn|=u;return Mt(t,r,h,o),r.child}function Nd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function cc(t,r,o,u,h){var p=Bt(o)?gi:Ct.current;return p=_s(r,p),Is(r,h),o=nc(t,r,o,u,p,h),u=rc(),t!==null&&!jt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(qe&&u&&Fu(r),r.flags|=1,Mt(t,r,o,h),r.child)}function Ld(t,r,o,u,h){if(Bt(o)){var p=!0;qa(r)}else p=!1;if(Is(r,h),r.stateNode===null)ll(t,r),Yf(r,o,u),Gu(r,o,u,h),u=!0;else if(t===null){var _=r.stateNode,w=r.memoizedProps;_.props=w;var C=_.context,F=o.contextType;typeof F=="object"&&F!==null?F=un(F):(F=Bt(o)?gi:Ct.current,F=_s(r,F));var q=o.getDerivedStateFromProps,H=typeof q=="function"||typeof _.getSnapshotBeforeUpdate=="function";H||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==u||C!==F)&&Jf(r,_,u,F),Nr=!1;var $=r.memoizedState;_.state=$,Ja(r,u,_,h),C=r.memoizedState,w!==u||$!==C||zt.current||Nr?(typeof q=="function"&&(Qu(r,o,q,u),C=r.memoizedState),(w=Nr||Xf(r,o,w,u,$,C,F))?(H||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=C),_.props=u,_.state=C,_.context=F,u=w):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,Wf(t,r),w=r.memoizedProps,F=r.type===r.elementType?w:Cn(r.type,w),_.props=F,H=r.pendingProps,$=_.context,C=o.contextType,typeof C=="object"&&C!==null?C=un(C):(C=Bt(o)?gi:Ct.current,C=_s(r,C));var Z=o.getDerivedStateFromProps;(q=typeof Z=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==H||$!==C)&&Jf(r,_,u,C),Nr=!1,$=r.memoizedState,_.state=$,Ja(r,u,_,h);var re=r.memoizedState;w!==H||$!==re||zt.current||Nr?(typeof Z=="function"&&(Qu(r,o,Z,u),re=r.memoizedState),(F=Nr||Xf(r,o,F,u,$,re,C)||!1)?(q||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,re,C),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,re,C)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=re),_.props=u,_.state=re,_.context=C,u=F):(typeof _.componentDidUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),u=!1)}return hc(t,r,o,u,p,h)}function hc(t,r,o,u,h,p){Nd(t,r);var _=(r.flags&128)!==0;if(!u&&!_)return h&&Uf(r,o,!1),cr(t,r,p);u=r.stateNode,a_.current=r;var w=_&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&_?(r.child=Ss(r,t.child,null,p),r.child=Ss(r,null,w,p)):Mt(t,r,w,p),r.memoizedState=u.state,h&&Uf(r,o,!0),r.child}function Od(t){var r=t.stateNode;r.pendingContext?Mf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Mf(t,r.context,!1),Xu(t,r.containerInfo)}function Md(t,r,o,u,h){return ws(),Bu(h),r.flags|=256,Mt(t,r,o,u),r.child}var fc={dehydrated:null,treeContext:null,retryLane:0};function dc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Fd(t,r,o){var u=r.pendingProps,h=He.current,p=!1,_=(r.flags&128)!==0,w;if((w=_)||(w=t!==null&&t.memoizedState===null?!1:(h&2)!==0),w?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),ze(He,h&1),t===null)return zu(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=u.children,t=u.fallback,p?(u=r.mode,p=r.child,_={mode:"hidden",children:_},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=El(_,u,0,null),t=Ri(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=dc(o),r.memoizedState=fc,t):pc(r,_));if(h=t.memoizedState,h!==null&&(w=h.dehydrated,w!==null))return l_(t,r,_,u,w,h,o);if(p){p=u.fallback,_=r.mode,h=t.child,w=h.sibling;var C={mode:"hidden",children:u.children};return!(_&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=C,r.deletions=null):(u=zr(h,C),u.subtreeFlags=h.subtreeFlags&14680064),w!==null?p=zr(w,p):(p=Ri(p,_,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,_=t.child.memoizedState,_=_===null?dc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=fc,u}return p=t.child,t=p.sibling,u=zr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function pc(t,r){return r=El({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function al(t,r,o,u){return u!==null&&Bu(u),Ss(r,t.child,null,o),t=pc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function l_(t,r,o,u,h,p,_){if(o)return r.flags&256?(r.flags&=-257,u=lc(Error(n(422))),al(t,r,_,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=El({mode:"visible",children:u.children},h,0,null),p=Ri(p,h,_,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&Ss(r,t.child,null,_),r.child.memoizedState=dc(_),r.memoizedState=fc,p);if(!(r.mode&1))return al(t,r,_,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var w=u.dgst;return u=w,p=Error(n(419)),u=lc(p,u,void 0),al(t,r,_,u)}if(w=(_&t.childLanes)!==0,jt||w){if(u=pt,u!==null){switch(_&-_){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|_)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,lr(t,h),Vn(u,t,h,-1))}return Vc(),u=lc(Error(n(421))),al(t,r,_,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=w_.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,en=kr(h.nextSibling),Zt=r,qe=!0,Rn=null,t!==null&&(an[ln++]=or,an[ln++]=ar,an[ln++]=yi,or=t.id,ar=t.overflow,yi=r),r=pc(r,u.children),r.flags|=4096,r)}function Ud(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Hu(t.return,r,o)}function mc(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function bd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Mt(t,r,u.children,o),u=He.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,o,r);else if(t.tag===19)Ud(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(ze(He,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&tl(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),mc(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&tl(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}mc(r,!0,o,null,p);break;case"together":mc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ll(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function cr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ti|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=zr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=zr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function u_(t,r,o){switch(r.tag){case 3:Od(r),ws();break;case 5:nd(r);break;case 1:Bt(r.type)&&qa(r);break;case 4:Xu(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;ze(Ga,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(ze(He,He.current&1),r.flags|=128,null):o&r.child.childLanes?Fd(t,r,o):(ze(He,He.current&1),t=cr(t,r,o),t!==null?t.sibling:null);ze(He,He.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return bd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ze(He,He.current),u)break;return null;case 22:case 23:return r.lanes=0,xd(t,r,o)}return cr(t,r,o)}var zd,gc,Bd,jd;zd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},gc=function(){},Bd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ei(zn.current);var p=null;switch(o){case"input":h=Zr(t,h),u=Zr(t,u),p=[];break;case"select":h=R({},h,{value:void 0}),u=R({},u,{value:void 0}),p=[];break;case"textarea":h=Gs(t,h),u=Gs(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ba)}to(o,u);var _;o=null;for(F in h)if(!u.hasOwnProperty(F)&&h.hasOwnProperty(F)&&h[F]!=null)if(F==="style"){var w=h[F];for(_ in w)w.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(a.hasOwnProperty(F)?p||(p=[]):(p=p||[]).push(F,null));for(F in u){var C=u[F];if(w=h!=null?h[F]:void 0,u.hasOwnProperty(F)&&C!==w&&(C!=null||w!=null))if(F==="style")if(w){for(_ in w)!w.hasOwnProperty(_)||C&&C.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in C)C.hasOwnProperty(_)&&w[_]!==C[_]&&(o||(o={}),o[_]=C[_])}else o||(p||(p=[]),p.push(F,o)),o=C;else F==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(p=p||[]).push(F,C)):F==="children"?typeof C!="string"&&typeof C!="number"||(p=p||[]).push(F,""+C):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(a.hasOwnProperty(F)?(C!=null&&F==="onScroll"&&Be("scroll",t),p||w===C||(p=[])):(p=p||[]).push(F,C))}o&&(p=p||[]).push("style",o);var F=p;(r.updateQueue=F)&&(r.flags|=4)}},jd=function(t,r,o,u){o!==u&&(r.flags|=4)};function Mo(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function kt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function c_(t,r,o){var u=r.pendingProps;switch(Uu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(r),null;case 1:return Bt(r.type)&&$a(),kt(r),null;case 3:return u=r.stateNode,As(),je(zt),je(Ct),Zu(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Qa(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Rn!==null&&(Cc(Rn),Rn=null))),gc(t,r),kt(r),null;case 5:Yu(r);var h=Ei(Do.current);if(o=r.type,t!==null&&r.stateNode!=null)Bd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return kt(r),null}if(t=Ei(zn.current),Qa(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[bn]=r,u[Ro]=p,t=(r.mode&1)!==0,o){case"dialog":Be("cancel",u),Be("close",u);break;case"iframe":case"object":case"embed":Be("load",u);break;case"video":case"audio":for(h=0;h<Io.length;h++)Be(Io[h],u);break;case"source":Be("error",u);break;case"img":case"image":case"link":Be("error",u),Be("load",u);break;case"details":Be("toggle",u);break;case"input":zi(u,p),Be("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},Be("invalid",u);break;case"textarea":ji(u,p),Be("invalid",u)}to(o,p),h=null;for(var _ in p)if(p.hasOwnProperty(_)){var w=p[_];_==="children"?typeof w=="string"?u.textContent!==w&&(p.suppressHydrationWarning!==!0&&za(u.textContent,w,t),h=["children",w]):typeof w=="number"&&u.textContent!==""+w&&(p.suppressHydrationWarning!==!0&&za(u.textContent,w,t),h=["children",""+w]):a.hasOwnProperty(_)&&w!=null&&_==="onScroll"&&Be("scroll",u)}switch(o){case"input":Qn(u),fa(u,p,!0);break;case"textarea":Qn(u),Xs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ba)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{_=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=it(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=_.createElement(o,{is:u.is}):(t=_.createElement(o),o==="select"&&(_=t,u.multiple?_.multiple=!0:u.size&&(_.size=u.size))):t=_.createElementNS(t,o),t[bn]=r,t[Ro]=u,zd(t,r,!1,!1),r.stateNode=t;e:{switch(_=no(o,u),o){case"dialog":Be("cancel",t),Be("close",t),h=u;break;case"iframe":case"object":case"embed":Be("load",t),h=u;break;case"video":case"audio":for(h=0;h<Io.length;h++)Be(Io[h],t);h=u;break;case"source":Be("error",t),h=u;break;case"img":case"image":case"link":Be("error",t),Be("load",t),h=u;break;case"details":Be("toggle",t),h=u;break;case"input":zi(t,u),h=Zr(t,u),Be("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=R({},u,{value:void 0}),Be("invalid",t);break;case"textarea":ji(t,u),h=Gs(t,u),Be("invalid",t);break;default:h=u}to(o,h),w=h;for(p in w)if(w.hasOwnProperty(p)){var C=w[p];p==="style"?Zs(t,C):p==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&Ys(t,C)):p==="children"?typeof C=="string"?(o!=="textarea"||C!=="")&&_r(t,C):typeof C=="number"&&_r(t,""+C):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?C!=null&&p==="onScroll"&&Be("scroll",t):C!=null&&_e(t,p,C,_))}switch(o){case"input":Qn(t),fa(t,u,!1);break;case"textarea":Qn(t),Xs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Ne(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Xn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Xn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Ba)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return kt(r),null;case 6:if(t&&r.stateNode!=null)jd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ei(Do.current),Ei(zn.current),Qa(r)){if(u=r.stateNode,o=r.memoizedProps,u[bn]=r,(p=u.nodeValue!==o)&&(t=Zt,t!==null))switch(t.tag){case 3:za(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&za(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[bn]=r,r.stateNode=u}return kt(r),null;case 13:if(je(He),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(qe&&en!==null&&r.mode&1&&!(r.flags&128))qf(),ws(),r.flags|=98560,p=!1;else if(p=Qa(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[bn]=r}else ws(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;kt(r),p=!1}else Rn!==null&&(Cc(Rn),Rn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||He.current&1?lt===0&&(lt=3):Vc())),r.updateQueue!==null&&(r.flags|=4),kt(r),null);case 4:return As(),gc(t,r),t===null&&So(r.stateNode.containerInfo),kt(r),null;case 10:return qu(r.type._context),kt(r),null;case 17:return Bt(r.type)&&$a(),kt(r),null;case 19:if(je(He),p=r.memoizedState,p===null)return kt(r),null;if(u=(r.flags&128)!==0,_=p.rendering,_===null)if(u)Mo(p,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=tl(t),_!==null){for(r.flags|=128,Mo(p,!1),u=_.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return ze(He,He.current&1|2),r.child}t=t.sibling}p.tail!==null&&be()>ks&&(r.flags|=128,u=!0,Mo(p,!1),r.lanes=4194304)}else{if(!u)if(t=tl(_),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Mo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!qe)return kt(r),null}else 2*be()-p.renderingStartTime>ks&&o!==1073741824&&(r.flags|=128,u=!0,Mo(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=be(),r.sibling=null,o=He.current,ze(He,u?o&1|2:o&1),r):(kt(r),null);case 22:case 23:return kc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?tn&1073741824&&(kt(r),r.subtreeFlags&6&&(r.flags|=8192)):kt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function h_(t,r){switch(Uu(r),r.tag){case 1:return Bt(r.type)&&$a(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return As(),je(zt),je(Ct),Zu(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return Yu(r),null;case 13:if(je(He),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ws()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return je(He),null;case 4:return As(),null;case 10:return qu(r.type._context),null;case 22:case 23:return kc(),null;case 24:return null;default:return null}}var ul=!1,Vt=!1,f_=typeof WeakSet=="function"?WeakSet:Set,te=null;function Cs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Qe(t,r,u)}else o.current=null}function yc(t,r,o){try{o()}catch(u){Qe(t,r,u)}}var $d=!1;function d_(t,r){if(ku=Rr,t=Ef(),wu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,w=-1,C=-1,F=0,q=0,H=t,$=null;t:for(;;){for(var Z;H!==o||h!==0&&H.nodeType!==3||(w=_+h),H!==p||u!==0&&H.nodeType!==3||(C=_+u),H.nodeType===3&&(_+=H.nodeValue.length),(Z=H.firstChild)!==null;)$=H,H=Z;for(;;){if(H===t)break t;if($===o&&++F===h&&(w=_),$===p&&++q===u&&(C=_),(Z=H.nextSibling)!==null)break;H=$,$=H.parentNode}H=Z}o=w===-1||C===-1?null:{start:w,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vu={focusedElem:t,selectionRange:o},Rr=!1,te=r;te!==null;)if(r=te,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,te=t;else for(;te!==null;){r=te;try{var re=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,Ze=re.memoizedState,O=r.stateNode,P=O.getSnapshotBeforeUpdate(r.elementType===r.type?ie:Cn(r.type,ie),Ze);O.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var M=r.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Q){Qe(r,r.return,Q)}if(t=r.sibling,t!==null){t.return=r.return,te=t;break}te=r.return}return re=$d,$d=!1,re}function Fo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&yc(r,o,p)}h=h.next}while(h!==u)}}function cl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function _c(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function qd(t){var r=t.alternate;r!==null&&(t.alternate=null,qd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[bn],delete r[Ro],delete r[Lu],delete r[Gy],delete r[Xy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Hd(t){return t.tag===5||t.tag===3||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ba));else if(u!==4&&(t=t.child,t!==null))for(vc(t,r,o),t=t.sibling;t!==null;)vc(t,r,o),t=t.sibling}function Ec(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Ec(t,r,o),t=t.sibling;t!==null;)Ec(t,r,o),t=t.sibling}var vt=null,Pn=!1;function Or(t,r,o){for(o=o.child;o!==null;)Kd(t,r,o),o=o.sibling}function Kd(t,r,o){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(li,o)}catch{}switch(o.tag){case 5:Vt||Cs(o,r);case 6:var u=vt,h=Pn;vt=null,Or(t,r,o),vt=u,Pn=h,vt!==null&&(Pn?(t=vt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):vt.removeChild(o.stateNode));break;case 18:vt!==null&&(Pn?(t=vt,o=o.stateNode,t.nodeType===8?Nu(t.parentNode,o):t.nodeType===1&&Nu(t,o),In(t)):Nu(vt,o.stateNode));break;case 4:u=vt,h=Pn,vt=o.stateNode.containerInfo,Pn=!0,Or(t,r,o),vt=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!Vt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&yc(o,r,_),h=h.next}while(h!==u)}Or(t,r,o);break;case 1:if(!Vt&&(Cs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(w){Qe(o,r,w)}Or(t,r,o);break;case 21:Or(t,r,o);break;case 22:o.mode&1?(Vt=(u=Vt)||o.memoizedState!==null,Or(t,r,o),Vt=u):Or(t,r,o);break;default:Or(t,r,o)}}function Qd(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new f_),r.forEach(function(u){var h=T_.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function kn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,_=r,w=_;e:for(;w!==null;){switch(w.tag){case 5:vt=w.stateNode,Pn=!1;break e;case 3:vt=w.stateNode.containerInfo,Pn=!0;break e;case 4:vt=w.stateNode.containerInfo,Pn=!0;break e}w=w.return}if(vt===null)throw Error(n(160));Kd(p,_,h),vt=null,Pn=!1;var C=h.alternate;C!==null&&(C.return=null),h.return=null}catch(F){Qe(h,r,F)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Gd(r,t),r=r.sibling}function Gd(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(r,t),jn(t),u&4){try{Fo(3,t,t.return),cl(3,t)}catch(ie){Qe(t,t.return,ie)}try{Fo(5,t,t.return)}catch(ie){Qe(t,t.return,ie)}}break;case 1:kn(r,t),jn(t),u&512&&o!==null&&Cs(o,o.return);break;case 5:if(kn(r,t),jn(t),u&512&&o!==null&&Cs(o,o.return),t.flags&32){var h=t.stateNode;try{_r(h,"")}catch(ie){Qe(t,t.return,ie)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,w=t.type,C=t.updateQueue;if(t.updateQueue=null,C!==null)try{w==="input"&&p.type==="radio"&&p.name!=null&&Ks(h,p),no(w,_);var F=no(w,p);for(_=0;_<C.length;_+=2){var q=C[_],H=C[_+1];q==="style"?Zs(h,H):q==="dangerouslySetInnerHTML"?Ys(h,H):q==="children"?_r(h,H):_e(h,q,H,F)}switch(w){case"input":Qs(h,p);break;case"textarea":$i(h,p);break;case"select":var $=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var Z=p.value;Z!=null?Xn(h,!!p.multiple,Z,!1):$!==!!p.multiple&&(p.defaultValue!=null?Xn(h,!!p.multiple,p.defaultValue,!0):Xn(h,!!p.multiple,p.multiple?[]:"",!1))}h[Ro]=p}catch(ie){Qe(t,t.return,ie)}}break;case 6:if(kn(r,t),jn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ie){Qe(t,t.return,ie)}}break;case 3:if(kn(r,t),jn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(ie){Qe(t,t.return,ie)}break;case 4:kn(r,t),jn(t);break;case 13:kn(r,t),jn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Ic=be())),u&4&&Qd(t);break;case 22:if(q=o!==null&&o.memoizedState!==null,t.mode&1?(Vt=(F=Vt)||q,kn(r,t),Vt=F):kn(r,t),jn(t),u&8192){if(F=t.memoizedState!==null,(t.stateNode.isHidden=F)&&!q&&t.mode&1)for(te=t,q=t.child;q!==null;){for(H=te=q;te!==null;){switch($=te,Z=$.child,$.tag){case 0:case 11:case 14:case 15:Fo(4,$,$.return);break;case 1:Cs($,$.return);var re=$.stateNode;if(typeof re.componentWillUnmount=="function"){u=$,o=$.return;try{r=u,re.props=r.memoizedProps,re.state=r.memoizedState,re.componentWillUnmount()}catch(ie){Qe(u,o,ie)}}break;case 5:Cs($,$.return);break;case 22:if($.memoizedState!==null){Jd(H);continue}}Z!==null?(Z.return=$,te=Z):Jd(H)}q=q.sibling}e:for(q=null,H=t;;){if(H.tag===5){if(q===null){q=H;try{h=H.stateNode,F?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(w=H.stateNode,C=H.memoizedProps.style,_=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=Js("display",_))}catch(ie){Qe(t,t.return,ie)}}}else if(H.tag===6){if(q===null)try{H.stateNode.nodeValue=F?"":H.memoizedProps}catch(ie){Qe(t,t.return,ie)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===t)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===t)break e;for(;H.sibling===null;){if(H.return===null||H.return===t)break e;q===H&&(q=null),H=H.return}q===H&&(q=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:kn(r,t),jn(t),u&4&&Qd(t);break;case 21:break;default:kn(r,t),jn(t)}}function jn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Hd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(_r(h,""),u.flags&=-33);var p=Wd(t);Ec(t,p,h);break;case 3:case 4:var _=u.stateNode.containerInfo,w=Wd(t);vc(t,w,_);break;default:throw Error(n(161))}}catch(C){Qe(t,t.return,C)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function p_(t,r,o){te=t,Xd(t)}function Xd(t,r,o){for(var u=(t.mode&1)!==0;te!==null;){var h=te,p=h.child;if(h.tag===22&&u){var _=h.memoizedState!==null||ul;if(!_){var w=h.alternate,C=w!==null&&w.memoizedState!==null||Vt;w=ul;var F=Vt;if(ul=_,(Vt=C)&&!F)for(te=h;te!==null;)_=te,C=_.child,_.tag===22&&_.memoizedState!==null?Zd(h):C!==null?(C.return=_,te=C):Zd(h);for(;p!==null;)te=p,Xd(p),p=p.sibling;te=h,ul=w,Vt=F}Yd(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,te=p):Yd(t)}}function Yd(t){for(;te!==null;){var r=te;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Vt||cl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Vt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Cn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Qf(r,p,u);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Qf(r,_,o)}break;case 5:var w=r.stateNode;if(o===null&&r.flags&4){o=w;var C=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&o.focus();break;case"img":C.src&&(o.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var F=r.alternate;if(F!==null){var q=F.memoizedState;if(q!==null){var H=q.dehydrated;H!==null&&In(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Vt||r.flags&512&&_c(r)}catch($){Qe(r,r.return,$)}}if(r===t){te=null;break}if(o=r.sibling,o!==null){o.return=r.return,te=o;break}te=r.return}}function Jd(t){for(;te!==null;){var r=te;if(r===t){te=null;break}var o=r.sibling;if(o!==null){o.return=r.return,te=o;break}te=r.return}}function Zd(t){for(;te!==null;){var r=te;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{cl(4,r)}catch(C){Qe(r,o,C)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(C){Qe(r,h,C)}}var p=r.return;try{_c(r)}catch(C){Qe(r,p,C)}break;case 5:var _=r.return;try{_c(r)}catch(C){Qe(r,_,C)}}}catch(C){Qe(r,r.return,C)}if(r===t){te=null;break}var w=r.sibling;if(w!==null){w.return=r.return,te=w;break}te=r.return}}var m_=Math.ceil,hl=Te.ReactCurrentDispatcher,wc=Te.ReactCurrentOwner,hn=Te.ReactCurrentBatchConfig,Ve=0,pt=null,nt=null,Et=0,tn=0,Ps=Vr(0),lt=0,Uo=null,Ti=0,fl=0,Tc=0,bo=null,$t=null,Ic=0,ks=1/0,hr=null,dl=!1,Sc=null,Mr=null,pl=!1,Fr=null,ml=0,zo=0,Ac=null,gl=-1,yl=0;function Ft(){return Ve&6?be():gl!==-1?gl:gl=be()}function Ur(t){return t.mode&1?Ve&2&&Et!==0?Et&-Et:Jy.transition!==null?(yl===0&&(yl=ci()),yl):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:po(t.type)),t):1}function Vn(t,r,o,u){if(50<zo)throw zo=0,Ac=null,Error(n(185));Tr(t,o,u),(!(Ve&2)||t!==pt)&&(t===pt&&(!(Ve&2)&&(fl|=o),lt===4&&br(t,Et)),qt(t,u),o===1&&Ve===0&&!(r.mode&1)&&(ks=be()+500,Ha&&xr()))}function qt(t,r){var o=t.callbackNode;Zn(t,r);var u=ui(t,t===pt?Et:0);if(u===0)o!==null&&lo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&lo(o),r===1)t.tag===0?Yy(tp.bind(null,t)):bf(tp.bind(null,t)),Ky(function(){!(Ve&6)&&xr()}),o=null;else{switch(Sr(u)){case 1:o=ai;break;case 4:o=vr;break;case 16:o=rn;break;case 536870912:o=ya;break;default:o=rn}o=up(o,ep.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function ep(t,r){if(gl=-1,yl=0,Ve&6)throw Error(n(327));var o=t.callbackNode;if(Vs()&&t.callbackNode!==o)return null;var u=ui(t,t===pt?Et:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=_l(t,u);else{r=u;var h=Ve;Ve|=2;var p=rp();(pt!==t||Et!==r)&&(hr=null,ks=be()+500,Si(t,r));do try{__();break}catch(w){np(t,w)}while(!0);$u(),hl.current=p,Ve=h,nt!==null?r=0:(pt=null,Et=0,r=lt)}if(r!==0){if(r===2&&(h=Xt(t),h!==0&&(u=h,r=Rc(t,h))),r===1)throw o=Uo,Si(t,0),br(t,u),qt(t,be()),o;if(r===6)br(t,u);else{if(h=t.current.alternate,!(u&30)&&!g_(h)&&(r=_l(t,u),r===2&&(p=Xt(t),p!==0&&(u=p,r=Rc(t,p))),r===1))throw o=Uo,Si(t,0),br(t,u),qt(t,be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ai(t,$t,hr);break;case 3:if(br(t,u),(u&130023424)===u&&(r=Ic+500-be(),10<r)){if(ui(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){Ft(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=xu(Ai.bind(null,t,$t,hr),r);break}Ai(t,$t,hr);break;case 4:if(br(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var _=31-Lt(u);p=1<<_,_=r[_],_>h&&(h=_),u&=~p}if(u=h,u=be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*m_(u/1960))-u,10<u){t.timeoutHandle=xu(Ai.bind(null,t,$t,hr),u);break}Ai(t,$t,hr);break;case 5:Ai(t,$t,hr);break;default:throw Error(n(329))}}}return qt(t,be()),t.callbackNode===o?ep.bind(null,t):null}function Rc(t,r){var o=bo;return t.current.memoizedState.isDehydrated&&(Si(t,r).flags|=256),t=_l(t,r),t!==2&&(r=$t,$t=o,r!==null&&Cc(r)),t}function Cc(t){$t===null?$t=t:$t.push.apply($t,t)}function g_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!An(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function br(t,r){for(r&=~Tc,r&=~fl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Lt(r),u=1<<o;t[o]=-1,r&=~u}}function tp(t){if(Ve&6)throw Error(n(327));Vs();var r=ui(t,0);if(!(r&1))return qt(t,be()),null;var o=_l(t,r);if(t.tag!==0&&o===2){var u=Xt(t);u!==0&&(r=u,o=Rc(t,u))}if(o===1)throw o=Uo,Si(t,0),br(t,r),qt(t,be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ai(t,$t,hr),qt(t,be()),null}function Pc(t,r){var o=Ve;Ve|=1;try{return t(r)}finally{Ve=o,Ve===0&&(ks=be()+500,Ha&&xr())}}function Ii(t){Fr!==null&&Fr.tag===0&&!(Ve&6)&&Vs();var r=Ve;Ve|=1;var o=hn.transition,u=Ie;try{if(hn.transition=null,Ie=1,t)return t()}finally{Ie=u,hn.transition=o,Ve=r,!(Ve&6)&&xr()}}function kc(){tn=Ps.current,je(Ps)}function Si(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Wy(o)),nt!==null)for(o=nt.return;o!==null;){var u=o;switch(Uu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&$a();break;case 3:As(),je(zt),je(Ct),Zu();break;case 5:Yu(u);break;case 4:As();break;case 13:je(He);break;case 19:je(He);break;case 10:qu(u.type._context);break;case 22:case 23:kc()}o=o.return}if(pt=t,nt=t=zr(t.current,null),Et=tn=r,lt=0,Uo=null,Tc=fl=Ti=0,$t=bo=null,vi!==null){for(r=0;r<vi.length;r++)if(o=vi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var _=p.next;p.next=h,u.next=_}o.pending=u}vi=null}return t}function np(t,r){do{var o=nt;try{if($u(),nl.current=ol,rl){for(var u=We.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}rl=!1}if(wi=0,dt=at=We=null,xo=!1,No=0,wc.current=null,o===null||o.return===null){lt=1,Uo=r,nt=null;break}e:{var p=t,_=o.return,w=o,C=r;if(r=Et,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=C,q=w,H=q.tag;if(!(q.mode&1)&&(H===0||H===11||H===15)){var $=q.alternate;$?(q.updateQueue=$.updateQueue,q.memoizedState=$.memoizedState,q.lanes=$.lanes):(q.updateQueue=null,q.memoizedState=null)}var Z=Cd(_);if(Z!==null){Z.flags&=-257,Pd(Z,_,w,p,r),Z.mode&1&&Rd(p,F,r),r=Z,C=F;var re=r.updateQueue;if(re===null){var ie=new Set;ie.add(C),r.updateQueue=ie}else re.add(C);break e}else{if(!(r&1)){Rd(p,F,r),Vc();break e}C=Error(n(426))}}else if(qe&&w.mode&1){var Ze=Cd(_);if(Ze!==null){!(Ze.flags&65536)&&(Ze.flags|=256),Pd(Ze,_,w,p,r),Bu(Rs(C,w));break e}}p=C=Rs(C,w),lt!==4&&(lt=2),bo===null?bo=[p]:bo.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var O=Sd(p,C,r);Kf(p,O);break e;case 1:w=C;var P=p.type,M=p.stateNode;if(!(p.flags&128)&&(typeof P.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Mr===null||!Mr.has(M)))){p.flags|=65536,r&=-r,p.lanes|=r;var Q=Ad(p,w,r);Kf(p,Q);break e}}p=p.return}while(p!==null)}sp(o)}catch(se){r=se,nt===o&&o!==null&&(nt=o=o.return);continue}break}while(!0)}function rp(){var t=hl.current;return hl.current=ol,t===null?ol:t}function Vc(){(lt===0||lt===3||lt===2)&&(lt=4),pt===null||!(Ti&268435455)&&!(fl&268435455)||br(pt,Et)}function _l(t,r){var o=Ve;Ve|=2;var u=rp();(pt!==t||Et!==r)&&(hr=null,Si(t,r));do try{y_();break}catch(h){np(t,h)}while(!0);if($u(),Ve=o,hl.current=u,nt!==null)throw Error(n(261));return pt=null,Et=0,lt}function y_(){for(;nt!==null;)ip(nt)}function __(){for(;nt!==null&&!ma();)ip(nt)}function ip(t){var r=lp(t.alternate,t,tn);t.memoizedProps=t.pendingProps,r===null?sp(t):nt=r,wc.current=null}function sp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=h_(o,r),o!==null){o.flags&=32767,nt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lt=6,nt=null;return}}else if(o=c_(o,r,tn),o!==null){nt=o;return}if(r=r.sibling,r!==null){nt=r;return}nt=r=t}while(r!==null);lt===0&&(lt=5)}function Ai(t,r,o){var u=Ie,h=hn.transition;try{hn.transition=null,Ie=1,v_(t,r,o,u)}finally{hn.transition=h,Ie=u}return null}function v_(t,r,o,u){do Vs();while(Fr!==null);if(Ve&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Ue(t,p),t===pt&&(nt=pt=null,Et=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||pl||(pl=!0,up(rn,function(){return Vs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=hn.transition,hn.transition=null;var _=Ie;Ie=1;var w=Ve;Ve|=4,wc.current=null,d_(t,o),Gd(o,t),by(Vu),Rr=!!ku,Vu=ku=null,t.current=o,p_(o),du(),Ve=w,Ie=_,hn.transition=p}else t.current=o;if(pl&&(pl=!1,Fr=t,ml=h),p=t.pendingLanes,p===0&&(Mr=null),_a(o.stateNode),qt(t,be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(dl)throw dl=!1,t=Sc,Sc=null,t;return ml&1&&t.tag!==0&&Vs(),p=t.pendingLanes,p&1?t===Ac?zo++:(zo=0,Ac=t):zo=0,xr(),null}function Vs(){if(Fr!==null){var t=Sr(ml),r=hn.transition,o=Ie;try{if(hn.transition=null,Ie=16>t?16:t,Fr===null)var u=!1;else{if(t=Fr,Fr=null,ml=0,Ve&6)throw Error(n(331));var h=Ve;for(Ve|=4,te=t.current;te!==null;){var p=te,_=p.child;if(te.flags&16){var w=p.deletions;if(w!==null){for(var C=0;C<w.length;C++){var F=w[C];for(te=F;te!==null;){var q=te;switch(q.tag){case 0:case 11:case 15:Fo(8,q,p)}var H=q.child;if(H!==null)H.return=q,te=H;else for(;te!==null;){q=te;var $=q.sibling,Z=q.return;if(qd(q),q===F){te=null;break}if($!==null){$.return=Z,te=$;break}te=Z}}}var re=p.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var Ze=ie.sibling;ie.sibling=null,ie=Ze}while(ie!==null)}}te=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,te=_;else e:for(;te!==null;){if(p=te,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Fo(9,p,p.return)}var O=p.sibling;if(O!==null){O.return=p.return,te=O;break e}te=p.return}}var P=t.current;for(te=P;te!==null;){_=te;var M=_.child;if(_.subtreeFlags&2064&&M!==null)M.return=_,te=M;else e:for(_=P;te!==null;){if(w=te,w.flags&2048)try{switch(w.tag){case 0:case 11:case 15:cl(9,w)}}catch(se){Qe(w,w.return,se)}if(w===_){te=null;break e}var Q=w.sibling;if(Q!==null){Q.return=w.return,te=Q;break e}te=w.return}}if(Ve=h,xr(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(li,t)}catch{}u=!0}return u}finally{Ie=o,hn.transition=r}}return!1}function op(t,r,o){r=Rs(o,r),r=Sd(t,r,1),t=Lr(t,r,1),r=Ft(),t!==null&&(Tr(t,1,r),qt(t,r))}function Qe(t,r,o){if(t.tag===3)op(t,t,o);else for(;r!==null;){if(r.tag===3){op(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mr===null||!Mr.has(u))){t=Rs(o,t),t=Ad(r,t,1),r=Lr(r,t,1),t=Ft(),r!==null&&(Tr(r,1,t),qt(r,t));break}}r=r.return}}function E_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=Ft(),t.pingedLanes|=t.suspendedLanes&o,pt===t&&(Et&o)===o&&(lt===4||lt===3&&(Et&130023424)===Et&&500>be()-Ic?Si(t,0):Tc|=o),qt(t,r)}function ap(t,r){r===0&&(t.mode&1?(r=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):r=1);var o=Ft();t=lr(t,r),t!==null&&(Tr(t,r,o),qt(t,o))}function w_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),ap(t,o)}function T_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),ap(t,o)}var lp;lp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||zt.current)jt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return jt=!1,u_(t,r,o);jt=!!(t.flags&131072)}else jt=!1,qe&&r.flags&1048576&&zf(r,Ka,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;ll(t,r),t=r.pendingProps;var h=_s(r,Ct.current);Is(r,o),h=nc(null,r,u,t,h,o);var p=rc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Bt(u)?(p=!0,qa(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ku(r),h.updater=Za,r.stateNode=h,h._reactInternals=r,Gu(r,u,t,o),r=hc(null,r,u,!0,p,o)):(r.tag=0,qe&&p&&Fu(r),Mt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(ll(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=S_(u),t=Cn(u,t),h){case 0:r=cc(null,r,u,t,o);break e;case 1:r=Ld(null,r,u,t,o);break e;case 11:r=kd(null,r,u,t,o);break e;case 14:r=Vd(null,r,u,Cn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),cc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),Ld(t,r,u,h,o);case 3:e:{if(Od(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,Wf(t,r),Ja(r,u,null,o);var _=r.memoizedState;if(u=_.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Rs(Error(n(423)),r),r=Md(t,r,u,o,h);break e}else if(u!==h){h=Rs(Error(n(424)),r),r=Md(t,r,u,o,h);break e}else for(en=kr(r.stateNode.containerInfo.firstChild),Zt=r,qe=!0,Rn=null,o=td(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ws(),u===h){r=cr(t,r,o);break e}Mt(t,r,u,o)}r=r.child}return r;case 5:return nd(r),t===null&&zu(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,_=h.children,Du(u,h)?_=null:p!==null&&Du(u,p)&&(r.flags|=32),Nd(t,r),Mt(t,r,_,o),r.child;case 6:return t===null&&zu(r),null;case 13:return Fd(t,r,o);case 4:return Xu(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ss(r,null,u,o):Mt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),kd(t,r,u,h,o);case 7:return Mt(t,r,r.pendingProps,o),r.child;case 8:return Mt(t,r,r.pendingProps.children,o),r.child;case 12:return Mt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,_=h.value,ze(Ga,u._currentValue),u._currentValue=_,p!==null)if(An(p.value,_)){if(p.children===h.children&&!zt.current){r=cr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var w=p.dependencies;if(w!==null){_=p.child;for(var C=w.firstContext;C!==null;){if(C.context===u){if(p.tag===1){C=ur(-1,o&-o),C.tag=2;var F=p.updateQueue;if(F!==null){F=F.shared;var q=F.pending;q===null?C.next=C:(C.next=q.next,q.next=C),F.pending=C}}p.lanes|=o,C=p.alternate,C!==null&&(C.lanes|=o),Hu(p.return,o,r),w.lanes|=o;break}C=C.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,w=_.alternate,w!==null&&(w.lanes|=o),Hu(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}Mt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,Is(r,o),h=un(h),u=u(h),r.flags|=1,Mt(t,r,u,o),r.child;case 14:return u=r.type,h=Cn(u,r.pendingProps),h=Cn(u.type,h),Vd(t,r,u,h,o);case 15:return Dd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Cn(u,h),ll(t,r),r.tag=1,Bt(u)?(t=!0,qa(r)):t=!1,Is(r,o),Yf(r,u,h),Gu(r,u,h,o),hc(null,r,u,!0,t,o);case 19:return bd(t,r,o);case 22:return xd(t,r,o)}throw Error(n(156,r.tag))};function up(t,r){return Yi(t,r)}function I_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fn(t,r,o,u){return new I_(t,r,o,u)}function Dc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S_(t){if(typeof t=="function")return Dc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===N)return 11;if(t===St)return 14}return 2}function zr(t,r){var o=t.alternate;return o===null?(o=fn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function vl(t,r,o,u,h,p){var _=2;if(u=t,typeof t=="function")Dc(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case D:return Ri(o.children,h,p,r);case I:_=8,h|=8;break;case A:return t=fn(12,o,r,h|2),t.elementType=A,t.lanes=p,t;case S:return t=fn(13,o,r,h),t.elementType=S,t.lanes=p,t;case Ye:return t=fn(19,o,r,h),t.elementType=Ye,t.lanes=p,t;case Fe:return El(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:_=10;break e;case x:_=9;break e;case N:_=11;break e;case St:_=14;break e;case At:_=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=fn(_,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Ri(t,r,o,u){return t=fn(7,t,u,r),t.lanes=o,t}function El(t,r,o,u){return t=fn(22,t,u,r),t.elementType=Fe,t.lanes=o,t.stateNode={isHidden:!1},t}function xc(t,r,o){return t=fn(6,t,null,r),t.lanes=o,t}function Nc(t,r,o){return r=fn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function A_(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wr(0),this.expirationTimes=wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wr(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Lc(t,r,o,u,h,p,_,w,C){return t=new A_(t,r,o,w,C),r===1?(r=1,p===!0&&(r|=8)):r=0,p=fn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ku(p),t}function R_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pe,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function cp(t){if(!t)return Dr;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Bt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Bt(o))return Ff(t,o,r)}return r}function hp(t,r,o,u,h,p,_,w,C){return t=Lc(o,u,!0,t,h,p,_,w,C),t.context=cp(null),o=t.current,u=Ft(),h=Ur(o),p=ur(u,h),p.callback=r??null,Lr(o,p,h),t.current.lanes=h,Tr(t,h,u),qt(t,u),t}function wl(t,r,o,u){var h=r.current,p=Ft(),_=Ur(h);return o=cp(o),r.context===null?r.context=o:r.pendingContext=o,r=ur(p,_),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Lr(h,r,_),t!==null&&(Vn(t,h,_,p),Ya(t,h,_)),_}function Tl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fp(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Oc(t,r){fp(t,r),(t=t.alternate)&&fp(t,r)}var dp=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mc(t){this._internalRoot=t}Il.prototype.render=Mc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));wl(t,r,null,null)},Il.prototype.unmount=Mc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ii(function(){wl(null,t,null,null)}),r[ir]=null}};function Il(t){this._internalRoot=t}Il.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ia();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&Ra(t)}};function Fc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pp(){}function C_(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var F=Tl(_);p.call(F)}}var _=hp(r,u,t,0,null,!1,!1,"",pp);return t._reactRootContainer=_,t[ir]=_.current,So(t.nodeType===8?t.parentNode:t),Ii(),_}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var w=u;u=function(){var F=Tl(C);w.call(F)}}var C=Lc(t,0,!1,null,null,!1,!1,"",pp);return t._reactRootContainer=C,t[ir]=C.current,So(t.nodeType===8?t.parentNode:t),Ii(function(){wl(r,C,o,u)}),C}function Al(t,r,o,u,h){var p=o._reactRootContainer;if(p){var _=p;if(typeof h=="function"){var w=h;h=function(){var C=Tl(_);w.call(C)}}wl(r,_,t,h)}else _=C_(o,r,t,h,u);return Tl(_)}wa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Er(r.pendingLanes);o!==0&&(Ir(r,o|1),qt(r,be()),!(Ve&6)&&(ks=be()+500,xr()))}break;case 13:Ii(function(){var u=lr(t,1);if(u!==null){var h=Ft();Vn(u,t,1,h)}}),Oc(t,1)}},es=function(t){if(t.tag===13){var r=lr(t,134217728);if(r!==null){var o=Ft();Vn(r,t,134217728,o)}Oc(t,134217728)}},Ta=function(t){if(t.tag===13){var r=Ur(t),o=lr(t,r);if(o!==null){var u=Ft();Vn(o,t,r,u)}Oc(t,r)}},Ia=function(){return Ie},Sa=function(t,r){var o=Ie;try{return Ie=t,r()}finally{Ie=o}},Hi=function(t,r,o){switch(r){case"input":if(Qs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=ja(u);if(!h)throw Error(n(90));bi(u),Qs(u,h)}}}break;case"textarea":$i(t,o);break;case"select":r=o.value,r!=null&&Xn(t,!!o.multiple,r,!1)}},ri=Pc,io=Ii;var P_={usingClientEntryPoint:!1,Events:[Co,gs,ja,Nn,ro,Pc]},Bo={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},k_={bundleType:Bo.bundleType,version:Bo.version,rendererPackageName:Bo.rendererPackageName,rendererConfig:Bo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Te.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ao(t),t===null?null:t.stateNode},findFiberByHostInstance:Bo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rl.isDisabled&&Rl.supportsFiber)try{li=Rl.inject(k_),Gt=Rl}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P_,Ht.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fc(r))throw Error(n(200));return R_(t,r,null,o)},Ht.createRoot=function(t,r){if(!Fc(t))throw Error(n(299));var o=!1,u="",h=dp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Lc(t,1,!1,null,null,o,!1,u,h),t[ir]=r.current,So(t.nodeType===8?t.parentNode:t),new Mc(r)},Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ao(r),t=t===null?null:t.stateNode,t},Ht.flushSync=function(t){return Ii(t)},Ht.hydrate=function(t,r,o){if(!Sl(r))throw Error(n(200));return Al(null,t,r,!0,o)},Ht.hydrateRoot=function(t,r,o){if(!Fc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",_=dp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=hp(r,null,t,1,o??null,h,!1,p,_),t[ir]=r.current,So(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new Il(r)},Ht.render=function(t,r,o){if(!Sl(r))throw Error(n(200));return Al(null,t,r,!1,o)},Ht.unmountComponentAtNode=function(t){if(!Sl(t))throw Error(n(40));return t._reactRootContainer?(Ii(function(){Al(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Ht.unstable_batchedUpdates=Pc,Ht.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Sl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Al(t,r,o,!1,u)},Ht.version="18.2.0-next-9e3b772b8-20220608",Ht}var Tp;function U_(){if(Tp)return zc.exports;Tp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zc.exports=F_(),zc.exports}var Ip;function b_(){if(Ip)return Cl;Ip=1;var i=U_();return Cl.createRoot=i.createRoot,Cl.hydrateRoot=i.hydrateRoot,Cl}var z_=b_();const B_=Dm(z_);var Sp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},j_=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],y=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},Nm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,y=a+2<i.length,v=y?i[a+2]:0,T=c>>2,V=(c&3)<<4|m>>4;let U=(m&15)<<2|v>>6,z=v&63;y||(z=64,f||(U=64)),s.push(n[T],n[V],n[U],n[z])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(xm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):j_(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const V=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||v==null||V==null)throw new $_;const U=c<<2|m>>4;if(s.push(U),v!==64){const z=m<<4&240|v>>2;if(s.push(z),V!==64){const J=v<<6&192|V;s.push(J)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const q_=function(i){const e=xm(i);return Nm.encodeByteArray(e,!0)},Ul=function(i){return q_(i).replace(/\./g,"")},H_=function(i){try{return Nm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=()=>W_().__FIREBASE_DEFAULTS__,Q_=()=>{if(typeof process>"u"||typeof Sp>"u")return;const i=Sp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},G_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&H_(i[1]);return e&&JSON.parse(e)},Ih=()=>{try{return K_()||Q_()||G_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},X_=i=>{var e,n;return(n=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Y_=i=>{const e=X_(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Lm=()=>{var i;return(i=Ih())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ul(JSON.stringify(n)),Ul(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tv(){var i;const e=(i=Ih())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nv(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function rv(){return!tv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Om(){try{return typeof indexedDB=="object"}catch{return!1}}function Mm(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}function iv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="FirebaseError";class Jr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sv,Object.setPrototypeOf(this,Jr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yl.prototype.create)}}class Yl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?ov(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new Jr(a,m,s)}}function ov(i,e){return i.replace(av,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const av=/\{\$([^}]+)}/g;function th(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(Ap(c)&&Ap(f)){if(!th(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function Ap(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=1e3,uv=2,cv=4*60*60*1e3,hv=.5;function Rp(i,e=lv,n=uv){const s=e*Math.pow(n,i),a=Math.round(hv*s*(Math.random()-.5)*2);return Math.min(cv,s+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(i){return i&&i._delegate?i._delegate:i}class dr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new J_;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pv(e))try{this.getOrInitializeService({instanceIdentifier:Ci})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ci){return this.instances.has(e)}getOptions(e=Ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dv(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ci){return this.component?this.component.multipleInstances?e:Ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dv(i){return i===Ci?void 0:i}function pv(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ce||(Ce={}));const gv={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},yv=Ce.INFO,_v={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},vv=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=_v[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sh{constructor(e){this.name=e,this._logLevel=yv,this._logHandler=vv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gv[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const Ev=(i,e)=>e.some(n=>i instanceof n);let Cp,Pp;function wv(){return Cp||(Cp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tv(){return Pp||(Pp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fm=new WeakMap,nh=new WeakMap,Um=new WeakMap,$c=new WeakMap,Ah=new WeakMap;function Iv(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n($r(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Fm.set(n,i)}).catch(()=>{}),Ah.set(e,i),e}function Sv(i){if(nh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});nh.set(i,e)}let rh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return nh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Um.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Av(i){rh=i(rh)}function Rv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(qc(this),e,...n);return Um.set(s,e.sort?e.sort():[e]),$r(s)}:Tv().includes(i)?function(...e){return i.apply(qc(this),e),$r(Fm.get(this))}:function(...e){return $r(i.apply(qc(this),e))}}function Cv(i){return typeof i=="function"?Rv(i):(i instanceof IDBTransaction&&Sv(i),Ev(i,wv())?new Proxy(i,rh):i)}function $r(i){if(i instanceof IDBRequest)return Iv(i);if($c.has(i))return $c.get(i);const e=Cv(i);return e!==i&&($c.set(i,e),Ah.set(e,i)),e}const qc=i=>Ah.get(i);function bm(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=$r(f);return s&&f.addEventListener("upgradeneeded",y=>{s($r(f.result),y.oldVersion,y.newVersion,$r(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),a&&y.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const Pv=["get","getKey","getAll","getAllKeys","count"],kv=["put","add","delete","clear"],Hc=new Map;function kp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Hc.get(e))return Hc.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=kv.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||Pv.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,a?"readwrite":"readonly");let v=y.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&y.done]))[0]};return Hc.set(e,c),c}Av(i=>({...i,get:(e,n,s)=>kp(e,n)||i.get(e,n,s),has:(e,n)=>!!kp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dv(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Dv(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ih="@firebase/app",Vp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Sh("@firebase/app"),xv="@firebase/app-compat",Nv="@firebase/analytics-compat",Lv="@firebase/analytics",Ov="@firebase/app-check-compat",Mv="@firebase/app-check",Fv="@firebase/auth",Uv="@firebase/auth-compat",bv="@firebase/database",zv="@firebase/data-connect",Bv="@firebase/database-compat",jv="@firebase/functions",$v="@firebase/functions-compat",qv="@firebase/installations",Hv="@firebase/installations-compat",Wv="@firebase/messaging",Kv="@firebase/messaging-compat",Qv="@firebase/performance",Gv="@firebase/performance-compat",Xv="@firebase/remote-config",Yv="@firebase/remote-config-compat",Jv="@firebase/storage",Zv="@firebase/storage-compat",eE="@firebase/firestore",tE="@firebase/vertexai",nE="@firebase/firestore-compat",rE="firebase",iE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="[DEFAULT]",sE={[ih]:"fire-core",[xv]:"fire-core-compat",[Lv]:"fire-analytics",[Nv]:"fire-analytics-compat",[Mv]:"fire-app-check",[Ov]:"fire-app-check-compat",[Fv]:"fire-auth",[Uv]:"fire-auth-compat",[bv]:"fire-rtdb",[zv]:"fire-data-connect",[Bv]:"fire-rtdb-compat",[jv]:"fire-fn",[$v]:"fire-fn-compat",[qv]:"fire-iid",[Hv]:"fire-iid-compat",[Wv]:"fire-fcm",[Kv]:"fire-fcm-compat",[Qv]:"fire-perf",[Gv]:"fire-perf-compat",[Xv]:"fire-rc",[Yv]:"fire-rc-compat",[Jv]:"fire-gcs",[Zv]:"fire-gcs-compat",[eE]:"fire-fst",[nE]:"fire-fst-compat",[tE]:"fire-vertex","fire-js":"fire-js",[rE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bl=new Map,oE=new Map,oh=new Map;function Dp(i,e){try{i.container.addComponent(e)}catch(n){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Wr(i){const e=i.name;if(oh.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;oh.set(e,i);for(const n of bl.values())Dp(n,i);for(const n of oE.values())Dp(n,i);return!0}function Rh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Yl("app","Firebase",aE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new dr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=iE;function zm(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw qr.create("bad-app-name",{appName:String(a)});if(n||(n=Lm()),!n)throw qr.create("no-options");const c=bl.get(a);if(c){if(th(n,c.options)&&th(s,c.config))return c;throw qr.create("duplicate-app",{appName:a})}const f=new mv(a);for(const y of oh.values())f.addComponent(y);const m=new lE(n,s,f);return bl.set(a,m),m}function cE(i=sh){const e=bl.get(i);if(!e&&i===sh&&Lm())return zm();if(!e)throw qr.create("no-app",{appName:i});return e}function $n(i,e,n){var s;let a=(s=sE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(m.join(" "));return}Wr(new dr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="firebase-heartbeat-database",fE=1,Zo="firebase-heartbeat-store";let Wc=null;function Bm(){return Wc||(Wc=bm(hE,fE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(i=>{throw qr.create("idb-open",{originalErrorMessage:i.message})})),Wc}async function dE(i){try{const n=(await Bm()).transaction(Zo),s=await n.objectStore(Zo).get(jm(i));return await n.done,s}catch(e){if(e instanceof Jr)pr.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(n.message)}}}async function xp(i,e){try{const s=(await Bm()).transaction(Zo,"readwrite");await s.objectStore(Zo).put(e,jm(i)),await s.done}catch(n){if(n instanceof Jr)pr.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pr.warn(s.message)}}}function jm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=1024,mE=30*24*60*60*1e3;class gE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _E(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Np();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=mE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Np(),{heartbeatsToSend:s,unsentEntries:a}=yE(this._heartbeatsCache.heartbeats),c=Ul(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return pr.warn(n),""}}}function Np(){return new Date().toISOString().substring(0,10)}function yE(i,e=pE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Lp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Lp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _E{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Om()?Mm().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return xp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Lp(i){return Ul(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(i){Wr(new dr("platform-logger",e=>new Vv(e),"PRIVATE")),Wr(new dr("heartbeat",e=>new gE(e),"PRIVATE")),$n(ih,Vp,i),$n(ih,Vp,"esm2017"),$n("fire-js","")}vE("");var EE="firebase",wE="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(EE,wE,"app");const $m="@firebase/installations",Ch="0.6.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=1e4,Hm=`w:${Ch}`,Wm="FIS_v2",TE="https://firebaseinstallations.googleapis.com/v1",IE=60*60*1e3,SE="installations",AE="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Di=new Yl(SE,AE,RE);function Km(i){return i instanceof Jr&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm({projectId:i}){return`${TE}/projects/${i}/installations`}function Gm(i){return{token:i.token,requestStatus:2,expiresIn:PE(i.expiresIn),creationTime:Date.now()}}async function Xm(i,e){const s=(await e.json()).error;return Di.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Ym({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function CE(i,{refreshToken:e}){const n=Ym(i);return n.append("Authorization",kE(e)),n}async function Jm(i){const e=await i();return e.status>=500&&e.status<600?i():e}function PE(i){return Number(i.replace("s","000"))}function kE(i){return`${Wm} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VE({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=Qm(i),a=Ym(i),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const f={fid:n,authVersion:Wm,appId:i.appId,sdkVersion:Hm},m={method:"POST",headers:a,body:JSON.stringify(f)},y=await Jm(()=>fetch(s,m));if(y.ok){const v=await y.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:Gm(v.authToken)}}else throw await Xm("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=/^[cdef][\w-]{21}$/,ah="";function NE(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=LE(i);return xE.test(n)?n:ah}catch{return ah}}function LE(i){return DE(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eg=new Map;function tg(i,e){const n=Jl(i);ng(n,e),OE(n,e)}function ng(i,e){const n=eg.get(i);if(n)for(const s of n)s(e)}function OE(i,e){const n=ME();n&&n.postMessage({key:i,fid:e}),FE()}let Pi=null;function ME(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=i=>{ng(i.data.key,i.data.fid)}),Pi}function FE(){eg.size===0&&Pi&&(Pi.close(),Pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebase-installations-database",bE=1,xi="firebase-installations-store";let Kc=null;function Ph(){return Kc||(Kc=bm(UE,bE,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(xi)}}})),Kc}async function zl(i,e){const n=Jl(i),a=(await Ph()).transaction(xi,"readwrite"),c=a.objectStore(xi),f=await c.get(n);return await c.put(e,n),await a.done,(!f||f.fid!==e.fid)&&tg(i,e.fid),e}async function rg(i){const e=Jl(i),s=(await Ph()).transaction(xi,"readwrite");await s.objectStore(xi).delete(e),await s.done}async function Zl(i,e){const n=Jl(i),a=(await Ph()).transaction(xi,"readwrite"),c=a.objectStore(xi),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await a.done,m&&(!f||f.fid!==m.fid)&&tg(i,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kh(i){let e;const n=await Zl(i.appConfig,s=>{const a=zE(s),c=BE(i,a);return e=c.registrationPromise,c.installationEntry});return n.fid===ah?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function zE(i){const e=i||{fid:NE(),registrationStatus:0};return ig(e)}function BE(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Di.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=jE(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$E(i)}:{installationEntry:e}}async function jE(i,e){try{const n=await VE(i,e);return zl(i.appConfig,n)}catch(n){throw Km(n)&&n.customData.serverCode===409?await rg(i.appConfig):await zl(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $E(i){let e=await Op(i.appConfig);for(;e.registrationStatus===1;)await Zm(100),e=await Op(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await kh(i);return s||n}return e}function Op(i){return Zl(i,e=>{if(!e)throw Di.create("installation-not-found");return ig(e)})}function ig(i){return qE(i)?{fid:i.fid,registrationStatus:0}:i}function qE(i){return i.registrationStatus===1&&i.registrationTime+qm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HE({appConfig:i,heartbeatServiceProvider:e},n){const s=WE(i,n),a=CE(i,n),c=e.getImmediate({optional:!0});if(c){const v=await c.getHeartbeatsHeader();v&&a.append("x-firebase-client",v)}const f={installation:{sdkVersion:Hm,appId:i.appId}},m={method:"POST",headers:a,body:JSON.stringify(f)},y=await Jm(()=>fetch(s,m));if(y.ok){const v=await y.json();return Gm(v)}else throw await Xm("Generate Auth Token",y)}function WE(i,{fid:e}){return`${Qm(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(i,e=!1){let n;const s=await Zl(i.appConfig,c=>{if(!sg(c))throw Di.create("not-registered");const f=c.authToken;if(!e&&GE(f))return c;if(f.requestStatus===1)return n=KE(i,e),c;{if(!navigator.onLine)throw Di.create("app-offline");const m=YE(c);return n=QE(i,m),m}});return n?await n:s.authToken}async function KE(i,e){let n=await Mp(i.appConfig);for(;n.authToken.requestStatus===1;)await Zm(100),n=await Mp(i.appConfig);const s=n.authToken;return s.requestStatus===0?Vh(i,e):s}function Mp(i){return Zl(i,e=>{if(!sg(e))throw Di.create("not-registered");const n=e.authToken;return JE(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function QE(i,e){try{const n=await HE(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await zl(i.appConfig,s),n}catch(n){if(Km(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await rg(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await zl(i.appConfig,s)}throw n}}function sg(i){return i!==void 0&&i.registrationStatus===2}function GE(i){return i.requestStatus===2&&!XE(i)}function XE(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+IE}function YE(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function JE(i){return i.requestStatus===1&&i.requestTime+qm<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(i){const e=i,{installationEntry:n,registrationPromise:s}=await kh(e);return s?s.catch(console.error):Vh(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(i,e=!1){const n=i;return await tw(n),(await Vh(n,e)).token}async function tw(i){const{registrationPromise:e}=await kh(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(i){if(!i||!i.options)throw Qc("App Configuration");if(!i.name)throw Qc("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Qc(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Qc(i){return Di.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="installations",rw="installations-internal",iw=i=>{const e=i.getProvider("app").getImmediate(),n=nw(e),s=Rh(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},sw=i=>{const e=i.getProvider("app").getImmediate(),n=Rh(e,og).getImmediate();return{getId:()=>ZE(n),getToken:a=>ew(n,a)}};function ow(){Wr(new dr(og,iw,"PUBLIC")),Wr(new dr(rw,sw,"PRIVATE"))}ow();$n($m,Ch);$n($m,Ch,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fp="analytics",aw="firebase_id",lw="origin",uw=60*1e3,cw="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dh="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qt=new Sh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hw={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pn=new Yl("analytics","Analytics",hw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(i){if(!i.startsWith(Dh)){const e=pn.create("invalid-gtag-resource",{gtagURL:i});return Qt.warn(e.message),""}return i}function ag(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function dw(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function pw(i,e){const n=dw("firebase-js-sdk-policy",{createScriptURL:fw}),s=document.createElement("script"),a=`${Dh}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(a):a,s.async=!0,document.head.appendChild(s)}function mw(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function gw(i,e,n,s,a,c){const f=s[a];try{if(f)await e[f];else{const y=(await ag(n)).find(v=>v.measurementId===a);y&&await e[y.appId]}}catch(m){Qt.error(m)}i("config",a,c)}async function yw(i,e,n,s,a){try{let c=[];if(a&&a.send_to){let f=a.send_to;Array.isArray(f)||(f=[f]);const m=await ag(n);for(const y of f){const v=m.find(V=>V.measurementId===y),T=v&&e[v.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),i("event",s,a||{})}catch(c){Qt.error(c)}}function _w(i,e,n,s){async function a(c,...f){try{if(c==="event"){const[m,y]=f;await yw(i,e,n,m,y)}else if(c==="config"){const[m,y]=f;await gw(i,e,n,s,m,y)}else if(c==="consent"){const[m,y]=f;i("consent",m,y)}else if(c==="get"){const[m,y,v]=f;i("get",m,y,v)}else if(c==="set"){const[m]=f;i("set",m)}else i(c,...f)}catch(m){Qt.error(m)}}return a}function vw(i,e,n,s,a){let c=function(...f){window[s].push(arguments)};return window[a]&&typeof window[a]=="function"&&(c=window[a]),window[a]=_w(c,i,e,n),{gtagCore:c,wrappedGtag:window[a]}}function Ew(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Dh)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=30,Tw=1e3;class Iw{constructor(e={},n=Tw){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lg=new Iw;function Sw(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function Aw(i){var e;const{appId:n,apiKey:s}=i,a={method:"GET",headers:Sw(s)},c=cw.replace("{app-id}",n),f=await fetch(c,a);if(f.status!==200&&f.status!==304){let m="";try{const y=await f.json();!((e=y.error)===null||e===void 0)&&e.message&&(m=y.error.message)}catch{}throw pn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function Rw(i,e=lg,n){const{appId:s,apiKey:a,measurementId:c}=i.options;if(!s)throw pn.create("no-app-id");if(!a){if(c)return{measurementId:c,appId:s};throw pn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new kw;return setTimeout(async()=>{m.abort()},uw),ug({appId:s,apiKey:a,measurementId:c},f,m,e)}async function ug(i,{throttleEndTimeMillis:e,backoffCount:n},s,a=lg){var c;const{appId:f,measurementId:m}=i;try{await Cw(s,e)}catch(y){if(m)return Qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw y}try{const y=await Aw(i);return a.deleteThrottleMetadata(f),y}catch(y){const v=y;if(!Pw(v)){if(a.deleteThrottleMetadata(f),m)return Qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:f,measurementId:m};throw y}const T=Number((c=v==null?void 0:v.customData)===null||c===void 0?void 0:c.httpStatus)===503?Rp(n,a.intervalMillis,ww):Rp(n,a.intervalMillis),V={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return a.setThrottleMetadata(f,V),Qt.debug(`Calling attemptFetch again in ${T} millis`),ug(i,V,s,a)}}function Cw(i,e){return new Promise((n,s)=>{const a=Math.max(e-Date.now(),0),c=setTimeout(n,a);i.addEventListener(()=>{clearTimeout(c),s(pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Pw(i){if(!(i instanceof Jr)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class kw{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Vw(i,e,n,s,a){if(a&&a.global){i("event",n,s);return}else{const c=await e,f=Object.assign(Object.assign({},s),{send_to:c});i("event",n,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dw(){if(Om())try{await Mm()}catch(i){return Qt.warn(pn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return Qt.warn(pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function xw(i,e,n,s,a,c,f){var m;const y=Rw(i);y.then(z=>{n[z.measurementId]=z.appId,i.options.measurementId&&z.measurementId!==i.options.measurementId&&Qt.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${z.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(z=>Qt.error(z)),e.push(y);const v=Dw().then(z=>{if(z)return s.getId()}),[T,V]=await Promise.all([y,v]);Ew(c)||pw(c,T.measurementId),a("js",new Date);const U=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return U[lw]="firebase",U.update=!0,V!=null&&(U[aw]=V),a("config",T.measurementId,U),T.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.app=e}_delete(){return delete Ko[this.app.options.appId],Promise.resolve()}}let Ko={},Up=[];const bp={};let Gc="dataLayer",Lw="gtag",zp,cg,Bp=!1;function Ow(){const i=[];if(nv()&&i.push("This is a browser extension environment."),iv()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,a)=>`(${a+1}) ${s}`).join(" "),n=pn.create("invalid-analytics-context",{errorInfo:e});Qt.warn(n.message)}}function Mw(i,e,n){Ow();const s=i.options.appId;if(!s)throw pn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)Qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pn.create("no-api-key");if(Ko[s]!=null)throw pn.create("already-exists",{id:s});if(!Bp){mw(Gc);const{wrappedGtag:c,gtagCore:f}=vw(Ko,Up,bp,Gc,Lw);cg=c,zp=f,Bp=!0}return Ko[s]=xw(i,Up,bp,e,zp,Gc,n),new Nw(i)}function Fw(i,e,n,s){i=Jo(i),Vw(cg,Ko[i.app.options.appId],e,n,s).catch(a=>Qt.error(a))}const jp="@firebase/analytics",$p="0.10.10";function Uw(){Wr(new dr(Fp,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return Mw(s,a,n)},"PUBLIC")),Wr(new dr("analytics-internal",i,"PRIVATE")),$n(jp,$p),$n(jp,$p,"esm2017");function i(e){try{const n=e.getProvider(Fp).getImmediate();return{logEvent:(s,a,c)=>Fw(n,s,a,c)}}catch(n){throw pn.create("interop-component-reg-failed",{reason:n})}}}Uw();var qp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,hg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,I){function A(){}A.prototype=I.prototype,D.D=I.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(k,x,N){for(var S=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)S[Ye-2]=arguments[Ye];return I.prototype[x].apply(k,S)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,I,A){A||(A=0);var k=Array(16);if(typeof I=="string")for(var x=0;16>x;++x)k[x]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(x=0;16>x;++x)k[x]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=D.g[0],A=D.g[1],x=D.g[2];var N=D.g[3],S=I+(N^A&(x^N))+k[0]+3614090360&4294967295;I=A+(S<<7&4294967295|S>>>25),S=N+(x^I&(A^x))+k[1]+3905402710&4294967295,N=I+(S<<12&4294967295|S>>>20),S=x+(A^N&(I^A))+k[2]+606105819&4294967295,x=N+(S<<17&4294967295|S>>>15),S=A+(I^x&(N^I))+k[3]+3250441966&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(N^A&(x^N))+k[4]+4118548399&4294967295,I=A+(S<<7&4294967295|S>>>25),S=N+(x^I&(A^x))+k[5]+1200080426&4294967295,N=I+(S<<12&4294967295|S>>>20),S=x+(A^N&(I^A))+k[6]+2821735955&4294967295,x=N+(S<<17&4294967295|S>>>15),S=A+(I^x&(N^I))+k[7]+4249261313&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(N^A&(x^N))+k[8]+1770035416&4294967295,I=A+(S<<7&4294967295|S>>>25),S=N+(x^I&(A^x))+k[9]+2336552879&4294967295,N=I+(S<<12&4294967295|S>>>20),S=x+(A^N&(I^A))+k[10]+4294925233&4294967295,x=N+(S<<17&4294967295|S>>>15),S=A+(I^x&(N^I))+k[11]+2304563134&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(N^A&(x^N))+k[12]+1804603682&4294967295,I=A+(S<<7&4294967295|S>>>25),S=N+(x^I&(A^x))+k[13]+4254626195&4294967295,N=I+(S<<12&4294967295|S>>>20),S=x+(A^N&(I^A))+k[14]+2792965006&4294967295,x=N+(S<<17&4294967295|S>>>15),S=A+(I^x&(N^I))+k[15]+1236535329&4294967295,A=x+(S<<22&4294967295|S>>>10),S=I+(x^N&(A^x))+k[1]+4129170786&4294967295,I=A+(S<<5&4294967295|S>>>27),S=N+(A^x&(I^A))+k[6]+3225465664&4294967295,N=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(N^I))+k[11]+643717713&4294967295,x=N+(S<<14&4294967295|S>>>18),S=A+(N^I&(x^N))+k[0]+3921069994&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^N&(A^x))+k[5]+3593408605&4294967295,I=A+(S<<5&4294967295|S>>>27),S=N+(A^x&(I^A))+k[10]+38016083&4294967295,N=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(N^I))+k[15]+3634488961&4294967295,x=N+(S<<14&4294967295|S>>>18),S=A+(N^I&(x^N))+k[4]+3889429448&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^N&(A^x))+k[9]+568446438&4294967295,I=A+(S<<5&4294967295|S>>>27),S=N+(A^x&(I^A))+k[14]+3275163606&4294967295,N=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(N^I))+k[3]+4107603335&4294967295,x=N+(S<<14&4294967295|S>>>18),S=A+(N^I&(x^N))+k[8]+1163531501&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(x^N&(A^x))+k[13]+2850285829&4294967295,I=A+(S<<5&4294967295|S>>>27),S=N+(A^x&(I^A))+k[2]+4243563512&4294967295,N=I+(S<<9&4294967295|S>>>23),S=x+(I^A&(N^I))+k[7]+1735328473&4294967295,x=N+(S<<14&4294967295|S>>>18),S=A+(N^I&(x^N))+k[12]+2368359562&4294967295,A=x+(S<<20&4294967295|S>>>12),S=I+(A^x^N)+k[5]+4294588738&4294967295,I=A+(S<<4&4294967295|S>>>28),S=N+(I^A^x)+k[8]+2272392833&4294967295,N=I+(S<<11&4294967295|S>>>21),S=x+(N^I^A)+k[11]+1839030562&4294967295,x=N+(S<<16&4294967295|S>>>16),S=A+(x^N^I)+k[14]+4259657740&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^N)+k[1]+2763975236&4294967295,I=A+(S<<4&4294967295|S>>>28),S=N+(I^A^x)+k[4]+1272893353&4294967295,N=I+(S<<11&4294967295|S>>>21),S=x+(N^I^A)+k[7]+4139469664&4294967295,x=N+(S<<16&4294967295|S>>>16),S=A+(x^N^I)+k[10]+3200236656&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^N)+k[13]+681279174&4294967295,I=A+(S<<4&4294967295|S>>>28),S=N+(I^A^x)+k[0]+3936430074&4294967295,N=I+(S<<11&4294967295|S>>>21),S=x+(N^I^A)+k[3]+3572445317&4294967295,x=N+(S<<16&4294967295|S>>>16),S=A+(x^N^I)+k[6]+76029189&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(A^x^N)+k[9]+3654602809&4294967295,I=A+(S<<4&4294967295|S>>>28),S=N+(I^A^x)+k[12]+3873151461&4294967295,N=I+(S<<11&4294967295|S>>>21),S=x+(N^I^A)+k[15]+530742520&4294967295,x=N+(S<<16&4294967295|S>>>16),S=A+(x^N^I)+k[2]+3299628645&4294967295,A=x+(S<<23&4294967295|S>>>9),S=I+(x^(A|~N))+k[0]+4096336452&4294967295,I=A+(S<<6&4294967295|S>>>26),S=N+(A^(I|~x))+k[7]+1126891415&4294967295,N=I+(S<<10&4294967295|S>>>22),S=x+(I^(N|~A))+k[14]+2878612391&4294967295,x=N+(S<<15&4294967295|S>>>17),S=A+(N^(x|~I))+k[5]+4237533241&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~N))+k[12]+1700485571&4294967295,I=A+(S<<6&4294967295|S>>>26),S=N+(A^(I|~x))+k[3]+2399980690&4294967295,N=I+(S<<10&4294967295|S>>>22),S=x+(I^(N|~A))+k[10]+4293915773&4294967295,x=N+(S<<15&4294967295|S>>>17),S=A+(N^(x|~I))+k[1]+2240044497&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~N))+k[8]+1873313359&4294967295,I=A+(S<<6&4294967295|S>>>26),S=N+(A^(I|~x))+k[15]+4264355552&4294967295,N=I+(S<<10&4294967295|S>>>22),S=x+(I^(N|~A))+k[6]+2734768916&4294967295,x=N+(S<<15&4294967295|S>>>17),S=A+(N^(x|~I))+k[13]+1309151649&4294967295,A=x+(S<<21&4294967295|S>>>11),S=I+(x^(A|~N))+k[4]+4149444226&4294967295,I=A+(S<<6&4294967295|S>>>26),S=N+(A^(I|~x))+k[11]+3174756917&4294967295,N=I+(S<<10&4294967295|S>>>22),S=x+(I^(N|~A))+k[2]+718787259&4294967295,x=N+(S<<15&4294967295|S>>>17),S=A+(N^(x|~I))+k[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+N&4294967295}s.prototype.u=function(D,I){I===void 0&&(I=D.length);for(var A=I-this.blockSize,k=this.B,x=this.h,N=0;N<I;){if(x==0)for(;N<=A;)a(this,D,N),N+=this.blockSize;if(typeof D=="string"){for(;N<I;)if(k[x++]=D.charCodeAt(N++),x==this.blockSize){a(this,k),x=0;break}}else for(;N<I;)if(k[x++]=D[N++],x==this.blockSize){a(this,k),x=0;break}}this.h=x,this.o+=I},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;var A=8*this.o;for(I=D.length-8;I<D.length;++I)D[I]=A&255,A/=256;for(this.u(D),D=Array(16),I=A=0;4>I;++I)for(var k=0;32>k;k+=8)D[A++]=this.g[I]>>>k&255;return D};function c(D,I){var A=m;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=I(D)}function f(D,I){this.h=I;for(var A=[],k=!0,x=D.length-1;0<=x;x--){var N=D[x]|0;k&&N==I||(A[x]=N,k=!1)}this.g=A}var m={};function y(D){return-128<=D&&128>D?c(D,function(I){return new f([I|0],0>I?-1:0)}):new f([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return V;if(0>D)return W(v(-D));for(var I=[],A=1,k=0;D>=A;k++)I[k]=D/A|0,A*=4294967296;return new f(I,0)}function T(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return W(T(D.substring(1),I));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(I,8)),k=V,x=0;x<D.length;x+=8){var N=Math.min(8,D.length-x),S=parseInt(D.substring(x,x+N),I);8>N?(N=v(Math.pow(I,N)),k=k.j(N).add(v(S))):(k=k.j(A),k=k.add(v(S)))}return k}var V=y(0),U=y(1),z=y(16777216);i=f.prototype,i.m=function(){if(Y(this))return-W(this).m();for(var D=0,I=1,A=0;A<this.g.length;A++){var k=this.i(A);D+=(0<=k?k:4294967296+k)*I,I*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(J(this))return"0";if(Y(this))return"-"+W(this).toString(D);for(var I=v(Math.pow(D,6)),A=this,k="";;){var x=Te(A,I).g;A=ve(A,x.j(I));var N=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=x,J(A))return N+k;for(;6>N.length;)N="0"+N;k=N+k}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function J(D){if(D.h!=0)return!1;for(var I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function Y(D){return D.h==-1}i.l=function(D){return D=ve(this,D),Y(D)?-1:J(D)?0:1};function W(D){for(var I=D.g.length,A=[],k=0;k<I;k++)A[k]=~D.g[k];return new f(A,~D.h).add(U)}i.abs=function(){return Y(this)?W(this):this},i.add=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],k=0,x=0;x<=I;x++){var N=k+(this.i(x)&65535)+(D.i(x)&65535),S=(N>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);k=S>>>16,N&=65535,S&=65535,A[x]=S<<16|N}return new f(A,A[A.length-1]&-2147483648?-1:0)};function ve(D,I){return D.add(W(I))}i.j=function(D){if(J(this)||J(D))return V;if(Y(this))return Y(D)?W(this).j(W(D)):W(W(this).j(D));if(Y(D))return W(this.j(W(D)));if(0>this.l(z)&&0>D.l(z))return v(this.m()*D.m());for(var I=this.g.length+D.g.length,A=[],k=0;k<2*I;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var x=0;x<D.g.length;x++){var N=this.i(k)>>>16,S=this.i(k)&65535,Ye=D.i(x)>>>16,St=D.i(x)&65535;A[2*k+2*x]+=S*St,ye(A,2*k+2*x),A[2*k+2*x+1]+=N*St,ye(A,2*k+2*x+1),A[2*k+2*x+1]+=S*Ye,ye(A,2*k+2*x+1),A[2*k+2*x+2]+=N*Ye,ye(A,2*k+2*x+2)}for(k=0;k<I;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=I;k<2*I;k++)A[k]=0;return new f(A,0)};function ye(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function _e(D,I){this.g=D,this.h=I}function Te(D,I){if(J(I))throw Error("division by zero");if(J(D))return new _e(V,V);if(Y(D))return I=Te(W(D),I),new _e(W(I.g),W(I.h));if(Y(I))return I=Te(D,W(I)),new _e(W(I.g),I.h);if(30<D.g.length){if(Y(D)||Y(I))throw Error("slowDivide_ only works with positive integers.");for(var A=U,k=I;0>=k.l(D);)A=Xe(A),k=Xe(k);var x=Pe(A,1),N=Pe(k,1);for(k=Pe(k,2),A=Pe(A,2);!J(k);){var S=N.add(k);0>=S.l(D)&&(x=x.add(A),N=S),k=Pe(k,1),A=Pe(A,1)}return I=ve(D,x.j(I)),new _e(x,I)}for(x=V;0<=D.l(I);){for(A=Math.max(1,Math.floor(D.m()/I.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),N=v(A),S=N.j(I);Y(S)||0<S.l(D);)A-=k,N=v(A),S=N.j(I);J(N)&&(N=U),x=x.add(N),D=ve(D,S)}return new _e(x,D)}i.A=function(D){return Te(this,D).h},i.and=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)&D.i(k);return new f(A,this.h&D.h)},i.or=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)|D.i(k);return new f(A,this.h|D.h)},i.xor=function(D){for(var I=Math.max(this.g.length,D.g.length),A=[],k=0;k<I;k++)A[k]=this.i(k)^D.i(k);return new f(A,this.h^D.h)};function Xe(D){for(var I=D.g.length+1,A=[],k=0;k<I;k++)A[k]=D.i(k)<<1|D.i(k-1)>>>31;return new f(A,D.h)}function Pe(D,I){var A=I>>5;I%=32;for(var k=D.g.length-A,x=[],N=0;N<k;N++)x[N]=0<I?D.i(N+A)>>>I|D.i(N+A+1)<<32-I:D.i(N+A);return new f(x,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,hg=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=v,f.fromString=T,Vi=f}).apply(typeof qp<"u"?qp:typeof self<"u"?self:typeof window<"u"?window:{});var Pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fg,qo,dg,Nl,lh,pg,mg,gg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,g){return l==Array.prototype||l==Object.prototype||(l[d]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pl=="object"&&Pl];for(var d=0;d<l.length;++d){var g=l[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var g=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in g))break e;g=g[L]}l=l[l.length-1],E=g[l],d=d(E),d!=E&&d!=null&&e(g,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var g=0,E=!1,L={next:function(){if(!E&&g<l.length){var b=g++;return{value:d(b,l[b]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function v(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function T(l,d,g){return l.call.apply(l.bind,arguments)}function V(l,d,g){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(d,L)}}return function(){return l.apply(d,arguments)}}function U(l,d,g){return U=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:V,U.apply(null,arguments)}function z(l,d){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function J(l,d){function g(){}g.prototype=d.prototype,l.aa=d.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(E,L,b){for(var G=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)G[Me-2]=arguments[Me];return d.prototype[L].apply(E,G)}}function Y(l){const d=l.length;if(0<d){const g=Array(d);for(let E=0;E<d;E++)g[E]=l[E];return g}return[]}function W(l,d){for(let g=1;g<arguments.length;g++){const E=arguments[g];if(y(E)){const L=l.length||0,b=E.length||0;l.length=L+b;for(let G=0;G<b;G++)l[L+G]=E[G]}else l.push(E)}}class ve{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ye(l){return/^[\s\xa0]*$/.test(l)}function _e(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function Te(l){return Te[" "](l),l}Te[" "]=function(){};var Xe=_e().indexOf("Gecko")!=-1&&!(_e().toLowerCase().indexOf("webkit")!=-1&&_e().indexOf("Edge")==-1)&&!(_e().indexOf("Trident")!=-1||_e().indexOf("MSIE")!=-1)&&_e().indexOf("Edge")==-1;function Pe(l,d,g){for(const E in l)d.call(g,l[E],E,l)}function D(l,d){for(const g in l)d.call(void 0,l[g],g,l)}function I(l){const d={};for(const g in l)d[g]=l[g];return d}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let g,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(g in E)l[g]=E[g];for(let b=0;b<A.length;b++)g=A[b],Object.prototype.hasOwnProperty.call(E,g)&&(l[g]=E[g])}}function x(l){var d=1;l=l.split(":");const g=[];for(;0<d&&l.length;)g.push(l.shift()),d--;return l.length&&g.push(l.join(":")),g}function N(l){m.setTimeout(()=>{throw l},0)}function S(){var l=oe;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Ye{constructor(){this.h=this.g=null}add(d,g){const E=St.get();E.set(d,g),this.h?this.h.next=E:this.g=E,this.h=E}}var St=new ve(()=>new At,l=>l.reset());class At{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let Fe,X=!1,oe=new Ye,R=()=>{const l=m.Promise.resolve(void 0);Fe=()=>{l.then(j)}};var j=()=>{for(var l;l=S();){try{l.h.call(l.g)}catch(g){N(g)}var d=St;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}X=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};m.addEventListener("test",g,d),m.removeEventListener("test",g,d)}catch{}return l}();function De(l,d){if(ue.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Xe){e:{try{Te(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else g=="mouseover"?d=l.fromElement:g=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:ke[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&De.aa.h.call(this)}}J(De,ue);var ke={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Ne=0;function Rt(l,d,g,E,L){this.listener=l,this.proxy=null,this.src=d,this.type=g,this.capture=!!E,this.ha=L,this.key=++Ne,this.da=this.fa=!1}function Ui(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Qn(l){this.src=l,this.g={},this.h=0}Qn.prototype.add=function(l,d,g,E,L){var b=l.toString();l=this.g[b],l||(l=this.g[b]=[],this.h++);var G=yr(l,d,E,L);return-1<G?(d=l[G],g||(d.fa=!1)):(d=new Rt(d,this.src,b,!!E,L),d.fa=g,l.push(d)),d};function bi(l,d){var g=d.type;if(g in l.g){var E=l.g[g],L=Array.prototype.indexOf.call(E,d,void 0),b;(b=0<=L)&&Array.prototype.splice.call(E,L,1),b&&(Ui(d),l.g[g].length==0&&(delete l.g[g],l.h--))}}function yr(l,d,g,E){for(var L=0;L<l.length;++L){var b=l[L];if(!b.da&&b.listener==d&&b.capture==!!g&&b.ha==E)return L}return-1}var Zr="closure_lm_"+(1e6*Math.random()|0),zi={};function Ks(l,d,g,E,L){if(Array.isArray(d)){for(var b=0;b<d.length;b++)Ks(l,d[b],g,E,L);return null}return g=Xs(g),l&&l[xe]?l.K(d,g,v(E)?!!E.capture:!1,L):Qs(l,d,g,!1,E,L)}function Qs(l,d,g,E,L,b){if(!d)throw Error("Invalid event type");var G=v(L)?!!L.capture:!!L,Me=ji(l);if(Me||(l[Zr]=Me=new Qn(l)),g=Me.add(d,g,E,G,b),g.proxy)return g;if(E=fa(),g.proxy=E,E.src=l,E.listener=g,l.addEventListener)ge||(L=G),L===void 0&&(L=!1),l.addEventListener(d.toString(),E,L);else if(l.attachEvent)l.attachEvent(Xn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function fa(){function l(g){return d.call(l.src,l.listener,g)}const d=Gs;return l}function Bi(l,d,g,E,L){if(Array.isArray(d))for(var b=0;b<d.length;b++)Bi(l,d[b],g,E,L);else E=v(E)?!!E.capture:!!E,g=Xs(g),l&&l[xe]?(l=l.i,d=String(d).toString(),d in l.g&&(b=l.g[d],g=yr(b,g,E,L),-1<g&&(Ui(b[g]),Array.prototype.splice.call(b,g,1),b.length==0&&(delete l.g[d],l.h--)))):l&&(l=ji(l))&&(d=l.g[d.toString()],l=-1,d&&(l=yr(d,g,E,L)),(g=-1<l?d[l]:null)&&Gn(g))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[xe])bi(d.i,l);else{var g=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(g,E,l.capture):d.detachEvent?d.detachEvent(Xn(g),E):d.addListener&&d.removeListener&&d.removeListener(E),(g=ji(d))?(bi(g,l),g.h==0&&(g.src=null,d[Zr]=null)):Ui(l)}}}function Xn(l){return l in zi?zi[l]:zi[l]="on"+l}function Gs(l,d){if(l.da)l=!0;else{d=new De(d,this);var g=l.listener,E=l.ha||l.src;l.fa&&Gn(l),l=g.call(E,d)}return l}function ji(l){return l=l[Zr],l instanceof Qn?l:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xs(l){return typeof l=="function"?l:(l[$i]||(l[$i]=function(d){return l.handleEvent(d)}),l[$i])}function it(){ne.call(this),this.i=new Qn(this),this.M=this,this.F=null}J(it,ne),it.prototype[xe]=!0,it.prototype.removeEventListener=function(l,d,g,E){Bi(this,l,d,g,E)};function st(l,d){var g,E=l.F;if(E)for(g=[];E;E=E.F)g.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new ue(d,l);else if(d instanceof ue)d.target=d.target||l;else{var L=d;d=new ue(E,l),k(d,L)}if(L=!0,g)for(var b=g.length-1;0<=b;b--){var G=d.g=g[b];L=Yn(G,E,!0,d)&&L}if(G=d.g=l,L=Yn(G,E,!0,d)&&L,L=Yn(G,E,!1,d)&&L,g)for(b=0;b<g.length;b++)G=d.g=g[b],L=Yn(G,E,!1,d)&&L}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var g=l.g[d],E=0;E<g.length;E++)Ui(g[E]);delete l.g[d],l.h--}}this.F=null},it.prototype.K=function(l,d,g,E){return this.i.add(String(l),d,!1,g,E)},it.prototype.L=function(l,d,g,E){return this.i.add(String(l),d,!0,g,E)};function Yn(l,d,g,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,b=0;b<d.length;++b){var G=d[b];if(G&&!G.da&&G.capture==g){var Me=G.listener,ot=G.ha||G.src;G.fa&&bi(l.i,G),L=Me.call(ot,E)!==!1&&L}}return L&&!E.defaultPrevented}function Ys(l,d,g){if(typeof l=="function")g&&(l=U(l,g));else if(l&&typeof l.handleEvent=="function")l=U(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function _r(l){l.g=Ys(()=>{l.g=null,l.i&&(l.i=!1,_r(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ei extends ne{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:_r(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(l){ne.call(this),this.h=l,this.g={}}J(ti,ne);var Js=[];function Zs(l){Pe(l.g,function(d,g){this.g.hasOwnProperty(g)&&Gn(d)},l),l.g={}}ti.prototype.N=function(){ti.aa.N.call(this),Zs(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=m.JSON.stringify,to=m.JSON.parse,no=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ni(){}ni.prototype.h=null;function qi(l){return l.h||(l.h=l.i())}function Hi(){}var nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xn(){ue.call(this,"d")}J(xn,ue);function Wi(){ue.call(this,"c")}J(Wi,ue);var Nn={},ro=null;function ri(){return ro=ro||new it}Nn.La="serverreachability";function io(l){ue.call(this,Nn.La,l)}J(io,ue);function Jn(l){const d=ri();st(d,new io(d))}Nn.STAT_EVENT="statevent";function so(l,d){ue.call(this,Nn.STAT_EVENT,l),this.stat=d}J(so,ue);function Je(l){const d=ri();st(d,new so(d,l))}Nn.Ma="timingevent";function Ki(l,d){ue.call(this,Nn.Ma,l),this.size=d}J(Ki,ue);function gn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function ii(){this.g=!0}ii.prototype.xa=function(){this.g=!1};function si(l,d,g,E,L,b){l.info(function(){if(l.g)if(b)for(var G="",Me=b.split("&"),ot=0;ot<Me.length;ot++){var Ae=Me[ot].split("=");if(1<Ae.length){var ft=Ae[0];Ae=Ae[1];var tt=ft.split("_");G=2<=tt.length&&tt[1]=="type"?G+(ft+"="+Ae+"&"):G+(ft+"=redacted&")}}else G=null;else G=b;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+d+`
`+g+`
`+G})}function Qi(l,d,g,E,L,b,G){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+d+`
`+g+`
`+b+" "+G})}function yn(l,d,g,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+fu(l,g)+(E?" "+E:"")})}function oo(l,d){l.info(function(){return"TIMEOUT: "+d})}ii.prototype.info=function(){};function fu(l,d){if(!l.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var E=g[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var b=L[0];if(b!="noop"&&b!="stop"&&b!="close")for(var G=1;G<L.length;G++)L[G]=""}}}}return eo(g)}catch{return d}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},da={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_n;function oi(){}J(oi,ni),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},_n=new oi;function vn(l,d,g,E){this.j=l,this.i=d,this.l=g,this.R=E||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pa}function pa(){this.i=null,this.g="",this.h=!1}var ao={},Xi={};function Yi(l,d,g){l.L=1,l.v=Ir(Xt(d)),l.m=g,l.P=!0,lo(l,null)}function lo(l,d){l.F=Date.now(),be(l),l.A=Xt(l.v);var g=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Ar(g.i,"t",E),l.C=0,g=l.j.J,l.h=new pa,l.g=xa(l.j,g?d:null,!l.m),0<l.O&&(l.M=new ei(U(l.Y,l,l.g),l.O)),d=l.U,g=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Js[0]=L.toString()),L=Js);for(var b=0;b<L.length;b++){var G=Ks(g,L[b],E||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.H?I(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Jn(),si(l.i,l.u,l.A,l.l,l.R,l.m)}vn.prototype.ca=function(l){l=l.target;const d=this.M;d&&bt(l)==3?d.j():this.Y(l)},vn.prototype.Y=function(l){try{if(l==this.g)e:{const tt=bt(this.g);var d=this.g.Ba();const on=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||mo(this.g)))){this.J||tt!=4||d==7||(d==8||0>=on?Jn(3):Jn(2)),ai(this);var g=this.g.Z();this.X=g;t:if(ma(this)){var E=mo(this.g);l="";var L=E.length,b=bt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),vr(this);var G="";break t}this.h.i=new m.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(b&&d==L-1)});E.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,Qi(this.i,this.u,this.A,this.l,this.R,tt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Me,ot=this.g;if((Me=ot.g?ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(Me)){var Ae=Me;break t}}Ae=null}if(g=Ae)yn(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uo(this,g);else{this.o=!1,this.s=3,Je(12),rn(this),vr(this);break e}}if(this.P){g=!0;let Jt;for(;!this.J&&this.C<G.length;)if(Jt=du(this,G),Jt==Xi){tt==4&&(this.s=4,Je(14),g=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==ao){this.s=4,Je(15),yn(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else yn(this.i,this.l,Jt,null),uo(this,Jt);if(ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||G.length!=0||this.h.h||(this.s=1,Je(16),g=!1),this.o=this.o&&g,!g)yn(this.i,this.l,G,"[Invalid Chunked Response]"),rn(this),vr(this);else if(0<G.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),yo(ft),ft.M=!0,Je(11))}}else yn(this.i,this.l,G,null),uo(this,G);tt==4&&rn(this),this.o&&!this.J&&(tt==4?ls(this.j,this):(this.o=!1,be(this)))}else rs(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),rn(this),vr(this)}}}catch{}finally{}};function ma(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function du(l,d){var g=l.C,E=d.indexOf(`
`,g);return E==-1?Xi:(g=Number(d.substring(g,E)),isNaN(g)?ao:(E+=1,E+g>d.length?Xi:(d=d.slice(E,E+g),l.C=E+g,d)))}vn.prototype.cancel=function(){this.J=!0,rn(this)};function be(l){l.S=Date.now()+l.I,ga(l,l.I)}function ga(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=gn(U(l.ba,l),d)}function ai(l){l.B&&(m.clearTimeout(l.B),l.B=null)}vn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(oo(this.i,this.A),this.L!=2&&(Jn(),Je(17)),rn(this),this.s=2,vr(this)):ga(this,this.S-l)};function vr(l){l.j.G==0||l.J||ls(l.j,l)}function rn(l){ai(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Zs(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function uo(l,d){try{var g=l.j;if(g.G!=0&&(g.g==l||Lt(g.h,l))){if(!l.K&&Lt(g.h,l)&&g.G==3){try{var E=g.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)as(g),Sn(g);else break e;os(g),Je(18)}}else g.za=L[1],0<g.za-g.T&&37500>L[2]&&g.F&&g.v==0&&!g.C&&(g.C=gn(U(g.Za,g),6e3));if(1>=_a(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else rr(g,11)}else if((l.K||g.g==l)&&as(g),!ye(d))for(L=g.Da.g.parse(d),d=0;d<L.length;d++){let Ae=L[d];if(g.T=Ae[0],Ae=Ae[1],g.G==2)if(Ae[0]=="c"){g.K=Ae[1],g.ia=Ae[2];const ft=Ae[3];ft!=null&&(g.la=ft,g.j.info("VER="+g.la));const tt=Ae[4];tt!=null&&(g.Aa=tt,g.j.info("SVER="+g.Aa));const on=Ae[5];on!=null&&typeof on=="number"&&0<on&&(E=1.5*on,g.L=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Jt=l.g;if(Jt){const pi=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var b=E.h;b.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(co(b,b.h),b.h=null))}if(E.D){const cs=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;cs&&(E.ya=cs,Ue(E.I,E.D,cs))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),E=g;var G=l;if(E.qa=Da(E,E.J?E.ia:null,E.W),G.K){va(E.h,G);var Me=G,ot=E.L;ot&&(Me.I=ot),Me.B&&(ai(Me),be(Me)),E.g=G}else di(E);0<g.i.length&&Fn(g)}else Ae[0]!="stop"&&Ae[0]!="close"||rr(g,7);else g.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?rr(g,7):_t(g):Ae[0]!="noop"&&g.l&&g.l.ta(Ae),g.v=0)}}Jn(4)}catch{}}var ya=class{constructor(l,d){this.g=l,this.map=d}};function li(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _a(l){return l.h?1:l.g?l.g.size:0}function Lt(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function co(l,d){l.g?l.g.add(d):l.h=d}function va(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}li.prototype.cancel=function(){if(this.i=Ea(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ea(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const g of l.g.values())d=d.concat(g.D);return d}return Y(l.i)}function Ji(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(y(l)){for(var d=[],g=l.length,E=0;E<g;E++)d.push(l[E]);return d}d=[],g=0;for(E in l)d[g++]=l[E];return d}function Zi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(y(l)||typeof l=="string"){var d=[];l=l.length;for(var g=0;g<l;g++)d.push(g);return d}d=[],g=0;for(const E in l)d[g++]=E;return d}}}function Er(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(y(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var g=Zi(l),E=Ji(l),L=E.length,b=0;b<L;b++)d.call(void 0,E[b],g&&g[b],l)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pu(l,d){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var E=l[g].indexOf("="),L=null;if(0<=E){var b=l[g].substring(0,E);L=l[g].substring(E+1)}else b=l[g];d(b,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Zn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zn){this.h=l.h,ci(this,l.j),this.o=l.o,this.g=l.g,wr(this,l.s),this.l=l.l;var d=l.i,g=new Ln;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Tr(this,g),this.m=l.m}else l&&(d=String(l).match(ui))?(this.h=!1,ci(this,d[1]||"",!0),this.o=Ie(d[2]||""),this.g=Ie(d[3]||"",!0),wr(this,d[4]),this.l=Ie(d[5]||"",!0),Tr(this,d[6]||"",!0),this.m=Ie(d[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Zn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Sr(d,es,!0),":");var g=this.g;return(g||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Sr(d,es,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Sr(g,g.charAt(0)=="/"?Ia:Ta,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Sr(g,ho)),l.join("")};function Xt(l){return new Zn(l)}function ci(l,d,g){l.j=g?Ie(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function wr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Tr(l,d,g){d instanceof Ln?(l.i=d,On(l.i,l.h)):(g||(d=Sr(d,Sa)),l.i=new Ln(d,l.h))}function Ue(l,d,g){l.i.set(d,g)}function Ir(l){return Ue(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ie(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Sr(l,d,g){return typeof l=="string"?(l=encodeURI(l).replace(d,wa),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function wa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var es=/[#\/\?@]/g,Ta=/[#\?:]/g,Ia=/[#\?]/g,Sa=/[#\?@]/g,ho=/#/g;function Ln(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function yt(l){l.g||(l.g=new Map,l.h=0,l.i&&pu(l.i,function(d,g){l.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}i=Ln.prototype,i.add=function(l,d){yt(this),this.i=null,l=sn(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(d),this.h+=1,this};function En(l,d){yt(l),d=sn(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wn(l,d){return yt(l),d=sn(l,d),l.g.has(d)}i.forEach=function(l,d){yt(this),this.g.forEach(function(g,E){g.forEach(function(L){l.call(d,L,E,this)},this)},this)},i.na=function(){yt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let E=0;E<d.length;E++){const L=l[E];for(let b=0;b<L.length;b++)g.push(d[E])}return g},i.V=function(l){yt(this);let d=[];if(typeof l=="string")wn(this,l)&&(d=d.concat(this.g.get(sn(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)d=d.concat(l[g])}return d},i.set=function(l,d){return yt(this),this.i=null,l=sn(this,l),wn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ar(l,d,g){En(l,d),0<g.length&&(l.i=null,l.g.set(sn(l,d),Y(g)),l.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var E=d[g];const b=encodeURIComponent(String(E)),G=this.V(E);for(E=0;E<G.length;E++){var L=b;G[E]!==""&&(L+="="+encodeURIComponent(String(G[E]))),l.push(L)}}return this.i=l.join("&")};function sn(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function On(l,d){d&&!l.j&&(yt(l),l.i=null,l.g.forEach(function(g,E){var L=E.toLowerCase();E!=L&&(En(this,E),Ar(this,L,g))},l)),l.j=d}function mu(l,d){const g=new ii;if(m.Image){const E=new Image;E.onload=z(Ut,g,"TestLoadImage: loaded",!0,d,E),E.onerror=z(Ut,g,"TestLoadImage: error",!1,d,E),E.onabort=z(Ut,g,"TestLoadImage: abort",!1,d,E),E.ontimeout=z(Ut,g,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Aa(l,d){const g=new ii,E=new AbortController,L=setTimeout(()=>{E.abort(),Ut(g,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(b=>{clearTimeout(L),b.ok?Ut(g,"TestPingServer: ok",!0,d):Ut(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Ut(g,"TestPingServer: error",!1,d)})}function Ut(l,d,g,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(g)}catch{}}function gu(){this.g=new no}function Ra(l,d,g){const E=g||"";try{Er(l,function(L,b){let G=L;v(L)&&(G=eo(L)),d.push(E+b+"="+encodeURIComponent(G))})}catch(L){throw d.push(E+"type="+encodeURIComponent("_badmap")),L}}function er(l){this.l=l.Ub||null,this.j=l.eb||!1}J(er,ni),er.prototype.g=function(){return new hi(this.l,this.j)},er.prototype.i=function(l){return function(){return l}}({});function hi(l,d){it.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(hi,it),i=hi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ca(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ca(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Tn(this):In(this),this.readyState==3&&Ca(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Tn(this))},i.Qa=function(l){this.g&&(this.response=l,Tn(this))},i.ga=function(){this.g&&Tn(this)};function Tn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tr(l){let d="";return Pe(l,function(g,E){d+=E,d+=":",d+=g,d+=`\r
`}),d}function Rr(l,d,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=tr(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ue(l,d,g))}function $e(l){it.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J($e,it);var yu=/^https?$/i,fo=["POST","PUT"];i=$e.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_n.g(),this.v=this.o?qi(this.o):qi(_n),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(b){fi(this,b);return}if(l=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)g.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const b of E.keys())g.set(b,E.get(b));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(b=>b.toLowerCase()=="content-type"),L=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(fo,d,void 0))||E||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,G]of g)this.g.setRequestHeader(b,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(l),this.u=!1}catch(b){fi(this,b)}};function fi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ts(l),Yt(l)}function ts(l){l.A||(l.A=!0,st(l,"complete"),st(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,st(this,"complete"),st(this,"abort"),Yt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yt(this,!0)),$e.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?po(this):this.bb())},i.bb=function(){po(this)};function po(l){if(l.h&&typeof f<"u"&&(!l.v[1]||bt(l)!=4||l.Z()!=2)){if(l.u&&bt(l)==4)Ys(l.Ea,0,l);else if(st(l,"readystatechange"),bt(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var g;if(!(g=d)){var E;if(E=G===0){var L=String(l.D).match(ui)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),E=!yu.test(L?L.toLowerCase():"")}g=E}if(g)st(l,"complete"),st(l,"success");else{l.m=6;try{var b=2<bt(l)?l.g.statusText:""}catch{b=""}l.l=b+" ["+l.Z()+"]",ts(l)}}finally{Yt(l)}}}}function Yt(l,d){if(l.g){ns(l);const g=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||st(l,"ready");try{g.onreadystatechange=E}catch{}}}function ns(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function bt(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<bt(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),to(d)}};function mo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(l){const d={};l=(l.g&&2<=bt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ye(l[E]))continue;var g=x(l[E]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const b=d[L]||[];d[L]=b,b.push(g)}D(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mn(l,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||d}function go(l){this.Aa=0,this.i=[],this.j=new ii,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mn("baseRetryDelayMs",5e3,l),this.cb=Mn("retryDelaySeedMs",1e4,l),this.Wa=Mn("forwardChannelMaxRetries",2,l),this.wa=Mn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new li(l&&l.concurrentRequestLimit),this.Da=new gu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=go.prototype,i.la=8,i.G=1,i.connect=function(l,d,g,E){Je(0),this.W=l,this.H=d||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.I=Da(this,null,this.W),Fn(this)};function _t(l){if(is(l),l.G==3){var d=l.U++,g=Xt(l.I);if(Ue(g,"SID",l.K),Ue(g,"RID",d),Ue(g,"TYPE","terminate"),nr(l,g),d=new vn(l,l.j,d),d.L=2,d.v=Ir(Xt(g)),g=!1,m.navigator&&m.navigator.sendBeacon)try{g=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&m.Image&&(new Image().src=d.v,g=!0),g||(d.g=xa(d.j,null),d.g.ea(d.v)),d.F=Date.now(),be(d)}Va(l)}function Sn(l){l.g&&(yo(l),l.g.cancel(),l.g=null)}function is(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),as(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Fn(l){if(!Gt(l.h)&&!l.s){l.s=!0;var d=l.Ga;Fe||R(),X||(Fe(),X=!0),oe.add(d,l),l.B=0}}function _u(l,d){return _a(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=gn(U(l.Ga,l,d),ka(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new vn(this,this.j,l);let b=this.o;if(this.S&&(b?(b=I(b),k(b,this.S)):b=this.S),this.m!==null||this.O||(L.H=b,b=null),this.P)e:{for(var d=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=g;break e}if(d===4096||g===this.i.length-1){d=g+1;break e}}d=1e3}else d=1e3;d=Cr(this,L,d),g=Xt(this.I),Ue(g,"RID",l),Ue(g,"CVER",22),this.D&&Ue(g,"X-HTTP-Session-Id",this.D),nr(this,g),b&&(this.O?d="headers="+encodeURIComponent(String(tr(b)))+"&"+d:this.m&&Rr(g,this.m,b)),co(this.h,L),this.Ua&&Ue(g,"TYPE","init"),this.P?(Ue(g,"$req",d),Ue(g,"SID","null"),L.T=!0,Yi(L,g,null)):Yi(L,g,d),this.G=2}}else this.G==3&&(l?ss(this,l):this.i.length==0||Gt(this.h)||ss(this))};function ss(l,d){var g;d?g=d.l:g=l.U++;const E=Xt(l.I);Ue(E,"SID",l.K),Ue(E,"RID",g),Ue(E,"AID",l.T),nr(l,E),l.m&&l.o&&Rr(E,l.m,l.o),g=new vn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Cr(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),co(l.h,g),Yi(g,E,d)}function nr(l,d){l.H&&Pe(l.H,function(g,E){Ue(d,E,g)}),l.l&&Er({},function(g,E){Ue(d,E,g)})}function Cr(l,d,g){g=Math.min(l.i.length,g);var E=l.l?U(l.l.Na,l.l,l):null;e:{var L=l.i;let b=-1;for(;;){const G=["count="+g];b==-1?0<g?(b=L[0].g,G.push("ofs="+b)):b=0:G.push("ofs="+b);let Me=!0;for(let ot=0;ot<g;ot++){let Ae=L[ot].g;const ft=L[ot].map;if(Ae-=b,0>Ae)b=Math.max(0,L[ot].g-100),Me=!1;else try{Ra(ft,G,"req"+Ae+"_")}catch{E&&E(ft)}}if(Me){E=G.join("&");break e}}}return l=l.i.splice(0,g),d.D=l,E}function di(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Fe||R(),X||(Fe(),X=!0),oe.add(d,l),l.v=0}}function os(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=gn(U(l.Fa,l),ka(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Pa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gn(U(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),Sn(this),Pa(this))};function yo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Pa(l){l.g=new vn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Xt(l.qa);Ue(d,"RID","rpc"),Ue(d,"SID",l.K),Ue(d,"AID",l.T),Ue(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ue(d,"TO",l.ja),Ue(d,"TYPE","xmlhttp"),nr(l,d),l.m&&l.o&&Rr(d,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Ir(Xt(d)),g.m=null,g.P=!0,lo(g,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),os(this),Je(19))};function as(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ls(l,d){var g=null;if(l.g==d){as(l),yo(l),l.g=null;var E=2}else if(Lt(l.h,d))g=d.D,va(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var L=l.B;E=ri(),st(E,new Ki(E,g)),Fn(l)}else di(l);else if(L=d.s,L==3||L==0&&0<d.X||!(E==1&&_u(l,d)||E==2&&os(l)))switch(g&&0<g.length&&(d=l.h,d.i=d.i.concat(g)),L){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function ka(l,d){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*d}function rr(l,d){if(l.j.info("Error code "+d),d==2){var g=U(l.fb,l),E=l.Xa;const L=!E;E=new Zn(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ci(E,"https"),Ir(E),L?mu(E.toString(),g):Aa(E.toString(),g)}else Je(2);l.G=0,l.l&&l.l.sa(d),Va(l),is(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function Va(l){if(l.G=0,l.ka=[],l.l){const d=Ea(l.h);(d.length!=0||l.i.length!=0)&&(W(l.ka,d),W(l.ka,l.i),l.h.i.length=0,Y(l.i),l.i.length=0),l.l.ra()}}function Da(l,d,g){var E=g instanceof Zn?Xt(g):new Zn(g);if(E.g!="")d&&(E.g=d+"."+E.g),wr(E,E.s);else{var L=m.location;E=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var b=new Zn(null);E&&ci(b,E),d&&(b.g=d),L&&wr(b,L),g&&(b.l=g),E=b}return g=l.D,d=l.ya,g&&d&&Ue(E,g,d),Ue(E,"VER",l.la),nr(l,E),E}function xa(l,d,g){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new $e(new er({eb:g})):new $e(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _o(){}i=_o.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function us(){}us.prototype.g=function(l,d){return new Ot(l,d)};function Ot(l,d){it.call(this),this.g=new go(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ye(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ye(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Un(this)}J(Ot,it),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){_t(this.g)},Ot.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=eo(l),l=g);d.i.push(new ya(d.Ya++,l)),d.G==3&&Fn(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,_t(this.g),delete this.g,Ot.aa.N.call(this)};function Na(l){xn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const g in d){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}J(Na,xn);function La(){Wi.call(this),this.status=1}J(La,Wi);function Un(l){this.g=l}J(Un,_o),Un.prototype.ua=function(){st(this.g,"a")},Un.prototype.ta=function(l){st(this.g,new Na(l))},Un.prototype.sa=function(l){st(this.g,new La)},Un.prototype.ra=function(){st(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,gg=function(){return new us},mg=function(){return ri()},pg=Nn,lh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,Nl=Gi,da.COMPLETE="complete",dg=da,Hi.EventType=nn,nn.OPEN="a",nn.CLOSE="b",nn.ERROR="c",nn.MESSAGE="d",it.prototype.listen=it.prototype.K,qo=Hi,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,fg=$e}).apply(typeof Pl<"u"?Pl:typeof self<"u"?self:typeof window<"u"?window:{});const Hp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xt.UNAUTHENTICATED=new xt(null),xt.GOOGLE_CREDENTIALS=new xt("google-credentials-uid"),xt.FIRST_PARTY=new xt("first-party-uid"),xt.MOCK_USER=new xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $s="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Sh("@firebase/firestore");function Ds(){return Ni.logLevel}function ee(i,...e){if(Ni.logLevel<=Ce.DEBUG){const n=e.map(xh);Ni.debug(`Firestore (${$s}): ${i}`,...n)}}function mr(i,...e){if(Ni.logLevel<=Ce.ERROR){const n=e.map(xh);Ni.error(`Firestore (${$s}): ${i}`,...n)}}function Ms(i,...e){if(Ni.logLevel<=Ce.WARN){const n=e.map(xh);Ni.warn(`Firestore (${$s}): ${i}`,...n)}}function xh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(i="Unexpected state"){const e=`FIRESTORE (${$s}) INTERNAL ASSERTION FAILED: `+i;throw mr(e),new Error(e)}function Oe(i,e){i||de()}function me(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Jr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xt.UNAUTHENTICATED))}shutdown(){}}class zw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bw{constructor(e){this.t=e,this.currentUser=xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Oe(this.o===void 0);let s=this.i;const a=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const y=c;e.enqueueRetryable(async()=>{await y.promise,await a(this.currentUser)})},m=y=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Oe(typeof s.accessToken=="string"),new yg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Oe(e===null||typeof e=="string"),new xt(e)}}class jw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $w{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new jw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Oe(this.o===void 0);const s=c=>{c.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ee("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Oe(typeof n.token=="string"),this.R=n.token,new qw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Ww(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Se(i,e){return i<e?-1:i>e?1:0}function Fs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new ct(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ct(0,0))}static max(){return new pe(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n,s){n===void 0?n=0:n>e.length&&de(),s===void 0?s=e.length-n:s>e.length-n&&de(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ea.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ea?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends ea{construct(e,n,s){return new Ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const Kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tt extends ea{construct(e,n,s){return new Tt(e,n,s)}static isValidIdentifier(e){return Kw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ce(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ce(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[a+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ce(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tt(n)}static emptyPath(){return new Tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Ge.fromString(e))}static fromName(e){return new he(Ge.fromString(e).popFirst(5))}static empty(){return new he(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Ge(e.slice()))}}function Qw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=pe.fromTimestamp(s===1e9?new ct(n+1,0):new ct(n,s));return new Kr(a,he.empty(),e)}function Gw(i){return new Kr(i.readTime,i.key,-1)}class Kr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kr(pe.min(),he.empty(),-1)}static max(){return new Kr(pe.max(),he.empty(),-1)}}function Xw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(i.documentKey,e.documentKey),n!==0?n:Se(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(i){if(i.code!==K.FAILED_PRECONDITION||i.message!==Yw)throw i;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,s)=>{n(e)})}static reject(e){return new B((n,s)=>{s(e)})}static waitFor(e){return new B((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},y=>s(y))}),f=!0,c===a&&n()})}static or(e){let n=B.resolve(!1);for(const s of e)n=n.next(a=>a?B.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new B((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const v=y;n(e[v]).next(T=>{f[v]=T,++m,m===c&&s(f)},T=>a(T))}})}static doWhile(e,n){return new B((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function Zw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Hs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}eu.oe=-1;function tu(i){return i==null}function Bl(i){return i===0&&1/i==-1/0}function eT(i){return typeof i=="number"&&Number.isInteger(i)&&!Bl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Wp(e)),e=nT(i.get(n),e);return Wp(e)}function nT(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Wp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Li(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function vg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kl(this.root,e,this.comparator,!1)}getReverseIterator(){return new kl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kl(this.root,e,this.comparator,!0)}}class kl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??wt.RED,this.left=a??wt.EMPTY,this.right=c??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new wt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return wt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,s,a,c){return this}insert(e,n,s){return new wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qp(this.data.getIterator())}getIteratorFrom(e){return new Qp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ht(this.comparator);return n.data=e,n}}class Qp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Tt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new ht(Tt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Eg("Invalid base64 string: "+c):c}}(e);return new It(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new It(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}It.EMPTY_BYTE_STRING=new It("");const rT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qr(i){if(Oe(!!i),typeof i=="string"){let e=0;const n=rT.exec(i);if(Oe(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:et(i.seconds),nanos:et(i.nanos)}}function et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Gr(i){return typeof i=="string"?It.fromBase64String(i):It.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nu(i){const e=i.mapValue.fields.__previous_value__;return Nh(e)?nu(e):e}function ta(i){const e=Qr(i.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,a,c,f,m,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=v}}class na{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new na("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof na&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Nh(i)?4:oT(i)?9007199254740991:sT(i)?10:11:de()}function Wn(i,e){if(i===e)return!0;const n=Xr(i);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ta(i).isEqual(ta(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Qr(a.timestampValue),m=Qr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Gr(a.bytesValue).isEqual(Gr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return et(a.geoPointValue.latitude)===et(c.geoPointValue.latitude)&&et(a.geoPointValue.longitude)===et(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return et(a.integerValue)===et(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=et(a.doubleValue),m=et(c.doubleValue);return f===m?Bl(f)===Bl(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Fs(i.arrayValue.values||[],e.arrayValue.values||[],Wn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Kp(f)!==Kp(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Wn(f[y],m[y])))return!1;return!0}(i,e);default:return de()}}function ra(i,e){return(i.values||[]).find(n=>Wn(n,e))!==void 0}function Us(i,e){if(i===e)return 0;const n=Xr(i),s=Xr(e);if(n!==s)return Se(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=et(c.integerValue||c.doubleValue),y=et(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(i,e);case 3:return Gp(i.timestampValue,e.timestampValue);case 4:return Gp(ta(i),ta(e));case 5:return Se(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Gr(c),y=Gr(f);return m.compareTo(y)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),y=f.split("/");for(let v=0;v<m.length&&v<y.length;v++){const T=Se(m[v],y[v]);if(T!==0)return T}return Se(m.length,y.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Se(et(c.latitude),et(f.latitude));return m!==0?m:Se(et(c.longitude),et(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Xp(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,y,v,T;const V=c.fields||{},U=f.fields||{},z=(m=V.value)===null||m===void 0?void 0:m.arrayValue,J=(y=U.value)===null||y===void 0?void 0:y.arrayValue,Y=Se(((v=z==null?void 0:z.values)===null||v===void 0?void 0:v.length)||0,((T=J==null?void 0:J.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:Xp(z,J)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Vl.mapValue&&f===Vl.mapValue)return 0;if(c===Vl.mapValue)return 1;if(f===Vl.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),v=f.fields||{},T=Object.keys(v);y.sort(),T.sort();for(let V=0;V<y.length&&V<T.length;++V){const U=Se(y[V],T[V]);if(U!==0)return U;const z=Us(m[y[V]],v[T[V]]);if(z!==0)return z}return Se(y.length,T.length)}(i.mapValue,e.mapValue);default:throw de()}}function Gp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Se(i,e);const n=Qr(i),s=Qr(e),a=Se(n.seconds,s.seconds);return a!==0?a:Se(n.nanos,s.nanos)}function Xp(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Us(n[a],s[a]);if(c)return c}return Se(n.length,s.length)}function bs(i){return uh(i)}function uh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Gr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return he.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=uh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${uh(n.fields[f])}`;return a+"}"}(i.mapValue):de()}function Ll(i){switch(Xr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nu(i);return e?16+Ll(e):16;case 5:return 2*i.stringValue.length;case 6:return Gr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Ll(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Li(s.fields,(c,f)=>{a+=c.length+Ll(f)}),a}(i.mapValue);default:throw de()}}function ch(i){return!!i&&"integerValue"in i}function Lh(i){return!!i&&"arrayValue"in i}function Yp(i){return!!i&&"nullValue"in i}function Jp(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ol(i){return!!i&&"mapValue"in i}function sT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Qo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Li(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Qo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function oT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ol(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=Tt.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Qo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Ol(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ol(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Li(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new dn(Qo(this.value))}}function wg(i){const e=[];return Li(i.fields,(n,s)=>{const a=new Tt([n]);if(Ol(s)){const c=wg(s.mapValue).fields;if(c.length===0)e.push(a);else for(const f of c)e.push(a.child(f))}else e.push(a)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Nt(e,0,pe.min(),pe.min(),pe.min(),dn.empty(),0)}static newFoundDocument(e,n,s,a){return new Nt(e,1,n,pe.min(),s,a,0)}static newNoDocument(e,n){return new Nt(e,2,n,pe.min(),pe.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Nt(e,3,n,pe.min(),pe.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.position=e,this.inclusive=n}}function Zp(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=he.comparator(he.fromName(f.referenceValue),n.key):s=Us(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function em(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Wn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n="asc"){this.field=e,this.dir=n}}function aT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{}class ut extends Tg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uT(e,n,s):n==="array-contains"?new fT(e,s):n==="in"?new dT(e,s):n==="not-in"?new pT(e,s):n==="array-contains-any"?new mT(e,s):new ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new cT(e,s):new hT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Us(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends Tg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Kn(e,n)}matches(e){return Ig(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ig(i){return i.op==="and"}function Sg(i){return lT(i)&&Ig(i)}function lT(i){for(const e of i.filters)if(e instanceof Kn)return!1;return!0}function hh(i){if(i instanceof ut)return i.field.canonicalString()+i.op.toString()+bs(i.value);if(Sg(i))return i.filters.map(e=>hh(e)).join(",");{const e=i.filters.map(n=>hh(n)).join(",");return`${i.op}(${e})`}}function Ag(i,e){return i instanceof ut?function(s,a){return a instanceof ut&&s.op===a.op&&s.field.isEqual(a.field)&&Wn(s.value,a.value)}(i,e):i instanceof Kn?function(s,a){return a instanceof Kn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Ag(f,a.filters[m]),!0):!1}(i,e):void de()}function Rg(i){return i instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${bs(n.value)}`}(i):i instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(Rg).join(" ,")+"}"}(i):"Filter"}class uT extends ut{constructor(e,n,s){super(e,n,s),this.key=he.fromName(s.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class cT extends ut{constructor(e,n){super(e,"in",n),this.keys=Cg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hT extends ut{constructor(e,n){super(e,"not-in",n),this.keys=Cg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>he.fromName(s.referenceValue))}class fT extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lh(n)&&ra(n.arrayValue,this.value)}}class dT extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ra(this.value.arrayValue,n)}}class pT extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(ra(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ra(this.value.arrayValue,n)}}class mT extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ra(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function tm(i,e=null,n=[],s=[],a=null,c=null,f=null){return new gT(i,e,n,s,a,c,f)}function Oh(i){const e=me(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>hh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>bs(s)).join(",")),e.ue=n}return e.ue}function Mh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!aT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ag(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!em(i.startAt,e.startAt)&&em(i.endAt,e.endAt)}function fh(i){return he.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yT(i,e,n,s,a,c,f,m){return new ru(i,e,n,s,a,c,f,m)}function Fh(i){return new ru(i)}function nm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function _T(i){return i.collectionGroup!==null}function Go(i){const e=me(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new ht(Tt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new $l(c,s))}),n.has(Tt.keyField().canonicalString())||e.ce.push(new $l(Tt.keyField(),s))}return e.ce}function qn(i){const e=me(i);return e.le||(e.le=vT(e,Go(i))),e.le}function vT(i,e){if(i.limitType==="F")return tm(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new $l(a.field,c)});const n=i.endAt?new jl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new jl(i.startAt.position,i.startAt.inclusive):null;return tm(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function dh(i,e,n){return new ru(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function iu(i,e){return Mh(qn(i),qn(e))&&i.limitType===e.limitType}function Pg(i){return`${Oh(qn(i))}|lt:${i.limitType}`}function xs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Rg(a)).join(", ")}]`),tu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>bs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>bs(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function su(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):he.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Go(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,y){const v=Zp(f,m,y);return f.inclusive?v<=0:v<0}(s.startAt,Go(s),a)||s.endAt&&!function(f,m,y){const v=Zp(f,m,y);return f.inclusive?v>=0:v>0}(s.endAt,Go(s),a))}(i,e)}function ET(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kg(i){return(e,n)=>{let s=!1;for(const a of Go(i)){const c=wT(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function wT(i,e,n){const s=i.field.isKeyField()?he.comparator(e.key,n.key):function(c,f,m){const y=f.data.field(c),v=m.data.field(c);return y!==null&&v!==null?Us(y,v):de()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return vg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=new Ke(he.comparator);function gr(){return TT}const Vg=new Ke(he.comparator);function Ho(...i){let e=Vg;for(const n of i)e=e.insert(n.key,n);return e}function Dg(i){let e=Vg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ki(){return Xo()}function xg(){return Xo()}function Xo(){return new Oi(i=>i.toString(),(i,e)=>i.isEqual(e))}const IT=new Ke(he.comparator),ST=new ht(he.comparator);function we(...i){let e=ST;for(const n of i)e=e.add(n);return e}const AT=new ht(Se);function RT(){return AT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bl(e)?"-0":e}}function Ng(i){return{integerValue:""+i}}function CT(i,e){return eT(e)?Ng(e):Uh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(){this._=void 0}}function PT(i,e,n){return i instanceof ql?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Nh(c)&&(c=nu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof ia?Og(i,e):i instanceof sa?Mg(i,e):function(a,c){const f=Lg(a,c),m=rm(f)+rm(a.Pe);return ch(f)&&ch(a.Pe)?Ng(m):Uh(a.serializer,m)}(i,e)}function kT(i,e,n){return i instanceof ia?Og(i,e):i instanceof sa?Mg(i,e):n}function Lg(i,e){return i instanceof Hl?function(s){return ch(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class ql extends ou{}class ia extends ou{constructor(e){super(),this.elements=e}}function Og(i,e){const n=Fg(e);for(const s of i.elements)n.some(a=>Wn(a,s))||n.push(s);return{arrayValue:{values:n}}}class sa extends ou{constructor(e){super(),this.elements=e}}function Mg(i,e){let n=Fg(e);for(const s of i.elements)n=n.filter(a=>!Wn(a,s));return{arrayValue:{values:n}}}class Hl extends ou{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function rm(i){return et(i.integerValue||i.doubleValue)}function Fg(i){return Lh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function VT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ia&&a instanceof ia||s instanceof sa&&a instanceof sa?Fs(s.elements,a.elements,Wn):s instanceof Hl&&a instanceof Hl?Wn(s.Pe,a.Pe):s instanceof ql&&a instanceof ql}(i.transform,e.transform)}class DT{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ml(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class au{}function Ug(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new zg(i.key,fr.none()):new la(i.key,i.data,fr.none());{const n=i.data,s=dn.empty();let a=new ht(Tt.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new Mi(i.key,s,new Dn(a.toArray()),fr.none())}}function xT(i,e,n){i instanceof la?function(a,c,f){const m=a.value.clone(),y=sm(a.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Mi?function(a,c,f){if(!Ml(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=sm(a.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(bg(a)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yo(i,e,n,s){return i instanceof la?function(c,f,m,y){if(!Ml(c.precondition,f))return m;const v=c.value.clone(),T=om(c.fieldTransforms,y,f);return v.setAll(T),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof Mi?function(c,f,m,y){if(!Ml(c.precondition,f))return m;const v=om(c.fieldTransforms,y,f),T=f.data;return T.setAll(bg(c)),T.setAll(v),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(V=>V.field))}(i,e,n,s):function(c,f,m){return Ml(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function NT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Lg(s.transform,a||null);c!=null&&(n===null&&(n=dn.empty()),n.set(s.field,c))}return n||null}function im(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Fs(s,a,(c,f)=>VT(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class la extends au{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Mi extends au{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function bg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function sm(i,e,n){const s=new Map;Oe(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,kT(f,m,n[a]))}return s}function om(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,PT(c,f,e))}return s}class zg extends au{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LT extends au{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&xT(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const y=Ug(f,m);y!==null&&s.set(a.key,y),f.isValidDocument()||f.convertToNoDocument(pe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,s)=>im(n,s))&&Fs(this.baseMutations,e.baseMutations,(n,s)=>im(n,s))}}class bh{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){Oe(e.mutations.length===s.length);let a=function(){return IT}();const c=e.mutations;for(let f=0;f<c.length;f++)a=a.insert(c[f].key,s[f].version);return new bh(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,Re;function UT(i){switch(i){default:return de();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function Bg(i){if(i===void 0)return mr("GRPC error has no .code"),K.UNKNOWN;switch(i){case rt.OK:return K.OK;case rt.CANCELLED:return K.CANCELLED;case rt.UNKNOWN:return K.UNKNOWN;case rt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case rt.INTERNAL:return K.INTERNAL;case rt.UNAVAILABLE:return K.UNAVAILABLE;case rt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case rt.NOT_FOUND:return K.NOT_FOUND;case rt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case rt.ABORTED:return K.ABORTED;case rt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case rt.DATA_LOSS:return K.DATA_LOSS;default:return de()}}(Re=rt||(rt={}))[Re.OK=0]="OK",Re[Re.CANCELLED=1]="CANCELLED",Re[Re.UNKNOWN=2]="UNKNOWN",Re[Re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Re[Re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Re[Re.NOT_FOUND=5]="NOT_FOUND",Re[Re.ALREADY_EXISTS=6]="ALREADY_EXISTS",Re[Re.PERMISSION_DENIED=7]="PERMISSION_DENIED",Re[Re.UNAUTHENTICATED=16]="UNAUTHENTICATED",Re[Re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Re[Re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Re[Re.ABORTED=10]="ABORTED",Re[Re.OUT_OF_RANGE=11]="OUT_OF_RANGE",Re[Re.UNIMPLEMENTED=12]="UNIMPLEMENTED",Re[Re.INTERNAL=13]="INTERNAL",Re[Re.UNAVAILABLE=14]="UNAVAILABLE",Re[Re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new Vi([4294967295,4294967295],0);function am(i){const e=bT().encode(i),n=new hg;return n.update(e),new Uint8Array(n.digest())}function lm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Vi([n,s],0),new Vi([a,c],0)]}class zh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Wo(`Invalid padding: ${n}`);if(s<0)throw new Wo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Vi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Vi.fromNumber(s)));return a.compare(zT)===1&&(a=new Vi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=am(e),[s,a]=lm(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new zh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=am(e),[s,a]=lm(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Wo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lu(pe.min(),a,new Ke(Se),gr(),we())}}class ua{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ua(s,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class jg{constructor(e,n){this.targetId=e,this.me=n}}class $g{constructor(e,n,s=It.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class um{constructor(){this.fe=0,this.ge=cm(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),s=we();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:de()}}),new ua(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=cm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Oe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BT{constructor(e){this.Le=e,this.Be=new Map,this.ke=gr(),this.qe=Dl(),this.Qe=Dl(),this.Ke=new Ke(Se)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(fh(c))if(s===0){const f=new he(c.path);this.We(n,f,Nt.newNoDocument(f,pe.min()))}else Oe(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),y=m?this.et(m,e,f):1;if(y!==0){this.He(n);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Gr(s).toUint8Array()}catch(y){if(y instanceof Eg)return Ms("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new zh(f,a,c)}catch(y){return Ms(y instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&fh(m.target)){const y=new he(m.target.path);this.st(y).has(f)||this.ot(f,y)||this.We(f,y,Nt.newNoDocument(y,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=we();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(y=>{const v=this.Ye(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new lu(e,n,this.Ke,this.ke,s);return this.ke=gr(),this.qe=Dl(),this.Qe=Dl(),this.Ke=new Ke(Se),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new um,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new ht(Se),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ht(Se),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new um),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Dl(){return new Ke(he.comparator)}function cm(){return new Ke(he.comparator)}const jT={asc:"ASCENDING",desc:"DESCENDING"},$T={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qT={and:"AND",or:"OR"};class HT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ph(i,e){return i.useProto3Json||tu(e)?e:{value:e}}function Wl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function WT(i,e){return Wl(i,e.toTimestamp())}function Hn(i){return Oe(!!i),pe.fromTimestamp(function(n){const s=Qr(n);return new ct(s.seconds,s.nanos)}(i))}function Bh(i,e){return mh(i,e).canonicalString()}function mh(i,e){const n=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Hg(i){const e=Ge.fromString(i);return Oe(Xg(e)),e}function gh(i,e){return Bh(i.databaseId,e.path)}function Xc(i,e){const n=Hg(e);if(n.get(1)!==i.databaseId.projectId)throw new ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ce(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new he(Kg(n))}function Wg(i,e){return Bh(i.databaseId,e)}function KT(i){const e=Hg(i);return e.length===4?Ge.emptyPath():Kg(e)}function yh(i){return new Ge(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Kg(i){return Oe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function hm(i,e,n){return{name:gh(i,e),fields:n.value.mapValue.fields}}function QT(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(v,T){return v.useProto3Json?(Oe(T===void 0||typeof T=="string"),It.fromBase64String(T||"")):(Oe(T===void 0||T instanceof Buffer||T instanceof Uint8Array),It.fromUint8Array(T||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(v){const T=v.code===void 0?K.UNKNOWN:Bg(v.code);return new ce(T,v.message||"")}(f);n=new $g(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Xc(i,s.document.name),c=Hn(s.document.updateTime),f=s.document.createTime?Hn(s.document.createTime):pe.min(),m=new dn({mapValue:{fields:s.document.fields}}),y=Nt.newFoundDocument(a,c,f,m),v=s.targetIds||[],T=s.removedTargetIds||[];n=new Fl(v,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Xc(i,s.document),c=s.readTime?Hn(s.readTime):pe.min(),f=Nt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Fl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Xc(i,s.document),c=s.removedTargetIds||[];n=new Fl([],c,a,null)}else{if(!("filter"in e))return de();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new FT(a,c),m=s.targetId;n=new jg(m,f)}}return n}function GT(i,e){let n;if(e instanceof la)n={update:hm(i,e.key,e.value)};else if(e instanceof zg)n={delete:gh(i,e.key)};else if(e instanceof Mi)n={update:hm(i,e.key,e.data),updateMask:i0(e.fieldMask)};else{if(!(e instanceof LT))return de();n={verify:gh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ia)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof sa)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Hl)return{fieldPath:f.field.canonicalString(),increment:m.Pe};throw de()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:WT(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:de()}(i,e.precondition)),n}function XT(i,e){return i&&i.length>0?(Oe(e!==void 0),i.map(n=>function(a,c){let f=a.updateTime?Hn(a.updateTime):Hn(c);return f.isEqual(pe.min())&&(f=Hn(c)),new DT(f,a.transformResults||[])}(n,e))):[]}function YT(i,e){return{documents:[Wg(i,e.path)]}}function JT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Wg(i,a);const c=function(v){if(v.length!==0)return Gg(Kn.create(v,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(v){if(v.length!==0)return v.map(T=>function(U){return{field:Ns(U.field),direction:t0(U.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ph(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function ZT(i){let e=KT(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Oe(s===1);const T=n.from[0];T.allDescendants?a=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=function(V){const U=Qg(V);return U instanceof Kn&&Sg(U)?U.getFilters():[U]}(n.where));let f=[];n.orderBy&&(f=function(V){return V.map(U=>function(J){return new $l(Ls(J.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(J.direction))}(U))}(n.orderBy));let m=null;n.limit&&(m=function(V){let U;return U=typeof V=="object"?V.value:V,tu(U)?null:U}(n.limit));let y=null;n.startAt&&(y=function(V){const U=!!V.before,z=V.values||[];return new jl(z,U)}(n.startAt));let v=null;return n.endAt&&(v=function(V){const U=!V.before,z=V.values||[];return new jl(z,U)}(n.endAt)),yT(e,a,f,c,m,"F",y,v)}function e0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Qg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ls(n.unaryFilter.field);return ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ls(n.unaryFilter.field);return ut.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ls(n.unaryFilter.field);return ut.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ls(n.unaryFilter.field);return ut.create(f,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(i):i.fieldFilter!==void 0?function(n){return ut.create(Ls(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>Qg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(i):de()}function t0(i){return jT[i]}function n0(i){return $T[i]}function r0(i){return qT[i]}function Ns(i){return{fieldPath:i.canonicalString()}}function Ls(i){return Tt.fromServerFormat(i.fieldPath)}function Gg(i){return i instanceof ut?function(n){if(n.op==="=="){if(Jp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NAN"}};if(Yp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NAN"}};if(Yp(n.value))return{unaryFilter:{field:Ns(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ns(n.field),op:n0(n.op),value:n.value}}}(i):i instanceof Kn?function(n){const s=n.getFilters().map(a=>Gg(a));return s.length===1?s[0]:{compositeFilter:{op:r0(n.op),filters:s}}}(i):de()}function i0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n,s,a,c=pe.min(),f=pe.min(),m=It.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.ht=e}}function o0(i){const e=ZT({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?dh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(){this.ln=new l0}addToCollectionParentIndex(e,n){return this.ln.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Kr.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Kr.min())}updateCollectionGroup(e,n,s){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class l0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new ht(Ge.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new ht(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(41943040,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new zs(0)}static Qn(){return new zs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm([i,e],[n,s]){const a=Se(i,n);return a===0?Se(e,s):a}class u0{constructor(e){this.Gn=e,this.buffer=new ht(dm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();dm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class c0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Hs(n)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await qs(n)}await this.Yn(3e5)})}}class h0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return B.resolve(eu.oe);const s=new u0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(fm)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fm):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,y,v;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),a=this.params.maximumSequenceNumbersToCollect):a=V,f=Date.now(),this.nthSequenceNumber(e,a))).next(V=>(s=V,m=Date.now(),this.removeTargets(e,s,n))).next(V=>(c=V,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(V=>(v=Date.now(),Ds()<=Ce.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${V} documents in `+(v-y)+`ms
Total Duration: ${v-T}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:V})))}}function f0(i,e){return new h0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?B.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&Yo(s.mutation,a,Dn.empty(),ct.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,we()).next(()=>s))}getLocalViewOfDocuments(e,n,s=we()){const a=ki();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Ho();return c.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=ki();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,we()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=gr();const f=Xo(),m=function(){return Xo()}();return n.forEach((y,v)=>{const T=s.get(v.key);a.has(v.key)&&(T===void 0||T.mutation instanceof Mi)?c=c.insert(v.key,v):T!==void 0?(f.set(v.key,T.mutation.getFieldMask()),Yo(T.mutation,v,T.mutation.getFieldMask(),ct.now())):f.set(v.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,c).next(y=>(y.forEach((v,T)=>f.set(v,T)),n.forEach((v,T)=>{var V;return m.set(v,new p0(T,(V=f.get(v))!==null&&V!==void 0?V:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Xo();let a=new Ke((f,m)=>f-m),c=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const v=n.get(y);if(v===null)return;let T=s.get(y)||Dn.empty();T=m.applyToLocalView(v,T),s.set(y,T);const V=(a.get(m.batchId)||we()).add(y);a=a.insert(m.batchId,V)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),v=y.key,T=y.value,V=xg();T.forEach(U=>{if(!c.has(U)){const z=Ug(n.get(U),s.get(U));z!==null&&V.set(U,z),c=c.add(U)}}),f.push(this.documentOverlayCache.saveOverlays(e,v,V))}return B.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return he.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_T(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):B.resolve(ki());let m=-1,y=c;return f.next(v=>B.forEach(v,(T,V)=>(m<V.largestBatchId&&(m=V.largestBatchId),c.get(T)?B.resolve():this.remoteDocumentCache.getEntry(e,T).next(U=>{y=y.insert(T,U)}))).next(()=>this.populateOverlays(e,v,c)).next(()=>this.computeViews(e,y,v,we())).next(T=>({batchId:m,changes:Dg(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(s=>{let a=Ho();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Ho();return this.indexManager.getCollectionParents(e,c).next(m=>B.forEach(m,y=>{const v=function(V,U){return new ru(U,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(T=>{T.forEach((V,U)=>{f=f.insert(V,U)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((y,v)=>{const T=v.getKey();f.get(T)===null&&(f=f.insert(T,Nt.newInvalidDocument(T)))});let m=Ho();return f.forEach((y,v)=>{const T=c.get(y);T!==void 0&&Yo(T.mutation,v,Dn.empty(),ct.now()),su(n,v)&&(m=m.insert(y,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return B.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Hn(a.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:o0(a.bundledQuery),readTime:Hn(a.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.overlays=new Ke(he.comparator),this.Er=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ki();return B.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),B.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),B.resolve()}getOverlaysForCollection(e,n,s){const a=ki(),c=n.length+1,f=new he(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===c&&y.largestBatchId>s&&a.set(y.getKey(),y)}return B.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new Ke((v,T)=>v-T);const f=this.overlays.getIterator();for(;f.hasNext();){const v=f.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let T=c.get(v.largestBatchId);T===null&&(T=ki(),c=c.insert(v.largestBatchId,T)),T.set(v.getKey(),v)}}const m=ki(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,T)=>m.set(v,T)),!(m.size()>=a)););return B.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new MT(n,s));let c=this.Er.get(n);c===void 0&&(c=we(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this.dr=new ht(gt.Ar),this.Rr=new ht(gt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new gt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new gt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new he(new Ge([])),s=new gt(n,e),a=new gt(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new he(new Ge([])),s=new gt(n,e),a=new gt(n,e+1);let c=we();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new gt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class gt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return he.comparator(e.key,n.key)||Se(e.br,n.br)}static Vr(e,n){return Se(e.br,n.br)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ht(gt.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new OT(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new gt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return B.resolve(f)}lookupMutationBatch(e,n){return B.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return B.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new gt(n,0),a=new gt(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),B.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ht(Se);return n.forEach(a=>{const c=new gt(a,0),f=new gt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),B.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;he.isDocumentKey(c)||(c=c.child(""));const f=new gt(new he(c),0);let m=new ht(Se);return this.vr.forEachWhile(y=>{const v=y.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(y.br)),!0)},f),B.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Oe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return B.forEach(n.mutations,a=>{const c=new gt(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new gt(n,0),a=this.vr.firstAfterOrEqual(s);return B.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.Nr=e,this.docs=function(){return new Ke(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return B.resolve(s?s.document.mutableCopy():Nt.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Nt.newInvalidDocument(a))}),B.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=gr();const f=n.path,m=new he(f.child("")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:v,value:{document:T}}=y.getNext();if(!f.isPrefixOf(v.path))break;v.path.length>f.length+1||Xw(Gw(T),s)<=0||(a.has(T.key)||su(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return B.resolve(c)}getAllFromCollectionGroup(e,n,s,a){de()}Lr(e,n){return B.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new w0(this)}getSize(e){return B.resolve(this.size)}}class w0 extends d0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),B.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.persistence=e,this.Br=new Oi(n=>Oh(n),Mh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.kr=0,this.qr=new jh,this.targetCount=0,this.Qr=zs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),B.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new zs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Un(n),B.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),B.waitFor(c).next(()=>a)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return B.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),B.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),B.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return B.resolve(s)}containsKey(e,n){return B.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new eu(0),this.Ur=!1,this.Ur=!0,this.Wr=new _0,this.referenceDelegate=e(this),this.Gr=new T0(this),this.indexManager=new a0,this.remoteDocumentCache=function(a){return new E0(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new s0(n),this.jr=new g0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new y0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new v0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ee("MemoryPersistence","Starting transaction:",e);const a=new I0(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return B.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class I0 extends Jw{constructor(e){super(),this.currentSequenceNumber=e}}class $h{constructor(e){this.persistence=e,this.Zr=new jh,this.Xr=null}static ei(e){return new $h(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),B.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),B.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,s=>{const a=he.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,pe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return B.or([()=>B.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Kl{constructor(e,n){this.persistence=e,this.ri=new Oi(s=>tT(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=f0(this,n)}static ei(e,n){return new Kl(e,n)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return B.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?B.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,pe.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),B.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ll(e.data.value)),n}ir(e,n,s){return B.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return B.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=we(),a=we();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new qh(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return rv()?8:Zw(ev())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new S0;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ds()<=Ce.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(Ds()<=Ce.DEBUG&&ee("QueryEngine","Query:",xs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ds()<=Ce.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):B.resolve())}Xi(e,n){if(nm(n))return B.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=dh(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=we(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const v=this.rs(n,m);return this.ss(n,v,f,y.readTime)?this.Xi(e,dh(n,null,"F")):this.os(e,v,n,y)}))})))}es(e,n,s,a){return nm(n)||a.isEqual(pe.min())?B.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?B.resolve(null):(Ds()<=Ce.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),xs(n)),this.os(e,f,n,Qw(a,-1)).next(m=>m))})}rs(e,n){let s=new ht(kg(e));return n.forEach((a,c)=>{su(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Ds()<=Ce.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",xs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Kr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ke(Se),this.cs=new Oi(c=>Oh(c),Mh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function C0(i,e,n,s){return new R0(i,e,n,s)}async function Jg(i,e){const n=me(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let y=we();for(const v of a){f.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}for(const v of c){m.push(v.batchId);for(const T of v.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(s,y).next(v=>({Ts:v,removedBatchIds:f,addedBatchIds:m}))})})}function P0(i,e){const n=me(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,y,v,T){const V=v.batch,U=V.keys();let z=B.resolve();return U.forEach(J=>{z=z.next(()=>T.getEntry(y,J)).next(Y=>{const W=v.docVersions.get(J);Oe(W!==null),Y.version.compareTo(W)<0&&(V.applyToRemoteDocument(Y,v),Y.isValidDocument()&&(Y.setReadTime(v.commitVersion),T.addEntry(Y)))})}),z.next(()=>m.mutationQueue.removeMutationBatch(y,V))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=we();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(y=y.add(m.batch.mutations[v].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Zg(i){const e=me(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function k0(i,e){const n=me(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((T,V)=>{const U=a.get(V);if(!U)return;m.push(n.Gr.removeMatchingKeys(c,T.removedDocuments,V).next(()=>n.Gr.addMatchingKeys(c,T.addedDocuments,V)));let z=U.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(V)!==null?z=z.withResumeToken(It.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,s)),a=a.insert(V,z),function(Y,W,ve){return Y.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8?!0:ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0}(U,z,T)&&m.push(n.Gr.updateTargetData(c,z))});let y=gr(),v=we();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),m.push(V0(c,f,e.documentUpdates).next(T=>{y=T.Is,v=T.Es})),!s.isEqual(pe.min())){const T=n.Gr.getLastRemoteSnapshotVersion(c).next(V=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(T)}return B.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,y,v)).next(()=>y)}).then(c=>(n.us=a,c))}function V0(i,e,n){let s=we(),a=we();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=gr();return n.forEach((m,y)=>{const v=c.get(m);y.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),y.isNoDocument()&&y.version.isEqual(pe.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):ee("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",y.version)}),{Is:f,Es:a}})}function D0(i,e){const n=me(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function x0(i,e){const n=me(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,B.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function _h(i,e,n){const s=me(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Hs(f))throw f;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function pm(i,e,n){const s=me(i);let a=pe.min(),c=we();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,v,T){const V=me(y),U=V.cs.get(T);return U!==void 0?B.resolve(V.us.get(U)):V.Gr.getTargetData(v,T)}(s,f,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(y=>{c=y})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:pe.min(),n?c:we())).next(m=>(N0(s,ET(e),m),{documents:m,ds:c})))}function N0(i,e,n){let s=i.ls.get(e)||pe.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class mm{constructor(){this.activeTargetIds=RT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class L0{constructor(){this._o=new mm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new mm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=null;function Yc(){return xl===null?xl=function(){return 268435456+Math.round(2147483648*Math.random())}():xl++,"0x"+xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt="WebChannelConnection";class U0 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=Yc(),y=this.No(n,s.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,c,f),this.Bo(n,y,v,a).then(T=>(ee("RestConnection",`Received RPC '${n}' ${m}: `,T),T),T=>{throw Ms("RestConnection",`RPC '${n}' ${m} failed with error: `,T,"url: ",y,"request:",a),T})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$s}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=M0[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=Yc();return new Promise((f,m)=>{const y=new fg;y.setWithCredentials(!0),y.listenOnce(dg.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Nl.NO_ERROR:const T=y.getResponseJson();ee(Dt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),f(T);break;case Nl.TIMEOUT:ee(Dt,`RPC '${e}' ${c} timed out`),m(new ce(K.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const V=y.getStatus();if(ee(Dt,`RPC '${e}' ${c} failed with status:`,V,"response text:",y.getResponseText()),V>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const z=U==null?void 0:U.error;if(z&&z.status&&z.message){const J=function(W){const ve=W.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ve)>=0?ve:K.UNKNOWN}(z.status);m(new ce(J,z.message))}else m(new ce(K.UNKNOWN,"Server responded with status "+y.getStatus()))}else m(new ce(K.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ee(Dt,`RPC '${e}' ${c} completed.`)}});const v=JSON.stringify(a);ee(Dt,`RPC '${e}' ${c} sending request:`,a),y.send(n,"POST",v,s,15)})}qo(e,n,s){const a=Yc(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=gg(),m=mg(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Lo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const T=c.join("");ee(Dt,`Creating RPC '${e}' stream ${a}: ${T}`,y);const V=f.createWebChannel(T,y);let U=!1,z=!1;const J=new F0({Eo:W=>{z?ee(Dt,`Not sending because RPC '${e}' stream ${a} is closed:`,W):(U||(ee(Dt,`Opening RPC '${e}' stream ${a} transport.`),V.open(),U=!0),ee(Dt,`RPC '${e}' stream ${a} sending:`,W),V.send(W))},Ao:()=>V.close()}),Y=(W,ve,ye)=>{W.listen(ve,_e=>{try{ye(_e)}catch(Te){setTimeout(()=>{throw Te},0)}})};return Y(V,qo.EventType.OPEN,()=>{z||(ee(Dt,`RPC '${e}' stream ${a} transport opened.`),J.So())}),Y(V,qo.EventType.CLOSE,()=>{z||(z=!0,ee(Dt,`RPC '${e}' stream ${a} transport closed`),J.Do())}),Y(V,qo.EventType.ERROR,W=>{z||(z=!0,Ms(Dt,`RPC '${e}' stream ${a} transport errored:`,W),J.Do(new ce(K.UNAVAILABLE,"The operation could not be completed")))}),Y(V,qo.EventType.MESSAGE,W=>{var ve;if(!z){const ye=W.data[0];Oe(!!ye);const _e=ye,Te=(_e==null?void 0:_e.error)||((ve=_e[0])===null||ve===void 0?void 0:ve.error);if(Te){ee(Dt,`RPC '${e}' stream ${a} received error:`,Te);const Xe=Te.status;let Pe=function(A){const k=rt[A];if(k!==void 0)return Bg(k)}(Xe),D=Te.message;Pe===void 0&&(Pe=K.INTERNAL,D="Unknown error status: "+Xe+" with message "+Te.message),z=!0,J.Do(new ce(Pe,D)),V.close()}else ee(Dt,`RPC '${e}' stream ${a} received:`,ye),J.vo(ye)}}),Y(m,pg.STAT_EVENT,W=>{W.stat===lh.PROXY?ee(Dt,`RPC '${e}' stream ${a} detected buffering proxy`):W.stat===lh.NOPROXY&&ee(Dt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{J.bo()},0),J}}function Jc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(i){return new HT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ee("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,s,a,c,f,m,y){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ey(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ce(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class b0 extends ty{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=QT(this.serializer,e),s=function(c){if(!("targetChange"in c))return pe.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?pe.min():f.readTime?Hn(f.readTime):pe.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=yh(this.serializer),n.addTarget=function(c,f){let m;const y=f.target;if(m=fh(y)?{documents:YT(c,y)}:{query:JT(c,y).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=qg(c,f.resumeToken);const v=ph(c,f.expectedCount);v!==null&&(m.expectedCount=v)}else if(f.snapshotVersion.compareTo(pe.min())>0){m.readTime=Wl(c,f.snapshotVersion.toTimestamp());const v=ph(c,f.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=e0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=yh(this.serializer),n.removeTarget=e,this.c_(n)}}class z0 extends ty{constructor(e,n,s,a,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,Oe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Oe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=XT(e.writeResults,e.commitTime),s=Hn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=yh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>GT(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ce(K.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,mh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ce(K.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,mh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(K.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class j0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(mr(n),this.C_=!1):ee("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{Fi(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(y){const v=me(y);v.k_.add(4),await ca(v),v.K_.set("Unknown"),v.k_.delete(4),await cu(v)}(this))})}),this.K_=new j0(s,a)}}async function cu(i){if(Fi(i))for(const e of i.q_)await e(!0)}async function ca(i){for(const e of i.q_)await e(!1)}function ny(i,e){const n=me(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),Qh(n)?Kh(n):Ws(n).s_()&&Wh(n,e))}function Hh(i,e){const n=me(i),s=Ws(n);n.B_.delete(e),s.s_()&&ry(n,e),n.B_.size===0&&(s.s_()?s.a_():Fi(n)&&n.K_.set("Unknown"))}function Wh(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ws(i).V_(e)}function ry(i,e){i.U_.xe(e),Ws(i).m_(e)}function Kh(i){i.U_=new BT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ws(i).start(),i.K_.F_()}function Qh(i){return Fi(i)&&!Ws(i).i_()&&i.B_.size>0}function Fi(i){return me(i).k_.size===0}function iy(i){i.U_=void 0}async function q0(i){i.K_.set("Online")}async function H0(i){i.B_.forEach((e,n)=>{Wh(i,e)})}async function W0(i,e){iy(i),Qh(i)?(i.K_.O_(e),Kh(i)):i.K_.set("Unknown")}async function K0(i,e,n){if(i.K_.set("Online"),e instanceof $g&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ql(i,s)}else if(e instanceof Fl?i.U_.$e(e):e instanceof jg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(pe.min()))try{const s=await Zg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.B_.get(v);T&&c.B_.set(v,T.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,v)=>{const T=c.B_.get(y);if(!T)return;c.B_.set(y,T.withResumeToken(It.EMPTY_BYTE_STRING,T.snapshotVersion)),ry(c,y);const V=new jr(T.target,y,v,T.sequenceNumber);Wh(c,V)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ee("RemoteStore","Failed to raise snapshot:",s),await Ql(i,s)}}async function Ql(i,e,n){if(!Hs(e))throw e;i.k_.add(1),await ca(i),i.K_.set("Offline"),n||(n=()=>Zg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await cu(i)})}function sy(i,e){return e().catch(n=>Ql(i,n,e))}async function hu(i){const e=me(i),n=Yr(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Q0(e);)try{const a=await D0(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,G0(e,a)}catch(a){await Ql(e,a)}oy(e)&&ay(e)}function Q0(i){return Fi(i)&&i.L_.length<10}function G0(i,e){i.L_.push(e);const n=Yr(i);n.s_()&&n.f_&&n.g_(e.mutations)}function oy(i){return Fi(i)&&!Yr(i).i_()&&i.L_.length>0}function ay(i){Yr(i).start()}async function X0(i){Yr(i).w_()}async function Y0(i){const e=Yr(i);for(const n of i.L_)e.g_(n.mutations)}async function J0(i,e,n){const s=i.L_.shift(),a=bh.from(s,e,n);await sy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await hu(i)}async function Z0(i,e){e&&Yr(i).f_&&await async function(s,a){if(function(f){return UT(f)&&f!==K.ABORTED}(a.code)){const c=s.L_.shift();Yr(s).__(),await sy(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await hu(s)}}(i,e),oy(i)&&ay(i)}async function ym(i,e){const n=me(i);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const s=Fi(n);n.k_.add(3),await ca(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await cu(n)}async function eI(i,e){const n=me(i);e?(n.k_.delete(2),await cu(n)):e||(n.k_.add(2),await ca(n),n.K_.set("Unknown"))}function Ws(i){return i.W_||(i.W_=function(n,s,a){const c=me(n);return c.b_(),new b0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:q0.bind(null,i),mo:H0.bind(null,i),po:W0.bind(null,i),R_:K0.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),Qh(i)?Kh(i):i.K_.set("Unknown")):(await i.W_.stop(),iy(i))})),i.W_}function Yr(i){return i.G_||(i.G_=function(n,s,a){const c=me(n);return c.b_(),new z0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:X0.bind(null,i),po:Z0.bind(null,i),p_:Y0.bind(null,i),y_:J0.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await hu(i)):(await i.G_.stop(),i.L_.length>0&&(ee("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new Gh(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xh(i,e){if(mr("AsyncQueue",`${e}: ${i}`),Hs(i))return new ce(K.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{static emptySet(e){return new Os(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||he.comparator(n.key,s.key):(n,s)=>he.comparator(n.key,s.key),this.keyedMap=Ho(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Os;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.z_=new Ke(he.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):de():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Bs{constructor(e,n,s,a,c,f,m,y,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Bs(e,n,Os.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&iu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class nI{constructor(){this.queries=vm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=me(n),c=a.queries;a.queries=vm(),c.forEach((f,m)=>{for(const y of m.J_)y.onError(s)})})(this,new ce(K.ABORTED,"Firestore shutting down"))}}function vm(){return new Oi(i=>Pg(i),iu)}async function rI(i,e){const n=me(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new tI,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=Xh(f,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&Yh(n)}async function iI(i,e){const n=me(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function sI(i,e){const n=me(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&Yh(n)}function oI(i,e,n){const s=me(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function Yh(i){i.X_.forEach(e=>{e.next()})}var vh,Em;(Em=vh||(vh={})).na="default",Em.Cache="cache";class aI{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==vh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.key=e}}class uy{constructor(e){this.key=e}}class lI{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=we(),this.mutatedKeys=we(),this.Va=kg(e),this.ma=new Os(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new _m,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const y=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((T,V)=>{const U=a.get(T),z=su(this.query,V)?V:null,J=!!U&&this.mutatedKeys.has(U.key),Y=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let W=!1;U&&z?U.data.isEqual(z.data)?J!==Y&&(s.track({type:3,doc:z}),W=!0):this.ya(U,z)||(s.track({type:2,doc:z}),W=!0,(y&&this.Va(z,y)>0||v&&this.Va(z,v)<0)&&(m=!0)):!U&&z?(s.track({type:0,doc:z}),W=!0):U&&!z&&(s.track({type:1,doc:U}),W=!0,(y||v)&&(m=!0)),W&&(z?(f=f.add(z),c=Y?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((T,V)=>function(z,J){const Y=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return Y(z)-Y(J)}(T.type,V.type)||this.Va(T.doc,V.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],y=this.Ra.size===0&&this.current&&!a?1:0,v=y!==this.Aa;return this.Aa=y,f.length!==0||v?{snapshot:new Bs(this.query,e.ma,c,f,e.mutatedKeys,y===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new _m,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=we(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new uy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new ly(s))}),n}va(e){this.da=e.ds,this.Ra=we();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Bs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class uI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class cI{constructor(e){this.key=e,this.Fa=!1}}class hI{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Oi(m=>Pg(m),iu),this.Oa=new Map,this.Na=new Set,this.La=new Ke(he.comparator),this.Ba=new Map,this.ka=new jh,this.qa={},this.Qa=new Map,this.Ka=zs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function fI(i,e,n=!0){const s=my(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await cy(s,e,n,!0),a}async function dI(i,e){const n=my(i);await cy(n,e,!0,!1)}async function cy(i,e,n,s){const a=await x0(i.localStore,qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await pI(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&ny(i.remoteStore,a),m}async function pI(i,e,n,s,a){i.Ua=(V,U,z)=>async function(Y,W,ve,ye){let _e=W.view.ga(ve);_e.ss&&(_e=await pm(Y.localStore,W.query,!1).then(({documents:D})=>W.view.ga(D,_e)));const Te=ye&&ye.targetChanges.get(W.targetId),Xe=ye&&ye.targetMismatches.get(W.targetId)!=null,Pe=W.view.applyChanges(_e,Y.isPrimaryClient,Te,Xe);return Tm(Y,W.targetId,Pe.ba),Pe.snapshot}(i,V,U,z);const c=await pm(i.localStore,e,!0),f=new lI(e,c.ds),m=f.ga(c.documents),y=ua.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=f.applyChanges(m,i.isPrimaryClient,y);Tm(i,n,v.ba);const T=new uI(e,n,f);return i.xa.set(e,T),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function mI(i,e,n){const s=me(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!iu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await _h(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&Hh(s.remoteStore,a.targetId),Eh(s,a.targetId)}).catch(qs)):(Eh(s,a.targetId),await _h(s.localStore,a.targetId,!0))}async function gI(i,e){const n=me(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hh(n.remoteStore,s.targetId))}async function yI(i,e,n){const s=SI(i);try{const a=await function(f,m){const y=me(f),v=ct.now(),T=m.reduce((z,J)=>z.add(J.key),we());let V,U;return y.persistence.runTransaction("Locally write mutations","readwrite",z=>{let J=gr(),Y=we();return y.hs.getEntries(z,T).next(W=>{J=W,J.forEach((ve,ye)=>{ye.isValidDocument()||(Y=Y.add(ve))})}).next(()=>y.localDocuments.getOverlayedDocuments(z,J)).next(W=>{V=W;const ve=[];for(const ye of m){const _e=NT(ye,V.get(ye.key).overlayedDocument);_e!=null&&ve.push(new Mi(ye.key,_e,wg(_e.value.mapValue),fr.exists(!0)))}return y.mutationQueue.addMutationBatch(z,v,ve,m)}).next(W=>{U=W;const ve=W.applyToLocalDocumentSet(V,Y);return y.documentOverlayCache.saveOverlays(z,W.batchId,ve)})}).then(()=>({batchId:U.batchId,changes:Dg(V)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(f,m,y){let v=f.qa[f.currentUser.toKey()];v||(v=new Ke(Se)),v=v.insert(m,y),f.qa[f.currentUser.toKey()]=v}(s,a.batchId,n),await ha(s,a.changes),await hu(s.remoteStore)}catch(a){const c=Xh(a,"Failed to persist write");n.reject(c)}}async function hy(i,e){const n=me(i);try{const s=await k0(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Oe(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Oe(f.Fa):a.removedDocuments.size>0&&(Oe(f.Fa),f.Fa=!1))}),await ha(n,s,e)}catch(s){await qs(s)}}function wm(i,e,n){const s=me(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const y=me(f);y.onlineState=m;let v=!1;y.queries.forEach((T,V)=>{for(const U of V.J_)U.ea(m)&&(v=!0)}),v&&Yh(y)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function _I(i,e,n){const s=me(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new Ke(he.comparator);f=f.insert(c,Nt.newNoDocument(c,pe.min()));const m=we().add(c),y=new lu(pe.min(),new Map,new Ke(Se),f,m);await hy(s,y),s.La=s.La.remove(c),s.Ba.delete(e),Jh(s)}else await _h(s.localStore,e,!1).then(()=>Eh(s,e,n)).catch(qs)}async function vI(i,e){const n=me(i),s=e.batch.batchId;try{const a=await P0(n.localStore,e);dy(n,s,null),fy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ha(n,a)}catch(a){await qs(a)}}async function EI(i,e,n){const s=me(i);try{const a=await function(f,m){const y=me(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let T;return y.mutationQueue.lookupMutationBatch(v,m).next(V=>(Oe(V!==null),T=V.keys(),y.mutationQueue.removeMutationBatch(v,V))).next(()=>y.mutationQueue.performConsistencyCheck(v)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(v,T,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,T)).next(()=>y.localDocuments.getDocuments(v,T))})}(s.localStore,e);dy(s,e,n),fy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ha(s,a)}catch(a){await qs(a)}}function fy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function dy(i,e,n){const s=me(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Eh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||py(i,s)})}function py(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(Hh(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Jh(i))}function Tm(i,e,n){for(const s of n)s instanceof ly?(i.ka.addReference(s.key,e),wI(i,s)):s instanceof uy?(ee("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||py(i,s.key)):de()}function wI(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(ee("SyncEngine","New document in limbo: "+n),i.Na.add(s),Jh(i))}function Jh(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new he(Ge.fromString(e)),s=i.Ka.next();i.Ba.set(s,new cI(n)),i.La=i.La.insert(n,s),ny(i.remoteStore,new jr(qn(Fh(n.path)),s,"TargetPurposeLimboResolution",eu.oe))}}async function ha(i,e,n){const s=me(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,y)=>{f.push(s.Ua(y,e,n).then(v=>{var T;if((v||n)&&s.isPrimaryClient){const V=v?!v.fromCache:(T=n==null?void 0:n.targetChanges.get(y.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(y.targetId,V?"current":"not-current")}if(v){a.push(v);const V=qh.zi(y.targetId,v);c.push(V)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(y,v){const T=me(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>B.forEach(v,U=>B.forEach(U.Wi,z=>T.persistence.referenceDelegate.addReference(V,U.targetId,z)).next(()=>B.forEach(U.Gi,z=>T.persistence.referenceDelegate.removeReference(V,U.targetId,z)))))}catch(V){if(!Hs(V))throw V;ee("LocalStore","Failed to update sequence numbers: "+V)}for(const V of v){const U=V.targetId;if(!V.fromCache){const z=T.us.get(U),J=z.snapshotVersion,Y=z.withLastLimboFreeSnapshotVersion(J);T.us=T.us.insert(U,Y)}}}(s.localStore,c))}async function TI(i,e){const n=me(i);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const s=await Jg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(y=>{y.reject(new ce(K.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ha(n,s.Ts)}}function II(i,e){const n=me(i),s=n.Ba.get(e);if(s&&s.Fa)return we().add(s.key);{let a=we();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function my(i){const e=me(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=II.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_I.bind(null,e),e.Ma.R_=sI.bind(null,e.eventManager),e.Ma.Wa=oI.bind(null,e.eventManager),e}function SI(i){const e=me(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EI.bind(null,e),e}class Gl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return C0(this.persistence,new A0,e.initialUser,this.serializer)}ja(e){return new Yg($h.ei,this.serializer)}za(e){return new L0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gl.provider={build:()=>new Gl};class AI extends Gl{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Oe(this.persistence.referenceDelegate instanceof Kl);const s=this.persistence.referenceDelegate.garbageCollector;return new c0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new Yg(s=>Kl.ei(s,n),this.serializer)}}class wh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>wm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=TI.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nI}()}createDatastore(e){const n=uu(e.databaseInfo.databaseId),s=function(c){return new U0(c)}(e.databaseInfo);return function(c,f,m,y){return new B0(c,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new $0(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>wm(this.syncEngine,n,0),function(){return gm.p()?new gm:new O0}())}createSyncEngine(e,n){return function(a,c,f,m,y,v,T){const V=new hI(a,c,f,m,y,v);return T&&(V.$a=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=me(a);ee("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ca(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}wh.provider={build:()=>new wh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=xt.UNAUTHENTICATED,this.clientId=_g.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ee("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ee("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Xh(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Zc(i,e){i.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Jg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Im(i,e){i.asyncQueue.verifyOperationInProgress();const n=await PI(i);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>ym(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>ym(e.remoteStore,a)),i._onlineComponents=e}async function PI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zc(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===K.FAILED_PRECONDITION||a.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Ms("Error using user provided cache. Falling back to memory cache: "+n),await Zc(i,new Gl)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Zc(i,new AI(void 0));return i._offlineComponents}async function gy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await Im(i,i._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await Im(i,new wh))),i._onlineComponents}function kI(i){return gy(i).then(e=>e.syncEngine)}async function VI(i){const e=await gy(i),n=e.eventManager;return n.onListen=fI.bind(null,e.syncEngine),n.onUnlisten=mI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gI.bind(null,e.syncEngine),n}function DI(i,e,n={}){const s=new Hr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,y,v){const T=new RI({next:U=>{T.eu(),f.enqueueAndForget(()=>iI(c,V));const z=U.docs.has(m);!z&&U.fromCache?v.reject(new ce(K.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&U.fromCache&&y&&y.source==="server"?v.reject(new ce(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(U)},error:U=>v.reject(U)}),V=new aI(Fh(m.path),T,{includeMetadataChanges:!0,ua:!0});return rI(c,V)}(await VI(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(i,e,n){if(!n)throw new ce(K.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function NI(i,e,n,s){if(e===!0&&s===!0)throw new ce(K.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Am(i){if(!he.isDocumentKey(i))throw new ce(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Zh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":de()}function oa(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ce(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zh(i);throw new ce(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ce(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ce(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new bw;switch(s.type){case"firstParty":return new $w(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Sm.get(n);s&&(ee("ComponentProvider","Removing Datastore"),Sm.delete(n),s.terminate())}(this),Promise.resolve()}}function LI(i,e,n,s={}){var a;const c=(i=oa(i,ef))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Ms("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,y;if(typeof s.mockUserToken=="string")m=s.mockUserToken,y=xt.MOCK_USER;else{m=Z_(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ce(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new xt(v)}i._authCredentials=new zw(new yg(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new tf(this.firestore,e,this._query)}}class mn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class aa extends tf{constructor(e,n,s){super(e,n,Fh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new he(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function Cm(i,e,...n){if(i=Jo(i),arguments.length===1&&(e=_g.newId()),xI("doc","path",e),i instanceof ef){const s=Ge.fromString(e,...n);return Am(s),new mn(i,null,new he(s))}{if(!(i instanceof mn||i instanceof aa))throw new ce(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return Am(s),new mn(i.firestore,i instanceof aa?i.converter:null,new he(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ey(this,"async_queue_retry"),this.fu=()=>{const s=Jc();s&&ee("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=Jc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=Jc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Hr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Hs(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw mr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Gh.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class nf extends ef{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Pm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Pm(e),this._firestoreClient=void 0,await e}}}function OI(i,e){const n=typeof i=="object"?i:cE(),s=typeof i=="string"?i:"(default)",a=Rh(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=Y_("firestore");c&&LI(a,...c)}return a}function _y(i){if(i._terminated)throw new ce(K.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||MI(i),i._firestoreClient}function MI(i){var e,n,s;const a=i._freezeSettings(),c=function(m,y,v,T){return new iT(m,y,v,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,yy(T.experimentalLongPollingOptions),T.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new CI(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const y=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(It.fromBase64String(e))}catch(n){throw new ce(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new js(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=/^__.*__$/;class UI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Mi(e,this.data,this.fieldMask,n,this.fieldTransforms):new la(e,this.data,n,this.fieldTransforms)}}function Ey(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class af{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Xl(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ey(this.Mu)&&FI.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class bI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||uu(e)}$u(e,n,s,a=!1){return new af({Mu:e,methodName:n,Ku:s,path:Tt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zI(i){const e=i._freezeSettings(),n=uu(i._databaseId);return new bI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function BI(i,e,n,s,a,c={}){const f=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Sy("Data must be an object, but it was:",f,s);const m=Ty(s,f);let y,v;if(c.merge)y=new Dn(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const V of c.mergeFields){const U=jI(e,V,n);if(!f.contains(U))throw new ce(K.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);qI(T,U)||T.push(U)}y=new Dn(T),v=f.fieldTransforms.filter(V=>y.covers(V.field))}else y=null,v=f.fieldTransforms;return new UI(new dn(m),y,v)}function wy(i,e){if(Iy(i=Jo(i)))return Sy("Unsupported field value:",e,i),Ty(i,e);if(i instanceof vy)return function(s,a){if(!Ey(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let y=wy(m,a.ku(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=Jo(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ct.fromDate(s);return{timestampValue:Wl(a.serializer,c)}}if(s instanceof ct){const c=new ct(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wl(a.serializer,c)}}if(s instanceof sf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:qg(a.serializer,s._byteString)};if(s instanceof mn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bh(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof of)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.qu("VectorValues must only contain numeric values.");return Uh(m.serializer,y)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${Zh(s)}`)}(i,e)}function Ty(i,e){const n={};return vg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(i,(s,a)=>{const c=wy(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Iy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ct||i instanceof sf||i instanceof js||i instanceof mn||i instanceof vy||i instanceof of)}function Sy(i,e,n){if(!Iy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Zh(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function jI(i,e,n){if((e=Jo(e))instanceof rf)return e._internalPath;if(typeof e=="string")return Ay(i,e);throw Xl("Field path arguments must be of type string or ",i,!1,void 0,n)}const $I=new RegExp("[~\\*/\\[\\]]");function Ay(i,e,n){if(e.search($I)>=0)throw Xl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw Xl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Xl(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${s}`),f&&(y+=` in document ${a}`),y+=")"),new ce(K.INVALID_ARGUMENT,m+i+y)}function qI(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new HI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cy("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HI extends Ry{data(){return super.data()}}function Cy(i,e){return typeof e=="string"?Ay(i,e):e instanceof rf?e._internalPath:e._delegate._internalPath}class WI{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Li(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>et(f.doubleValue));return new of(c)}convertGeoPoint(e){return new sf(et(e.latitude),et(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=nu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ta(e));default:return null}}convertTimestamp(e){const n=Qr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ge.fromString(e);Oe(Xg(s));const a=new na(s.get(1),s.get(3)),c=new he(s.popFirst(5));return a.isEqual(n)||mr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Py extends Ry{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new GI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Cy("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class GI extends Py{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i){i=oa(i,mn);const e=oa(i.firestore,nf);return DI(_y(e),i._key).then(n=>eS(e,i,n))}class YI extends WI{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function JI(i,e,n){i=oa(i,mn);const s=oa(i.firestore,nf),a=KI(i.converter,e);return ZI(s,[BI(zI(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,fr.none())])}function ZI(i,e){return function(s,a){const c=new Hr;return s.asyncQueue.enqueueAndForget(async()=>yI(await kI(s),a,c)),c.promise}(_y(i),e)}function eS(i,e,n){const s=n.docs.get(e._key),a=new YI(i);return new Py(i,a,e._key,s,new QI(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){$s=a})(uE),Wr(new dr("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new nf(new Bw(s.getProvider("auth-internal")),new Hw(s.getProvider("app-check-internal")),function(v,T){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ce(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new na(v.options.projectId,T)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),$n(Hp,"4.7.5",e),$n(Hp,"4.7.5","esm2017")})();const tS={apiKey:"AIzaSyClsQXK71-2aX0fG2YSh4C_aWf42WuDIiA",authDomain:"expensetracker-578ef.firebaseapp.com",projectId:"expensetracker-578ef",storageBucket:"expensetracker-578ef.firebasestorage.app",messagingSenderId:"97675828426",appId:"1:97675828426:web:e05ff088069f9dacf46833",measurementId:"G-M7L1Z8VLGH"},nS=zm(tS),km=OI(nS),Vm={:1e3,:1e3,:1e3,:1e3,:1e3},eh={:"#FF6B6B",:"#4ECDC4",:"#45B7D1",:"#FFD700",:"#FF8C00"},rS="#2E1A47";function iS(){const[i,e]=$o.useState(Vm),[n,s]=$o.useState(null),[a,c]=$o.useState("");$o.useEffect(()=>{(async()=>{const T=Cm(km,"balances","expenseData"),V=await XI(T);V.exists()&&e(V.data())})()},[]);const f=async v=>{const T=Cm(km,"balances","expenseData");await JI(T,v)},m=v=>{s(v)},y=async v=>{if(v.preventDefault(),n&&a){const T=Number(a);if(!isNaN(T)&&T>0){const V={...i,[n]:Math.max(0,i[n]-T)};e(V),console.log("Updated Balances:",V),await f(V),c(""),s(null)}}};return Object.entries(i).map(([v,T])=>({name:v,value:T})),Wt.jsxs("div",{className:"App",style:{backgroundColor:rS,minHeight:"100vh",padding:"20px"},children:[Wt.jsx("h1",{style:{textAlign:"center",fontSize:"2.8em",color:"#fff",marginBottom:"40px",fontFamily:'"Segoe UI", sans-serif',letterSpacing:"1px"},children:"Expense Tracker"}),Wt.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"40px",flexWrap:"wrap"},children:Object.keys(i).map(v=>Wt.jsx("button",{onClick:()=>m(v),style:{margin:"8px",padding:"12px 24px",backgroundColor:n===v?eh[v]:"#E8E8E8",border:"none",borderRadius:"12px",cursor:"pointer",transition:"background-color 0.3s ease, transform 0.2s ease",fontSize:"1.1em",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:v},v))}),Wt.jsxs("form",{onSubmit:y,style:{display:"flex",justifyContent:"center",marginBottom:"300px",flexDirection:"column",alignItems:"center"},children:[Wt.jsx("input",{type:"number",value:a,onChange:v=>c(v.target.value),placeholder:"Enter amount",style:{padding:"12px",fontSize:"1.1em",marginBottom:"15px",borderRadius:"8px",border:"1px solid #ccc",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",width:"220px",transition:"border-color 0.3s ease"}}),Wt.jsx("button",{type:"submit",disabled:!n||!a,style:{padding:"12px 24px",backgroundColor:"#4ECDC4",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"1.1em",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",color:"#fff",transition:"background-color 0.3s ease, transform 0.2s ease"},children:"Subtract Expense"})]}),Wt.jsx("div",{style:{textAlign:"center",marginBottom:"40px"},children:Object.entries(i).map(([v,T])=>{const V=Vm[v],U=T/V*100;return Wt.jsxs("div",{style:{margin:"20px 0"},children:[Wt.jsxs("span",{style:{color:eh[v],fontWeight:"bold",fontSize:"1.3em",marginBottom:"5px",display:"inline-block",textTransform:"capitalize"},children:[v,": ",T]}),Wt.jsx("div",{style:{height:"15px",width:"100%",backgroundColor:"#e0e0e0",borderRadius:"10px",marginTop:"20px"},children:Wt.jsx("div",{style:{height:"100%",width:`${U}%`,backgroundColor:eh[v],borderRadius:"10px",transition:"width 0.5s ease"}})})]},v)})})]})}B_.createRoot(document.getElementById("root")).render(Wt.jsx(L_.StrictMode,{children:Wt.jsx(iS,{})}));
